import{g as KP}from"./index.web-eWGKWUCw.js";function qP(os,ss){for(var rr=0;rr<ss.length;rr++){const Fi=ss[rr];if(typeof Fi!="string"&&!Array.isArray(Fi)){for(const O in Fi)if(O!=="default"&&!(O in os)){const jr=Object.getOwnPropertyDescriptor(Fi,O);jr&&Object.defineProperty(os,O,jr.get?jr:{enumerable:!0,get:()=>Fi[O]})}}}return Object.freeze(Object.defineProperty(os,Symbol.toStringTag,{value:"Module"}))}var Kg={};/*
 @license
 Shaka Player
 Copyright 2016 Google LLC
 SPDX-License-Identifier: Apache-2.0
*/(function(os){(function(){var ss=window,rr={};(function(O,jr,Vc){var f;function qg(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}var Ha=typeof Object.defineProperties=="function"?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};function kA(e){e=[typeof globalThis=="object"&&globalThis,e,typeof O=="object"&&O,typeof self=="object"&&self,typeof jr=="object"&&jr];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}var ai=kA(this);function Me(e,t){if(t)e:{var n=ai;e=e.split(".");for(var i=0;i<e.length-1;i++){var r=e[i];if(!(r in n))break e;n=n[r]}e=e[e.length-1],i=n[e],t=t(i),t!=i&&t!=null&&Ha(n,e,{configurable:!0,writable:!0,value:t})}}Me("Symbol",function(e){function t(o){if(this instanceof t)throw new TypeError("Symbol is not a constructor");return new n(i+(o||"")+"_"+r++,o)}function n(o,s){this.g=o,Ha(this,"description",{configurable:!0,writable:!0,value:s})}if(e)return e;n.prototype.toString=function(){return this.g};var i="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",r=0;return t}),Me("Symbol.iterator",function(e){if(e)return e;e=Symbol("Symbol.iterator");for(var t="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),n=0;n<t.length;n++){var i=ai[t[n]];typeof i=="function"&&typeof i.prototype[e]!="function"&&Ha(i.prototype,e,{configurable:!0,writable:!0,value:function(){return Wg(qg(this))}})}return e});function Wg(e){return e={next:e},e[Symbol.iterator]=function(){return this},e}function g(e){var t=typeof Symbol<"u"&&Symbol.iterator&&e[Symbol.iterator];if(t)return t.call(e);if(typeof e.length=="number")return{next:qg(e)};throw Error(String(e)+" is not an iterable or ArrayLike")}function X(e){if(!(e instanceof Array)){e=g(e);for(var t,n=[];!(t=e.next()).done;)n.push(t.value);e=n}return e}var RA=typeof Object.create=="function"?Object.create:function(e){function t(){}return t.prototype=e,new t},Hc;if(typeof Object.setPrototypeOf=="function")Hc=Object.setPrototypeOf;else{var zc;e:{var LA={a:!0},Xg={};try{Xg.__proto__=LA,zc=Xg.a;break e}catch{}zc=!1}Hc=zc?function(e,t){if(e.__proto__=t,e.__proto__!==t)throw new TypeError(e+" is not extensible");return e}:null}var Yg=Hc;function pe(e,t){if(e.prototype=RA(t.prototype),e.prototype.constructor=e,Yg)Yg(e,t);else for(var n in t)if(n!="prototype")if(Object.defineProperties){var i=Object.getOwnPropertyDescriptor(t,n);i&&Object.defineProperty(e,n,i)}else e[n]=t[n];e.fm=t.prototype}function za(){this.o=!1,this.l=null,this.h=void 0,this.g=1,this.j=this.m=0,this.A=this.i=null}function Kc(e){if(e.o)throw new TypeError("Generator is already running");e.o=!0}za.prototype.u=function(e){this.h=e};function qc(e,t){e.i={Eh:t,Ph:!0},e.g=e.m||e.j}za.prototype.return=function(e){this.i={return:e},this.g=this.j};function T(e,t,n){return e.g=n,{value:t}}za.prototype.B=function(e){this.g=e};function H(e){e.g=0}function Z(e,t,n){e.m=t,n!=null&&(e.j=n)}function ui(e,t){e.m=0,e.j=t||0}function he(e,t,n){e.g=t,e.m=n||0}function ee(e,t){return e.m=t||0,t=e.i.Eh,e.i=null,t}function Zt(e){e.A=[e.i],e.m=0,e.j=0}function en(e,t){var n=e.A.splice(0)[0];(n=e.i=e.i||n)?n.Ph?e.g=e.m||e.j:n.B!=null&&e.j<n.B?(e.g=n.B,e.i=null):e.g=e.j:e.g=t}function PA(e){this.g=new za,this.h=e}function DA(e,t){Kc(e.g);var n=e.g.l;return n?Wc(e,"return"in n?n.return:function(i){return{value:i,done:!0}},t,e.g.return):(e.g.return(t),as(e))}function Wc(e,t,n,i){try{var r=t.call(e.g.l,n);if(!(r instanceof Object))throw new TypeError("Iterator result "+r+" is not an object");if(!r.done)return e.g.o=!1,r;var o=r.value}catch(s){return e.g.l=null,qc(e.g,s),as(e)}return e.g.l=null,i.call(e.g,o),as(e)}function as(e){for(;e.g.g;)try{var t=e.h(e.g);if(t)return e.g.o=!1,{value:t.value,done:!1}}catch(n){e.g.h=void 0,qc(e.g,n)}if(e.g.o=!1,e.g.i){if(t=e.g.i,e.g.i=null,t.Ph)throw t.Eh;return{value:t.return,done:!0}}return{value:void 0,done:!0}}function NA(e){this.next=function(t){return Kc(e.g),e.g.l?t=Wc(e,e.g.l.next,t,e.g.u):(e.g.u(t),t=as(e)),t},this.throw=function(t){return Kc(e.g),e.g.l?t=Wc(e,e.g.l.throw,t,e.g.u):(qc(e.g,t),t=as(e)),t},this.return=function(t){return DA(e,t)},this[Symbol.iterator]=function(){return this}}function _A(e){function t(i){return e.next(i)}function n(i){return e.throw(i)}return new Promise(function(i,r){function o(s){s.done?i(s.value):Promise.resolve(s.value).then(t,n).then(o,r)}o(e.next())})}function k(e){return _A(new NA(new PA(e)))}function In(){for(var e=Number(this),t=[],n=e;n<arguments.length;n++)t[n-e]=arguments[n];return t}Me("Promise",function(e){function t(s){this.h=0,this.i=void 0,this.g=[],this.o=!1;var a=this.j();try{s(a.resolve,a.reject)}catch(u){a.reject(u)}}function n(){this.g=null}function i(s){return s instanceof t?s:new t(function(a){a(s)})}if(e)return e;n.prototype.h=function(s){if(this.g==null){this.g=[];var a=this;this.i(function(){a.l()})}this.g.push(s)};var r=ai.setTimeout;n.prototype.i=function(s){r(s,0)},n.prototype.l=function(){for(;this.g&&this.g.length;){var s=this.g;this.g=[];for(var a=0;a<s.length;++a){var u=s[a];s[a]=null;try{u()}catch(l){this.j(l)}}}this.g=null},n.prototype.j=function(s){this.i(function(){throw s})},t.prototype.j=function(){function s(l){return function(c){u||(u=!0,l.call(a,c))}}var a=this,u=!1;return{resolve:s(this.H),reject:s(this.l)}},t.prototype.H=function(s){if(s===this)this.l(new TypeError("A Promise cannot resolve to itself"));else if(s instanceof t)this.J(s);else{e:switch(typeof s){case"object":var a=s!=null;break e;case"function":a=!0;break e;default:a=!1}a?this.G(s):this.m(s)}},t.prototype.G=function(s){var a=void 0;try{a=s.then}catch(u){this.l(u);return}typeof a=="function"?this.K(a,s):this.m(s)},t.prototype.l=function(s){this.u(2,s)},t.prototype.m=function(s){this.u(1,s)},t.prototype.u=function(s,a){if(this.h!=0)throw Error("Cannot settle("+s+", "+a+"): Promise already settled in state"+this.h);this.h=s,this.i=a,this.h===2&&this.I(),this.A()},t.prototype.I=function(){var s=this;r(function(){if(s.C()){var a=ai.console;typeof a<"u"&&a.error(s.i)}},1)},t.prototype.C=function(){if(this.o)return!1;var s=ai.CustomEvent,a=ai.Event,u=ai.dispatchEvent;return typeof u>"u"?!0:(typeof s=="function"?s=new s("unhandledrejection",{cancelable:!0}):typeof a=="function"?s=new a("unhandledrejection",{cancelable:!0}):(s=ai.document.createEvent("CustomEvent"),s.initCustomEvent("unhandledrejection",!1,!0,s)),s.promise=this,s.reason=this.i,u(s))},t.prototype.A=function(){if(this.g!=null){for(var s=0;s<this.g.length;++s)o.h(this.g[s]);this.g=null}};var o=new n;return t.prototype.J=function(s){var a=this.j();s.qe(a.resolve,a.reject)},t.prototype.K=function(s,a){var u=this.j();try{s.call(a,u.resolve,u.reject)}catch(l){u.reject(l)}},t.prototype.then=function(s,a){function u(d,p){return typeof d=="function"?function(m){try{l(d(m))}catch(v){c(v)}}:p}var l,c,h=new t(function(d,p){l=d,c=p});return this.qe(u(s,l),u(a,c)),h},t.prototype.catch=function(s){return this.then(void 0,s)},t.prototype.qe=function(s,a){function u(){switch(l.h){case 1:s(l.i);break;case 2:a(l.i);break;default:throw Error("Unexpected state: "+l.h)}}var l=this;this.g==null?o.h(u):this.g.push(u),this.o=!0},t.resolve=i,t.reject=function(s){return new t(function(a,u){u(s)})},t.race=function(s){return new t(function(a,u){for(var l=g(s),c=l.next();!c.done;c=l.next())i(c.value).qe(a,u)})},t.all=function(s){var a=g(s),u=a.next();return u.done?i([]):new t(function(l,c){function h(m){return function(v){d[m]=v,p--,p==0&&l(d)}}var d=[],p=0;do d.push(void 0),p++,i(u.value).qe(h(d.length-1),c),u=a.next();while(!u.done)})},t});function Bn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}Me("WeakMap",function(e){function t(u){if(this.g=(a+=Math.random()+1).toString(),u){u=g(u);for(var l;!(l=u.next()).done;)l=l.value,this.set(l[0],l[1])}}function n(){}function i(u){var l=typeof u;return l==="object"&&u!==null||l==="function"}function r(u){if(!Bn(u,s)){var l=new n;Ha(u,s,{value:l})}}function o(u){var l=Object[u];l&&(Object[u]=function(c){return c instanceof n?c:(Object.isExtensible(c)&&r(c),l(c))})}if(function(){if(!e||!Object.seal)return!1;try{var u=Object.seal({}),l=Object.seal({}),c=new e([[u,2],[l,3]]);return c.get(u)!=2||c.get(l)!=3?!1:(c.delete(u),c.set(l,4),!c.has(u)&&c.get(l)==4)}catch{return!1}}())return e;var s="$jscomp_hidden_"+Math.random();o("freeze"),o("preventExtensions"),o("seal");var a=0;return t.prototype.set=function(u,l){if(!i(u))throw Error("Invalid WeakMap key");if(r(u),!Bn(u,s))throw Error("WeakMap key fail: "+u);return u[s][this.g]=l,this},t.prototype.get=function(u){return i(u)&&Bn(u,s)?u[s][this.g]:void 0},t.prototype.has=function(u){return i(u)&&Bn(u,s)&&Bn(u[s],this.g)},t.prototype.delete=function(u){return i(u)&&Bn(u,s)&&Bn(u[s],this.g)?delete u[s][this.g]:!1},t}),Me("Map",function(e){function t(){var a={};return a.jc=a.next=a.head=a}function n(a,u){var l=a[1];return Wg(function(){if(l){for(;l.head!=a[1];)l=l.jc;for(;l.next!=l.head;)return l=l.next,{done:!1,value:u(l)};l=null}return{done:!0,value:void 0}})}function i(a,u){var l=u&&typeof u;l=="object"||l=="function"?o.has(u)?l=o.get(u):(l=""+ ++s,o.set(u,l)):l="p_"+u;var c=a[0][l];if(c&&Bn(a[0],l))for(a=0;a<c.length;a++){var h=c[a];if(u!==u&&h.key!==h.key||u===h.key)return{id:l,list:c,index:a,entry:h}}return{id:l,list:c,index:-1,entry:void 0}}function r(a){if(this[0]={},this[1]=t(),this.size=0,a){a=g(a);for(var u;!(u=a.next()).done;)u=u.value,this.set(u[0],u[1])}}if(function(){if(!e||typeof e!="function"||!e.prototype.entries||typeof Object.seal!="function")return!1;try{var a=Object.seal({x:4}),u=new e(g([[a,"s"]]));if(u.get(a)!="s"||u.size!=1||u.get({x:4})||u.set({x:4},"t")!=u||u.size!=2)return!1;var l=u.entries(),c=l.next();return c.done||c.value[0]!=a||c.value[1]!="s"?!1:(c=l.next(),!(c.done||c.value[0].x!=4||c.value[1]!="t"||!l.next().done))}catch{return!1}}())return e;var o=new WeakMap;r.prototype.set=function(a,u){a=a===0?0:a;var l=i(this,a);return l.list||(l.list=this[0][l.id]=[]),l.entry?l.entry.value=u:(l.entry={next:this[1],jc:this[1].jc,head:this[1],key:a,value:u},l.list.push(l.entry),this[1].jc.next=l.entry,this[1].jc=l.entry,this.size++),this},r.prototype.delete=function(a){return a=i(this,a),a.entry&&a.list?(a.list.splice(a.index,1),a.list.length||delete this[0][a.id],a.entry.jc.next=a.entry.next,a.entry.next.jc=a.entry.jc,a.entry.head=null,this.size--,!0):!1},r.prototype.clear=function(){this[0]={},this[1]=this[1].jc=t(),this.size=0},r.prototype.has=function(a){return!!i(this,a).entry},r.prototype.get=function(a){return(a=i(this,a).entry)&&a.value},r.prototype.entries=function(){return n(this,function(a){return[a.key,a.value]})},r.prototype.keys=function(){return n(this,function(a){return a.key})},r.prototype.values=function(){return n(this,function(a){return a.value})},r.prototype.forEach=function(a,u){for(var l=this.entries(),c;!(c=l.next()).done;)c=c.value,a.call(u,c[1],c[0],this)},r.prototype[Symbol.iterator]=r.prototype.entries;var s=0;return r});function Xc(e,t){e instanceof String&&(e+="");var n=0,i=!1,r={next:function(){if(!i&&n<e.length){var o=n++;return{value:t(o,e[o]),done:!1}}return i=!0,{done:!0,value:void 0}}};return r[Symbol.iterator]=function(){return r},r}Me("Array.prototype.keys",function(e){return e||function(){return Xc(this,function(t){return t})}}),Me("Set",function(e){function t(n){if(this.g=new Map,n){n=g(n);for(var i;!(i=n.next()).done;)this.add(i.value)}this.size=this.g.size}return function(){if(!e||typeof e!="function"||!e.prototype.entries||typeof Object.seal!="function")return!1;try{var n=Object.seal({x:4}),i=new e(g([n]));if(!i.has(n)||i.size!=1||i.add(n)!=i||i.size!=1||i.add({x:4})!=i||i.size!=2)return!1;var r=i.entries(),o=r.next();return o.done||o.value[0]!=n||o.value[1]!=n?!1:(o=r.next(),o.done||o.value[0]==n||o.value[0].x!=4||o.value[1]!=o.value[0]?!1:r.next().done)}catch{return!1}}()?e:(t.prototype.add=function(n){return n=n===0?0:n,this.g.set(n,n),this.size=this.g.size,this},t.prototype.delete=function(n){return n=this.g.delete(n),this.size=this.g.size,n},t.prototype.clear=function(){this.g.clear(),this.size=0},t.prototype.has=function(n){return this.g.has(n)},t.prototype.entries=function(){return this.g.entries()},t.prototype.values=function(){return this.g.values()},t.prototype.keys=t.prototype.values,t.prototype[Symbol.iterator]=t.prototype.values,t.prototype.forEach=function(n,i){var r=this;this.g.forEach(function(o){return n.call(i,o,o,r)})},t)}),Me("Array.from",function(e){return e||function(t,n,i){n=n??function(a){return a};var r=[],o=typeof Symbol<"u"&&Symbol.iterator&&t[Symbol.iterator];if(typeof o=="function"){t=o.call(t);for(var s=0;!(o=t.next()).done;)r.push(n.call(i,o.value,s++))}else for(o=t.length,s=0;s<o;s++)r.push(n.call(i,t[s],s));return r}}),Me("Array.prototype.values",function(e){return e||function(){return Xc(this,function(t,n){return n})}}),Me("Object.is",function(e){return e||function(t,n){return t===n?t!==0||1/t===1/n:t!==t&&n!==n}}),Me("Array.prototype.includes",function(e){return e||function(t,n){var i=this;i instanceof String&&(i=String(i));var r=i.length;for(n=n||0,0>n&&(n=Math.max(n+r,0));n<r;n++){var o=i[n];if(o===t||Object.is(o,t))return!0}return!1}});function Ka(e,t,n){if(e==null)throw new TypeError("The 'this' value for String.prototype."+n+" must not be null or undefined");if(t instanceof RegExp)throw new TypeError("First argument to String.prototype."+n+" must not be a regular expression");return e+""}Me("String.prototype.includes",function(e){return e||function(t,n){return Ka(this,t,"includes").indexOf(t,n||0)!==-1}}),Me("String.fromCodePoint",function(e){return e||function(t){for(var n="",i=0;i<arguments.length;i++){var r=Number(arguments[i]);if(0>r||1114111<r||r!==Math.floor(r))throw new RangeError("invalid_code_point "+r);65535>=r?n+=String.fromCharCode(r):(r-=65536,n+=String.fromCharCode(r>>>10&1023|55296),n+=String.fromCharCode(r&1023|56320))}return n}});function $g(e,t,n){e instanceof String&&(e=String(e));for(var i=e.length,r=0;r<i;r++){var o=e[r];if(t.call(n,o,r,e))return{Nh:r,v:o}}return{Nh:-1,v:void 0}}Me("Array.prototype.findIndex",function(e){return e||function(t,n){return $g(this,t,n).Nh}}),Me("WeakSet",function(e){function t(n){if(this.g=new WeakMap,n){n=g(n);for(var i;!(i=n.next()).done;)this.add(i.value)}}return function(){if(!e||!Object.seal)return!1;try{var n=Object.seal({}),i=Object.seal({}),r=new e([n]);return!r.has(n)||r.has(i)?!1:(r.delete(n),r.add(i),!r.has(n)&&r.has(i))}catch{return!1}}()?e:(t.prototype.add=function(n){return this.g.set(n,!0),this},t.prototype.has=function(n){return this.g.has(n)},t.prototype.delete=function(n){return this.g.delete(n)},t)}),Me("Array.prototype.find",function(e){return e||function(t,n){return $g(this,t,n).v}}),Me("String.prototype.startsWith",function(e){return e||function(t,n){var i=Ka(this,t,"startsWith"),r=i.length,o=t.length;n=Math.max(0,Math.min(n|0,i.length));for(var s=0;s<o&&n<r;)if(i[n++]!=t[s++])return!1;return s>=o}}),Me("Object.entries",function(e){return e||function(t){var n=[],i;for(i in t)Bn(t,i)&&n.push([i,t[i]]);return n}});var UA=typeof Object.assign=="function"?Object.assign:function(e,t){for(var n=1;n<arguments.length;n++){var i=arguments[n];if(i)for(var r in i)Bn(i,r)&&(e[r]=i[r])}return e};Me("Object.assign",function(e){return e||UA}),Me("Promise.prototype.finally",function(e){return e||function(t){return this.then(function(n){return Promise.resolve(t()).then(function(){return n})},function(n){return Promise.resolve(t()).then(function(){throw n})})}}),Me("Array.prototype.entries",function(e){return e||function(){return Xc(this,function(t,n){return[t,n]})}}),Me("Number.isNaN",function(e){return e||function(t){return typeof t=="number"&&isNaN(t)}}),Me("String.prototype.repeat",function(e){return e||function(t){var n=Ka(this,null,"repeat");if(0>t||1342177279<t)throw new RangeError("Invalid count value");t|=0;for(var i="";t;)t&1&&(i+=n),(t>>>=1)&&(n+=n);return i}}),Me("Number.isFinite",function(e){return e||function(t){return typeof t!="number"?!1:!isNaN(t)&&t!==1/0&&t!==-1/0}}),Me("Object.values",function(e){return e||function(t){var n=[],i;for(i in t)Bn(t,i)&&n.push(t[i]);return n}}),Me("Math.log2",function(e){return e||function(t){return Math.log(t)/Math.LN2}}),Me("Number.MAX_SAFE_INTEGER",function(){return 9007199254740991}),Me("String.prototype.endsWith",function(e){return e||function(t,n){var i=Ka(this,t,"endsWith");n===void 0&&(n=i.length),n=Math.max(0,Math.min(n|0,i.length));for(var r=t.length;0<r&&0<n;)if(i[--n]!=t[--r])return!1;return 0>=r}}),Me("Math.trunc",function(e){return e||function(t){if(t=Number(t),isNaN(t)||t===1/0||t===-1/0||t===0)return t;var n=Math.floor(Math.abs(t));return 0>t?-n:n}});function Yc(e){if(e=Math.trunc(e)||0,0>e&&(e+=this.length),!(0>e||e>=this.length))return this[e]}Me("Array.prototype.at",function(e){return e||Yc});function li(e){return e||Yc}Me("Int8Array.prototype.at",li),Me("Uint8Array.prototype.at",li),Me("Uint8ClampedArray.prototype.at",li),Me("Int16Array.prototype.at",li),Me("Uint16Array.prototype.at",li),Me("Int32Array.prototype.at",li),Me("Uint32Array.prototype.at",li),Me("Float32Array.prototype.at",li),Me("Float64Array.prototype.at",li),Me("String.prototype.at",function(e){return e||Yc});var OA=this||self;function G(e,t){e=e.split(".");var n=OA;e[0]in n||typeof n.execScript>"u"||n.execScript("var "+e[0]);for(var i;e.length&&(i=e.shift());)e.length||t===void 0?n[i]&&n[i]!==Object.prototype[i]?n=n[i]:n=n[i]={}:n[i]=t}/*
 @license
 Shaka Player
 Copyright 2016 Google LLC
 SPDX-License-Identifier: Apache-2.0
*/function jA(){}function bA(){}function V(e,t){if(t)if(t instanceof Map)for(var n=g(t.keys()),i=n.next();!i.done;i=n.next())i=i.value,Object.defineProperty(this,i,{value:t.get(i),writable:!0,enumerable:!0});else for(n in t)Object.defineProperty(this,n,{value:t[n],writable:!0,enumerable:!0});this.defaultPrevented=this.cancelable=this.bubbles=!1,this.timeStamp=O.performance&&O.performance.now?O.performance.now():Date.now(),this.type=e,this.isTrusted=!1,this.target=this.currentTarget=null,this.g=!1}function Jg(e){var t=new V(e.type),n;for(n in e)Object.defineProperty(t,n,{value:e[n],writable:!0,enumerable:!0});return t}V.prototype.preventDefault=function(){this.cancelable&&(this.defaultPrevented=!0)},V.prototype.stopImmediatePropagation=function(){this.g=!0},V.prototype.stopPropagation=function(){},G("shaka.util.FakeEvent",V);var qa={Vk:"abrstatuschanged",Wk:"adaptation",Xk:"audiotrackchanged",Yk:"buffering",Zk:"complete",$k:"downloadfailed",al:"downloadheadersreceived",cl:"drmsessionupdate",hl:"emsg",Gl:"prft",Error:"error",il:"expirationupdated",jl:"firstquartile",kl:"gapjumped",ql:"keystatuschanged",wl:"loaded",xl:"loading",zl:"manifestparsed",Al:"manifestupdated",Bl:"mediaqualitychanged",Cl:"mediasourcerecovered",Metadata:"metadata",Dl:"midpoint",El:"nospatialvideoinfo",Fl:"onstatechange",Hl:"ratechange",Jl:"segmentappended",Kl:"sessiondata",Ll:"spatialvideoinfo",Ml:"stalldetected",Nl:"started",Ol:"statechanged",Pl:"streaming",Ql:"textchanged",Rl:"texttrackvisibility",Sl:"thirdquartile",Tl:"timelineregionadded",Ul:"timelineregionenter",Vl:"timelineregionexit",Wl:"trackschanged",Yl:"unloading",$l:"variantchanged"};function FA(){}function ci(){}function de(){}function or(e){var t=In.apply(1,arguments);Qg.has(e)||(Qg.add(e),de.apply(FA,X(t)))}function BA(){}function XP(){}function YP(){}var Qg=new Set;O.console&&(de=function(){return console.warn.apply(console,X(In.apply(0,arguments)))},ci=function(){console.error.apply(console,X(In.apply(0,arguments)))});function Wa(){this.g={}}f=Wa.prototype,f.push=function(e,t){this.g.hasOwnProperty(e)?this.g[e].push(t):this.g[e]=[t]},f.get=function(e){return(e=this.g[e])?e.slice():null},f.remove=function(e,t){e in this.g&&(this.g[e]=this.g[e].filter(function(n){return n!=t}),this.g[e].length==0&&delete this.g[e])},f.forEach=function(e){for(var t in this.g)e(t,this.g[t])},f.size=function(){return Object.keys(this.g).length},f.keys=function(){return Object.keys(this.g)};function Se(){this.Ca=new Wa,this.fe=this}Se.prototype.addEventListener=function(e,t){this.Ca&&this.Ca.push(e,t)},Se.prototype.removeEventListener=function(e,t){this.Ca&&this.Ca.remove(e,t)},Se.prototype.dispatchEvent=function(e){if(!this.Ca)return!0;var t=this.Ca.get(e.type)||[],n=this.Ca.get("All");for(n&&(t=t.concat(n)),t=g(t),n=t.next();!n.done;n=t.next()){n=n.value,e.target=this.fe,e.currentTarget=this.fe;try{n.handleEvent?n.handleEvent(e):n.call(this,e)}catch{}if(e.g)break}return e.defaultPrevented},Se.prototype.release=function(){this.Ca=null};function $c(e,t){var n=[];e=g(e);for(var i=e.next();!i.done;i=e.next())n.push(t(i.value));return n}function GA(e,t){e=g(e);for(var n=e.next();!n.done;n=e.next())if(!t(n.value))return!1;return!0}function Zg(e,t){e=g(e);for(var n=e.next();!n.done;n=e.next())if(t(n.value))return!0;return!1}function br(e,t){var n=[];e=g(e);for(var i=e.next();!i.done;i=e.next())i=i.value,t(i)&&n.push(i);return n}/*
 @license
 Copyright 2008 The Closure Library Authors
 SPDX-License-Identifier: Apache-2.0
*/var VA=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$");/*
 @license
 Copyright 2006 The Closure Library Authors
 SPDX-License-Identifier: Apache-2.0
*/function $e(e){var t;e instanceof $e?(Xa(this,e.Yb),this.Zc=e.Zc,Ya(this,e.bc),Jc(this,e.td),this.mb=e.mb,sr(this,e.g.clone()),this.Ic=e.Ic):e&&(t=String(e).match(VA))?(Xa(this,t[1]||"",!0),this.Zc=us(t[2]||""),Ya(this,t[3]||"",!0),Jc(this,t[4]),this.mb=us(t[5]||"",!0),sr(this,t[6]||"",!0),this.Ic=us(t[7]||"")):this.g=new Fr(null)}f=$e.prototype,f.Yb="",f.Zc="",f.bc="",f.td=null,f.mb="",f.Ic="",f.toString=function(){var e=[],t=this.Yb;if(t&&e.push(ls(t,em,!0),":"),t=this.bc){e.push("//");var n=this.Zc;n&&e.push(ls(n,em,!0),"@"),e.push(encodeURIComponent(t).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t=this.td,t!=null&&e.push(":",String(t))}return(t=this.mb)&&(this.bc&&t.charAt(0)!="/"&&e.push("/"),e.push(ls(t,t.charAt(0)=="/"?KA:zA,!0))),(t=this.g.toString())&&e.push("?",t),(t=this.Ic)&&e.push("#",ls(t,WA)),e.join("")},f.resolve=function(e){var t=this.clone();t.Yb==="data"&&(t=new $e);var n=!!e.Yb;n?Xa(t,e.Yb):n=!!e.Zc,n?t.Zc=e.Zc:n=!!e.bc,n?Ya(t,e.bc):n=e.td!=null;var i=e.mb;if(n)Jc(t,e.td);else if(n=!!e.mb){if(i.charAt(0)!="/")if(this.bc&&!this.mb)i="/"+i;else{var r=t.mb.lastIndexOf("/");r!=-1&&(i=t.mb.substr(0,r+1)+i)}if(i==".."||i==".")i="";else if(i.indexOf("./")!=-1||i.indexOf("/.")!=-1){r=i.lastIndexOf("/",0)==0,i=i.split("/");for(var o=[],s=0;s<i.length;){var a=i[s++];a=="."?r&&s==i.length&&o.push(""):a==".."?((1<o.length||o.length==1&&o[0]!="")&&o.pop(),r&&s==i.length&&o.push("")):(o.push(a),r=!0)}i=o.join("/")}}return n?t.mb=i:n=e.g.toString()!=="",n?sr(t,e.g.clone()):n=!!e.Ic,n&&(t.Ic=e.Ic),t},f.clone=function(){return new $e(this)};function Xa(e,t,n){e.Yb=n?us(t,!0):t,e.Yb&&(e.Yb=e.Yb.replace(/:$/,""))}function Ya(e,t,n){e.bc=n?us(t,!0):t}function Jc(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.td=t}else e.td=null}function sr(e,t,n){t instanceof Fr?e.g=t:(n||(t=ls(t,qA)),e.g=new Fr(t))}function us(e,t){return e?t?decodeURI(e):decodeURIComponent(e):""}function ls(e,t,n){return e!=null?(e=encodeURI(e).replace(t,HA),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function HA(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var em=/[#\/\?@]/g,zA=/[#\?:]/g,KA=/[#\?]/g,qA=/[#\?@]/g,WA=/#/g;function Fr(e){this.g=e||null}function $a(e){if(!e.eb&&(e.eb={},e.Gd=0,e.g))for(var t=e.g.split("&"),n=0;n<t.length;n++){var i=t[n].indexOf("="),r=null;if(0<=i){var o=t[n].substring(0,i);r=t[n].substring(i+1)}else o=t[n];o=decodeURIComponent(o.replace(/\+/g," ")),r=r||"",e.add(o,decodeURIComponent(r.replace(/\+/g," ")))}}f=Fr.prototype,f.eb=null,f.Gd=null;function tm(e){return $a(e),e.Gd}f.add=function(e,t){$a(this),this.g=null;var n=this.eb.hasOwnProperty(e)?this.eb[e]:null;return n||(this.eb[e]=n=[]),n.push(t),this.Gd++,this},f.set=function(e,t){return $a(this),this.g=null,this.eb.hasOwnProperty(e)?this.eb[e]=[t]:this.add(e,t),this},f.get=function(e){return $a(this),this.eb[e]||[]},f.toString=function(){if(this.g)return this.g;if(!this.eb)return"";var e=[],t;for(t in this.eb)for(var n=encodeURIComponent(t),i=this.eb[t],r=0;r<i.length;r++){var o=n;i[r]!==""&&(o+="="+encodeURIComponent(i[r])),e.push(o)}return this.g=e.join("&")},f.clone=function(){var e=new Fr;if(e.g=this.g,this.eb){var t={},n;for(n in this.eb)t[n]=this.eb[n].concat();e.eb=t,e.Gd=this.Gd}return e};function Br(){}function hi(e,t){if(!e&&!t)return!0;if(!e||!t||e.byteLength!=t.byteLength)return!1;if(Qc(e)==Qc(t)&&(e.byteOffset||0)==(t.byteOffset||0))return!0;var n=fe(e);t=fe(t);for(var i=0;i<e.byteLength;i++)if(n[i]!=t[i])return!1;return!0}function Qc(e){return e instanceof ArrayBuffer?e:e.buffer}function dn(e){return e instanceof ArrayBuffer?e:e.byteOffset==0&&e.byteLength==e.buffer.byteLength?e.buffer:new Uint8Array(e).buffer}function fe(e,t,n){return n=n===void 0?1/0:n,Zc(e,t===void 0?0:t,n,Uint8Array)}function nm(e,t,n){return n=n===void 0?1/0:n,Zc(e,t===void 0?0:t,n,Uint16Array)}function Bt(e,t,n){return n=n===void 0?1/0:n,Zc(e,t===void 0?0:t,n,DataView)}function Zc(e,t,n,i){var r=Qc(e),o=1;"BYTES_PER_ELEMENT"in i&&(o=i.BYTES_PER_ELEMENT);var s=((e.byteOffset||0)+e.byteLength)/o;return e=Math.floor(Math.max(0,Math.min(((e.byteOffset||0)+t)/o,s))),new i(r,e,Math.floor(Math.min(e+Math.max(n,0),s))-e)}G("shaka.util.BufferUtils",Br),Br.toDataView=Bt,Br.toUint16=nm,Br.toUint8=fe,Br.toArrayBuffer=dn,Br.equal=hi;function R(e,t,n){var i=In.apply(3,arguments);this.severity=e,this.category=t,this.code=n,this.data=i,this.handled=!1,this.message="Shaka Error "+this.code;try{throw Error(this.message||"Shaka Error")}catch(r){this.stack=r.stack}}R.prototype.toString=function(){return"shaka.util.Error "+JSON.stringify(this,null,"  ")},G("shaka.util.Error",R),R.Severity={RECOVERABLE:1,CRITICAL:2},R.Category={NETWORK:1,TEXT:2,MEDIA:3,MANIFEST:4,STREAMING:5,DRM:6,PLAYER:7,CAST:8,STORAGE:9,ADS:10},R.Code={UNSUPPORTED_SCHEME:1e3,BAD_HTTP_STATUS:1001,HTTP_ERROR:1002,TIMEOUT:1003,MALFORMED_DATA_URI:1004,REQUEST_FILTER_ERROR:1006,RESPONSE_FILTER_ERROR:1007,MALFORMED_TEST_URI:1008,UNEXPECTED_TEST_REQUEST:1009,ATTEMPTS_EXHAUSTED:1010,SEGMENT_MISSING:1011,INVALID_TEXT_HEADER:2e3,INVALID_TEXT_CUE:2001,UNABLE_TO_DETECT_ENCODING:2003,BAD_ENCODING:2004,INVALID_XML:2005,INVALID_MP4_TTML:2007,INVALID_MP4_VTT:2008,UNABLE_TO_EXTRACT_CUE_START_TIME:2009,INVALID_MP4_CEA:2010,TEXT_COULD_NOT_GUESS_MIME_TYPE:2011,CANNOT_ADD_EXTERNAL_TEXT_TO_SRC_EQUALS:2012,TEXT_ONLY_WEBVTT_SRC_EQUALS:2013,MISSING_TEXT_PLUGIN:2014,CHAPTERS_TRACK_FAILED:2015,UNSUPPORTED_EXTERNAL_THUMBNAILS_URI:2017,BUFFER_READ_OUT_OF_BOUNDS:3e3,JS_INTEGER_OVERFLOW:3001,EBML_OVERFLOW:3002,EBML_BAD_FLOATING_POINT_SIZE:3003,MP4_SIDX_WRONG_BOX_TYPE:3004,MP4_SIDX_INVALID_TIMESCALE:3005,MP4_SIDX_TYPE_NOT_SUPPORTED:3006,WEBM_CUES_ELEMENT_MISSING:3007,WEBM_EBML_HEADER_ELEMENT_MISSING:3008,WEBM_SEGMENT_ELEMENT_MISSING:3009,WEBM_INFO_ELEMENT_MISSING:3010,WEBM_DURATION_ELEMENT_MISSING:3011,WEBM_CUE_TRACK_POSITIONS_ELEMENT_MISSING:3012,WEBM_CUE_TIME_ELEMENT_MISSING:3013,MEDIA_SOURCE_OPERATION_FAILED:3014,MEDIA_SOURCE_OPERATION_THREW:3015,VIDEO_ERROR:3016,QUOTA_EXCEEDED_ERROR:3017,TRANSMUXING_FAILED:3018,CONTENT_TRANSFORMATION_FAILED:3019,MSS_MISSING_DATA_FOR_TRANSMUXING:3020,MSS_TRANSMUXING_FAILED:3022,TRANSMUXING_NO_VIDEO_DATA:3023,UNABLE_TO_GUESS_MANIFEST_TYPE:4e3,DASH_INVALID_XML:4001,DASH_NO_SEGMENT_INFO:4002,DASH_EMPTY_ADAPTATION_SET:4003,DASH_EMPTY_PERIOD:4004,DASH_WEBM_MISSING_INIT:4005,DASH_UNSUPPORTED_CONTAINER:4006,DASH_PSSH_BAD_ENCODING:4007,DASH_NO_COMMON_KEY_SYSTEM:4008,DASH_MULTIPLE_KEY_IDS_NOT_SUPPORTED:4009,DASH_CONFLICTING_KEY_IDS:4010,RESTRICTIONS_CANNOT_BE_MET:4012,HLS_PLAYLIST_HEADER_MISSING:4015,INVALID_HLS_TAG:4016,HLS_INVALID_PLAYLIST_HIERARCHY:4017,DASH_DUPLICATE_REPRESENTATION_ID:4018,HLS_MULTIPLE_MEDIA_INIT_SECTIONS_FOUND:4020,HLS_REQUIRED_ATTRIBUTE_MISSING:4023,HLS_REQUIRED_TAG_MISSING:4024,HLS_COULD_NOT_GUESS_CODECS:4025,HLS_KEYFORMATS_NOT_SUPPORTED:4026,DASH_UNSUPPORTED_XLINK_ACTUATE:4027,DASH_XLINK_DEPTH_LIMIT:4028,CONTENT_UNSUPPORTED_BY_BROWSER:4032,CANNOT_ADD_EXTERNAL_TEXT_TO_LIVE_STREAM:4033,NO_VARIANTS:4036,PERIOD_FLATTENING_FAILED:4037,INCONSISTENT_DRM_ACROSS_PERIODS:4038,HLS_VARIABLE_NOT_FOUND:4039,HLS_MSE_ENCRYPTED_MP2T_NOT_SUPPORTED:4040,HLS_MSE_ENCRYPTED_LEGACY_APPLE_MEDIA_KEYS_NOT_SUPPORTED:4041,NO_WEB_CRYPTO_API:4042,CANNOT_ADD_EXTERNAL_THUMBNAILS_TO_LIVE_STREAM:4045,MSS_INVALID_XML:4046,MSS_LIVE_CONTENT_NOT_SUPPORTED:4047,AES_128_INVALID_IV_LENGTH:4048,AES_128_INVALID_KEY_LENGTH:4049,DASH_CONFLICTING_AES_128:4050,DASH_UNSUPPORTED_AES_128:4051,DASH_INVALID_PATCH:4052,HLS_EMPTY_MEDIA_PLAYLIST:4053,STREAMING_ENGINE_STARTUP_INVALID_STATE:5006,NO_RECOGNIZED_KEY_SYSTEMS:6e3,REQUESTED_KEY_SYSTEM_CONFIG_UNAVAILABLE:6001,FAILED_TO_CREATE_CDM:6002,FAILED_TO_ATTACH_TO_VIDEO:6003,INVALID_SERVER_CERTIFICATE:6004,FAILED_TO_CREATE_SESSION:6005,FAILED_TO_GENERATE_LICENSE_REQUEST:6006,LICENSE_REQUEST_FAILED:6007,LICENSE_RESPONSE_REJECTED:6008,ENCRYPTED_CONTENT_WITHOUT_DRM_INFO:6010,NO_LICENSE_SERVER_GIVEN:6012,OFFLINE_SESSION_REMOVED:6013,EXPIRED:6014,SERVER_CERTIFICATE_REQUIRED:6015,INIT_DATA_TRANSFORM_ERROR:6016,SERVER_CERTIFICATE_REQUEST_FAILED:6017,MIN_HDCP_VERSION_NOT_MATCH:6018,ERROR_CHECKING_HDCP_VERSION:6019,LOAD_INTERRUPTED:7e3,OPERATION_ABORTED:7001,NO_VIDEO_ELEMENT:7002,OBJECT_DESTROYED:7003,CONTENT_NOT_LOADED:7004,SRC_EQUALS_PRELOAD_NOT_SUPPORTED:7005,CAST_API_UNAVAILABLE:8e3,NO_CAST_RECEIVERS:8001,ALREADY_CASTING:8002,UNEXPECTED_CAST_ERROR:8003,CAST_CANCELED_BY_USER:8004,CAST_CONNECTION_TIMED_OUT:8005,CAST_RECEIVER_APP_UNAVAILABLE:8006,STORAGE_NOT_SUPPORTED:9e3,INDEXED_DB_ERROR:9001,DEPRECATED_OPERATION_ABORTED:9002,REQUESTED_ITEM_NOT_FOUND:9003,MALFORMED_OFFLINE_URI:9004,CANNOT_STORE_LIVE_OFFLINE:9005,NO_INIT_DATA_FOR_OFFLINE:9007,LOCAL_PLAYER_INSTANCE_REQUIRED:9008,NEW_KEY_OPERATION_NOT_SUPPORTED:9011,KEY_NOT_FOUND:9012,MISSING_STORAGE_CELL:9013,STORAGE_LIMIT_REACHED:9014,DOWNLOAD_SIZE_CALLBACK_ERROR:9015,MODIFY_OPERATION_NOT_SUPPORTED:9016,INDEXED_DB_INIT_TIMED_OUT:9017,CS_IMA_SDK_MISSING:1e4,CS_AD_MANAGER_NOT_INITIALIZED:10001,SS_IMA_SDK_MISSING:10002,SS_AD_MANAGER_NOT_INITIALIZED:10003,CURRENT_DAI_REQUEST_NOT_FINISHED:10004,MT_AD_MANAGER_NOT_INITIALIZED:10005,INTERSTITIAL_AD_MANAGER_NOT_INITIALIZED:10006,VAST_INVALID_XML:4001};function Gr(e){this.h=e,this.g=void 0}Gr.prototype.value=function(){return this.g==null&&(this.g=this.h()),this.g};function im(e,t){return e.length&&t.length&&e!==t?0<eh(e,t).length:!0}function eh(e,t){if(!e.length)return t;if(!t.length)return e;var n=[];e=g(e);for(var i=e.next();!i.done;i=e.next()){i=i.value;for(var r=g(t),o=r.next();!o.done;o=r.next())if(o=o.value,i.keySystem==o.keySystem){r=new Map;for(var s=g((i.initData||[]).concat(o.initData||[])),a=s.next();!a.done;a=s.next())a=a.value,r.set(a.keyId,a);r=Array.from(r.values()),s=i.keyIds&&o.keyIds?new Set([].concat(X(i.keyIds),X(o.keyIds))):i.keyIds||o.keyIds,n.push({keySystem:i.keySystem,licenseServerUri:i.licenseServerUri||o.licenseServerUri,distinctiveIdentifierRequired:i.distinctiveIdentifierRequired||o.distinctiveIdentifierRequired,persistentStateRequired:i.persistentStateRequired||o.persistentStateRequired,videoRobustness:i.videoRobustness||o.videoRobustness,audioRobustness:i.audioRobustness||o.audioRobustness,serverCertificate:i.serverCertificate||o.serverCertificate,serverCertificateUri:i.serverCertificateUri||o.serverCertificateUri,initData:r,keyIds:s});break}}return n}function th(e){return e?!!e.match(/^com\.(microsoft|chromecast)\.playready/):!1}var Ja=new Gr(function(){return dn(new Uint8Array([0]))}),Qa=new Map;function cs(e){this.h=e,this.g=null}cs.prototype.X=function(e){var t=this;this.stop();var n=!0,i=null;return this.g=function(){O.clearTimeout(i),n=!1},i=O.setTimeout(function(){n&&t.h()},1e3*e),this},cs.prototype.stop=function(){this.g&&(this.g(),this.g=null)};function oe(e){this.h=e,this.g=null}oe.prototype.Sa=function(){return this.stop(),this.h(),this},oe.prototype.X=function(e){var t=this;return this.stop(),this.g=new cs(function(){t.h()}).X(e),this},oe.prototype.Ba=function(e){var t=this;return this.stop(),this.g=new cs(function(){t.g.X(e),t.h()}).X(e),this},oe.prototype.stop=function(){this.g&&(this.g.stop(),this.g=null)},G("shaka.util.Timer",oe),oe.prototype.stop=oe.prototype.stop,oe.prototype.tickEvery=oe.prototype.Ba,oe.prototype.tickAfter=oe.prototype.X,oe.prototype.tickNow=oe.prototype.Sa;function Gn(){var e=O.ManagedMediaSource||O.MediaSource;return!!(e&&e.isTypeSupported)}function hs(e){return rm().canPlayType(e)!=""}function ds(){return!!navigator.userAgent.match(/Edge?\//)}function Vn(){return ke("Xbox One")}function Cn(){return ke("Tizen")}function fs(){return ke("Tizen 3")}function Za(){return ke("Tizen 2")}function Jn(){return ke("Web0S")}function eu(){return Jn()&&nh()===38}function Gt(){return ke("CrKey")}function nh(){if(!ke("Chrome")||navigator.userAgent.match(/Edge\//))return null;var e=navigator.userAgent.match(/Chrome\/(\d+)/);return e?parseInt(e[1],10):null}function ar(){return!!navigator.vendor&&navigator.vendor.includes("Apple")&&!Cn()&&!ke("PC=EOS")&&!ke("PC=APL")&&!ke("VirginMedia")&&!ih()&&!Mn()&&!ke("AFT")&&!ke("WPE")&&!ke("DT_STB_BCM")&&!ke("Sky_STB")}function ps(){return ke("PlayStation 5")}function Mn(){return ke("PlayStation 4")}function tu(){return ke("Hisense")||ke("VIDAA")}function ih(){return ke("SOPOpenBrowser")}function Bi(){if(!ar())return null;var e=navigator.userAgent.match(/Version\/(\d+)/);return e||(e=navigator.userAgent.match(/OS (\d+)(?:_\d+)?/))?parseInt(e[1],10):null}function rh(){return navigator.userAgentData&&navigator.userAgentData.platform?navigator.userAgentData.platform.toLowerCase()=="windows":navigator.platform?navigator.platform.toLowerCase().includes("win32"):!1}function nu(){return ke("Android")}function oh(){return!!(Cn()||Jn()||Vn()||Mn()||ps()||ke("AFT")||ke("PC=EOS")||ke("PC=APL")||ke("VirginMedia")||ih()||ke("WPE")||Gt()||tu()||ke("DT_STB_BCM"))}function ke(e){return(navigator.userAgent||"").includes(e)}function rm(){return Vr||(sh||(sh=new oe(function(){Vr=null})),(Vr=document.getElementsByTagName("video")[0]||document.getElementsByTagName("audio")[0])||(Vr=document.createElement("video")),sh.X(1),Vr)}function iu(e){return e?e===O.shakaMediaKeysPolyfill:!!O.shakaMediaKeysPolyfill}function om(){var e,t,n,i,r,o,s,a,u,l,c,h,d,p,m;return k(function(v){switch(v.g){case 1:if(e={width:1/0,height:1/0},Gt()){if(h=O.cast&&cast.__platform__&&cast.__platform__.canDisplayType,e.width=1280,e.height=720,Z(v,15),!(d=h)){v.B(17);break}return T(v,cast.__platform__.canDisplayType('video/mp4; codecs="avc1.640028"; width=3840; height=2160'),18)}if(Cn()){e.width=1920,e.height=1080;try{webapis.systeminfo&&webapis.systeminfo.getMaxVideoResolution?(t=webapis.systeminfo.getMaxVideoResolution(),e.width=t.width,e.height=t.height):webapis.productinfo.is8KPanelSupported&&webapis.productinfo.is8KPanelSupported()?(e.width=7680,e.height=4320):webapis.productinfo.isUdPanelSupported&&webapis.productinfo.isUdPanelSupported()&&(e.width=3840,e.height=2160)}catch{de("Tizen: Error detecting screen size, default screen size 1920x1080.")}v.B(3);break}if(Vn()){e.width=1920,e.height=1080;try{n=void 0,n=typeof Windows<"u"?Windows:chrome.webview.hostObjects.sync.Windows,i=new n.Media.Protection.ProtectionCapabilities,r=n.Media.Protection.ProtectionCapabilityResult,o=null;do o=i.isTypeSupported('video/mp4;codecs="hvc1,mp4a";features="decode-res-x=3840,decode-res-y=2160,decode-bitrate=20000,decode-fps=30,decode-bpc=10,display-res-x=3840,display-res-y=2160,display-bpc=8"',"com.microsoft.playready.recommendation");while(o===r.maybe);o===r.probably&&(e.width=3840,e.height=2160)}catch{de("Xbox: Error detecting screen size, default screen size 1920x1080.")}v.B(3);break}if(Jn()){try{s=JSON.parse(O.PalmSystem.deviceInfo),e.width=Math.max(1920,s.screenWidth),e.height=Math.max(1080,s.screenHeight)}catch{de("WebOS: Error detecting screen size, default screen size 1920x1080."),e.width=1920,e.height=1080}v.B(3);break}if(tu()){O.Hisense_Get4KSupportState&&O.Hisense_Get4KSupportState()?(e.width=3840,e.height=2160):(e.width=1920,e.height=1080),v.B(3);break}if(!Mn()&&!ps()){v.B(3);break}return a=!1,Z(v,9),T(v,O.msdk.device.getDisplayInfo(),11);case 11:u=v.h,a=u.resolution==="4K",he(v,10);break;case 9:return ee(v),Z(v,12),T(v,O.msdk.device.getDisplayInfoImmediate(),14);case 14:l=v.h,a=l.resolution==="4K",he(v,10);break;case 12:c=ee(v),de("PlayStation: Failed to get the display info:",c);case 10:a?(e.width=3840,e.height=2160):(e.width=1920,e.height=1080),v.B(3);break;case 18:d=v.h;case 17:if(d){e.width=3840,e.height=2160,v.B(19);break}if(!(p=h)){v.B(20);break}return T(v,cast.__platform__.canDisplayType('video/mp4; codecs="avc1.640028"; width=1920; height=1080'),21);case 21:p=v.h;case 20:p&&(e.width=1920,e.height=1080);case 19:he(v,3);break;case 15:m=ee(v),ci("Failed to check canDisplayType:",m);case 3:return v.return(e)}})}var sh=null,Vr=null;function ur(){}function ze(e){if(!e)return"";if(e=fe(e),e[0]==239&&e[1]==187&&e[2]==191&&(e=e.subarray(3)),O.TextDecoder&&!Mn())return e=new TextDecoder().decode(e),e.includes("�")&&ci('Decoded string contains an "unknown character" codepoint.  That probably means the UTF8 encoding was incorrect!'),e;for(var t="",n=0;n<e.length;++n){var i=65533;if(e[n]&128?e.length>=n+2&&(e[n]&224)==192&&(e[n+1]&192)==128?(i=(e[n]&31)<<6|e[n+1]&63,n+=1):e.length>=n+3&&(e[n]&240)==224&&(e[n+1]&192)==128&&(e[n+2]&192)==128?(i=(e[n]&15)<<12|(e[n+1]&63)<<6|e[n+2]&63,n+=2):e.length>=n+4&&(e[n]&241)==240&&(e[n+1]&192)==128&&(e[n+2]&192)==128&&(e[n+3]&192)==128&&(i=(e[n]&7)<<18|(e[n+1]&63)<<12|(e[n+2]&63)<<6|e[n+3]&63,n+=3):i=e[n],65535>=i)t+=String.fromCharCode(i);else{i-=65536;var r=i&1023;t+=String.fromCharCode(55296+(i>>10)),t+=String.fromCharCode(56320+r)}}return t}function di(e,t,n){if(!e)return"";if(!n&&e.byteLength%2!=0)throw new R(2,2,2004);n=Math.floor(e.byteLength/2);var i=new Uint16Array(n);e=Bt(e);for(var r=0;r<n;r++)i[r]=e.getUint16(2*r,t);return uh(i)}function fi(e){function t(i){return n.byteLength<=i||32<=n[i]&&126>=n[i]}if(!e)return"";var n=fe(e);if(n[0]==239&&n[1]==187&&n[2]==191)return ze(n);if(n[0]==254&&n[1]==255)return di(n.subarray(2),!1);if(n[0]==255&&n[1]==254)return di(n.subarray(2),!0);if(n[0]==0&&n[2]==0)return di(e,!1);if(n[1]==0&&n[3]==0)return di(e,!0);if(t(0)&&t(1)&&t(2)&&t(3))return ze(e);throw new R(2,2,2003)}function Hn(e){if(O.TextEncoder&&!Mn()){var t=new TextEncoder;return dn(t.encode(e))}e=encodeURIComponent(e),e=unescape(e),t=new Uint8Array(e.length);for(var n=0;n<e.length;n++)t[n]=e[n].charCodeAt(0);return dn(t)}function ah(e,t){for(var n=new ArrayBuffer(2*e.length),i=new DataView(n),r=0;r<e.length;++r)i.setUint16(2*r,e.charCodeAt(r),t);return n}function uh(e){return sm.value()(e)}function Nt(e){var t={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&apos;":"'","&nbsp;":" ","&lrm;":"‎","&rlm;":"‏"},n=/&(?:amp|lt|gt|quot|apos|nbsp|lrm|rlm|#[xX]?[0-9a-fA-F]+);/g,i=RegExp(n.source);return e&&i.test(e)?e.replace(n,function(r){return r[1]=="#"?(r=r[2]=="x"||r[2]=="X"?parseInt(r.substring(3),16):parseInt(r.substring(2),10),0<=r&&1114111>=r?String.fromCodePoint(r):""):t[r]||"'"}):e||""}G("shaka.util.StringUtils",ur),ur.resetFromCharCode=function(){sm.g=void 0},ur.toUTF16=ah,ur.toUTF8=Hn,ur.fromBytesAutoDetect=fi,ur.fromUTF16=di,ur.fromUTF8=ze;var sm=new Gr(function(){function e(n){try{var i=new Uint8Array(n);return 0<String.fromCharCode.apply(null,i).length}catch{return!1}}for(var t={Dc:65536};0<t.Dc;t={Dc:t.Dc},t.Dc/=2)if(e(t.Dc))return function(n){return function(i){for(var r="",o=0;o<i.length;o+=n.Dc)r+=String.fromCharCode.apply(null,i.subarray(o,o+n.Dc));return r}}(t);return null});function kt(){}function lh(e){return e=uh(fe(e)),btoa(e)}function lr(e,t){return t=t??!0,e=lh(e).replace(/\+/g,"-").replace(/\//g,"_"),t?e:e.replace(/[=]*$/,"")}function fn(e){e=O.atob(e.replace(/-/g,"+").replace(/_/g,"/"));for(var t=new Uint8Array(e.length),n=0;n<e.length;++n)t[n]=e.charCodeAt(n);return t}function cr(e){for(var t=e.length/2,n=new Uint8Array(t),i=0;i<t;i++)n[i]=O.parseInt(e.substr(2*i,2),16);return n}function pi(e){var t=fe(e);e="",t=g(t);for(var n=t.next();!n.done;n=t.next())n=n.value,n=n.toString(16),n.length==1&&(n="0"+n),e+=n;return e}function Je(){for(var e=In.apply(0,arguments),t=0,n=0;n<e.length;++n)t+=e[n].byteLength;t=new Uint8Array(t);for(var i=n=0;i<e.length;++i){var r=e[i];r instanceof Uint8Array?t.set(r,n):t.set(fe(r),n),n+=r.byteLength}return t}G("shaka.util.Uint8ArrayUtils",kt),kt.concat=Je,kt.toHex=pi,kt.fromHex=cr,kt.fromBase64=fn,kt.toBase64=lr,kt.toStandardBase64=lh;function pt(e,t,n){if(n=n===void 0?"":n,t.length==0)return e;if(e.length==1&&t.length==1){var i=new $e(e[0]);return t=new $e(t[0]),t=i.resolve(t),n&&sr(t,n),[t.toString()]}t=t.map(function(a){return new $e(a)}),i=[],e=g(e);for(var r=e.next();!r.done;r=e.next()){r=new $e(r.value);for(var o=g(t),s=o.next();!s.done;s=o.next())s=r.resolve(s.value),n&&sr(s,n),i.push(s.toString())}return i}function hr(e,t,n,i){return e={keySystem:e,encryptionScheme:t,licenseServerUri:"",distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,serverCertificateUri:"",sessionType:"",initData:n||[],keyIds:new Set},i&&(e.keySystemUris=new Set([i])),e}function am(e,t){t=t===void 0?"cenc":t;var n=[],i=[],r=[];e.forEach(function(s,a){var u=a;u.length!=22&&(u=lr(cr(a),!1));var l=s;l.length!=22&&(l=lr(cr(s),!1)),s={kty:"oct",kid:u,k:l},n.push(s),i.push(s.kid),r.push(a)}),e=JSON.stringify({keys:n});var o=JSON.stringify({kids:i});return o=[{initData:fe(Hn(o)),initDataType:"keyids"}],{keySystem:"org.w3.clearkey",encryptionScheme:t,licenseServerUri:"data:application/json;base64,"+O.btoa(e),distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,serverCertificateUri:"",sessionType:"",initData:o,keyIds:new Set(r)}}function Hr(e,t){if(t.length==1)return t[0];if(e=Vt(e,t),e!=null)return e;throw new R(2,4,4025,t)}function Vt(e,t){for(var n=g(um[e]),i=n.next();!i.done;i=n.next()){i=i.value;for(var r=g(t),o=r.next();!o.done;o=r.next())if(o=o.value,i.test(o.trim()))return o.trim()}return e==me?"":null}function ch(e,t){var n=[];e=g(um[e]);for(var i=e.next();!i.done;i=e.next()){i=i.value;for(var r=g(t),o=r.next();!o.done;o=r.next())o=o.value,i.test(o.trim())&&n.push(o.trim())}return n}var me="text",it={xa:"video",ia:"audio",Na:me,Bf:"image",Tk:"application"},XA=1/15,um={audio:[/^vorbis$/,/^Opus$/,/^opus$/,/^fLaC$/,/^flac$/,/^mp4a/,/^[ae]c-3$/,/^ac-4/,/^dts[cex]$/,/^iamf/,/^mhm[12]/],video:[/^avc/,/^hev/,/^hvc/,/^vvc/,/^vvi/,/^vp0?[89]/,/^av01/,/^dvh/,/^dva/,/^dav/],text:[/^vtt$/,/^wvtt/,/^stpp/]};function kn(){}function zr(e,t){return e=Ce(e),t=Ce(t),e.split("-")[0]==t.split("-")[0]}function gs(e,t){return e=Ce(e),t=Ce(t),e=e.split("-"),t=t.split("-"),e[0]==t[0]&&e.length==1&&t.length==2}function hh(e,t){return e=Ce(e),t=Ce(t),e=e.split("-"),t=t.split("-"),e.length==2&&t.length==2&&e[0]==t[0]}function Ce(e){e=g(e.split("-x-"));var t=e.next().value;t=t===void 0?"":t,e=e.next().value,e=e===void 0?"":e;var n=g(t.split("-"));return t=n.next().value,t=t===void 0?"":t,n=n.next().value,n=n===void 0?"":n,e=e?"x-"+e:"",t=t.toLowerCase(),t=cm.get(t)||t,n=n.toUpperCase(),(n?t+"-"+n:t)+(e?"-"+e:"")}function lm(e,t){var n=Kr(e),i=Kr(t);return e!=n&&t!=i&&n==i}function dr(e,t){return e=Ce(e),t=Ce(t),t==e?4:gs(t,e)?3:hh(t,e)?2:gs(e,t)?1:0}function Kr(e){var t=e.indexOf("-");return e=0<=t?e.substring(0,t):e,e=e.toLowerCase(),e=cm.get(e)||e}function dh(e){return e.language?Ce(e.language):e.audio&&e.audio.language?Ce(e.audio.language):e.video&&e.video.language?Ce(e.video.language):"und"}function ru(e,t){e=Ce(e);var n=new Set;t=g(t);for(var i=t.next();!i.done;i=t.next())n.add(Ce(i.value));for(t=g(n),i=t.next();!i.done;i=t.next())if(i=i.value,i==e)return i;for(t=g(n),i=t.next();!i.done;i=t.next())if(i=i.value,gs(i,e))return i;for(t=g(n),i=t.next();!i.done;i=t.next())if(i=i.value,hh(i,e))return i;for(n=g(n),t=n.next();!t.done;t=n.next())if(t=t.value,gs(e,t))return t;return null}G("shaka.util.LanguageUtils",kn),kn.findClosestLocale=ru,kn.getLocaleForVariant=dh,kn.getLocaleForText=function(e){return Ce(e.language||"und")},kn.getBase=Kr,kn.relatedness=dr,kn.areSiblings=lm,kn.normalize=Ce,kn.isSiblingOf=hh,kn.isParentOf=gs,kn.areLanguageCompatible=zr,kn.areLocaleCompatible=function(e,t){return e=Ce(e),t=Ce(t),e==t};var cm=new Map([["aar","aa"],["abk","ab"],["afr","af"],["aka","ak"],["alb","sq"],["amh","am"],["ara","ar"],["arg","an"],["arm","hy"],["asm","as"],["ava","av"],["ave","ae"],["aym","ay"],["aze","az"],["bak","ba"],["bam","bm"],["baq","eu"],["bel","be"],["ben","bn"],["bih","bh"],["bis","bi"],["bod","bo"],["bos","bs"],["bre","br"],["bul","bg"],["bur","my"],["cat","ca"],["ces","cs"],["cha","ch"],["che","ce"],["chi","zh"],["chu","cu"],["chv","cv"],["cor","kw"],["cos","co"],["cre","cr"],["cym","cy"],["cze","cs"],["dan","da"],["deu","de"],["div","dv"],["dut","nl"],["dzo","dz"],["ell","el"],["eng","en"],["epo","eo"],["est","et"],["eus","eu"],["ewe","ee"],["fao","fo"],["fas","fa"],["fij","fj"],["fin","fi"],["fra","fr"],["fre","fr"],["fry","fy"],["ful","ff"],["geo","ka"],["ger","de"],["gla","gd"],["gle","ga"],["glg","gl"],["glv","gv"],["gre","el"],["grn","gn"],["guj","gu"],["hat","ht"],["hau","ha"],["heb","he"],["her","hz"],["hin","hi"],["hmo","ho"],["hrv","hr"],["hun","hu"],["hye","hy"],["ibo","ig"],["ice","is"],["ido","io"],["iii","ii"],["iku","iu"],["ile","ie"],["ina","ia"],["ind","id"],["ipk","ik"],["isl","is"],["ita","it"],["jav","jv"],["jpn","ja"],["kal","kl"],["kan","kn"],["kas","ks"],["kat","ka"],["kau","kr"],["kaz","kk"],["khm","km"],["kik","ki"],["kin","rw"],["kir","ky"],["kom","kv"],["kon","kg"],["kor","ko"],["kua","kj"],["kur","ku"],["lao","lo"],["lat","la"],["lav","lv"],["lim","li"],["lin","ln"],["lit","lt"],["ltz","lb"],["lub","lu"],["lug","lg"],["mac","mk"],["mah","mh"],["mal","ml"],["mao","mi"],["mar","mr"],["may","ms"],["mkd","mk"],["mlg","mg"],["mlt","mt"],["mon","mn"],["mri","mi"],["msa","ms"],["mya","my"],["nau","na"],["nav","nv"],["nbl","nr"],["nde","nd"],["ndo","ng"],["nep","ne"],["nld","nl"],["nno","nn"],["nob","nb"],["nor","no"],["nya","ny"],["oci","oc"],["oji","oj"],["ori","or"],["orm","om"],["oss","os"],["pan","pa"],["per","fa"],["pli","pi"],["pol","pl"],["por","pt"],["pus","ps"],["que","qu"],["roh","rm"],["ron","ro"],["rum","ro"],["run","rn"],["rus","ru"],["sag","sg"],["san","sa"],["sin","si"],["slk","sk"],["slo","sk"],["slv","sl"],["sme","se"],["smo","sm"],["sna","sn"],["snd","sd"],["som","so"],["sot","st"],["spa","es"],["sqi","sq"],["srd","sc"],["srp","sr"],["ssw","ss"],["sun","su"],["swa","sw"],["swe","sv"],["tah","ty"],["tam","ta"],["tat","tt"],["tel","te"],["tgk","tg"],["tgl","tl"],["tha","th"],["tib","bo"],["tir","ti"],["ton","to"],["tsn","tn"],["tso","ts"],["tuk","tk"],["tur","tr"],["twi","tw"],["uig","ug"],["ukr","uk"],["urd","ur"],["uzb","uz"],["ven","ve"],["vie","vi"],["vol","vo"],["wel","cy"],["wln","wa"],["wol","wo"],["xho","xh"],["yid","yi"],["yor","yo"],["zha","za"],["zho","zh"],["zul","zu"]]);function lt(e){Se.call(this),this.j=Ce(e),this.i=new Map,this.g=new Set,this.h=new Map}pe(lt,Se),f=lt.prototype,f.release=function(){Se.prototype.release.call(this)},f.uh=function(e){var t=this;this.g.clear(),e=g(e);for(var n=e.next();!n.done;n=e.next())this.g.add(Ce(n.value));hm(this),e=br(this.g,function(i){return!t.h.has(i)}),e.length&&this.dispatchEvent(new V("unknown-locales",new Map().set("locales",e))),e=br(this.g,function(i){return t.h.has(i)}),e=new Map().set("locales",e.length?e:[this.j]),this.dispatchEvent(new V("locale-changed",e))},f.Pa=function(e,t,n){e=Ce(e),n===void 0&&(n=fh);var i=this.h.get(e)||new Map;return t.forEach(function(r,o){i.has(o)&&n!=fh||i.set(o,r)}),this.h.set(e,i),hm(this),this.dispatchEvent(new V("locale-updated")),this},f.xk=function(e){for(var t=g(e.keys()),n=t.next();!n.done;n=t.next())n=n.value,e.set(n,this.resolve(n))},f.resolve=function(e){var t=this.i.get(e);return t||(e=new Map().set("locales",Array.from(this.g)).set("missing",e),this.dispatchEvent(new V("unknown-localization",e)),"")},f.ij=function(){return this.g};function hm(e){for(var t=e.h,n=e.j,i=e.g,r=new Set,o=g(i),s=o.next(),a={};!s.done;a={Sd:void 0},s=o.next()){a.Sd=s.value,r.add(a.Sd),r.add(Kr(a.Sd)),s=br(t.keys(),function(l){return function(c){return lm(c,l.Sd)}}(a)),s.sort(),s=g(s);for(var u=s.next();!u.done;u=s.next())r.add(u.value);for(a=br(t.keys(),function(l){return function(c){return Kr(c)==l.Sd}}(a)),a.sort(),a=g(a),s=a.next();!s.done;s=a.next())r.add(s.value)}for(r.add(n),n=[],r=g(r),o=r.next();!o.done;o=r.next())(o=t.get(o.value))&&n.push(o);for(n.reverse(),e.i.clear(),t=g(n),r=t.next();!r.done;r=t.next())r.value.forEach(function(l,c){e.i.set(c,l)});for(t=e.i.keys(),r=new Set,n=g(e.g),o=n.next();!o.done;o=n.next())o=e.h.get(o.value)||new Map,YA(o,t,r);0<r.size&&(i=new Map().set("locales",Array.from(i)).set("missing",Array.from(r)),e.dispatchEvent(new V("missing-localizations",i)))}function YA(e,t,n){t=g(t);for(var i=t.next();!i.done;i=t.next())i=i.value,e.get(i)||n.add(i)}G("shaka.ui.Localization",lt),lt.prototype.getCurrentLocales=lt.prototype.ij,lt.prototype.resolve=lt.prototype.resolve,lt.prototype.resolveDictionary=lt.prototype.xk,lt.prototype.insert=lt.prototype.Pa,lt.prototype.changeLocale=lt.prototype.uh,lt.prototype.release=lt.prototype.release;var fh=1;lt.ConflictResolution={USE_OLD:0,USE_NEW:fh},lt.UNKNOWN_LOCALES="unknown-locales",lt.UNKNOWN_LOCALIZATION="unknown-localization",lt.MISSING_LOCALIZATIONS="missing-localizations",lt.LOCALE_CHANGED="locale-changed",lt.LOCALE_UPDATED="locale-updated";function qr(e){this.g=Math.exp(Math.log(.5)/e),this.i=this.h=0}qr.prototype.sample=function(e,t){var n=Math.pow(this.g,e);t=t*(1-n)+n*this.h,isNaN(t)||(this.h=t,this.i+=e)};function ou(e){return e.h/(1-Math.pow(e.g,e.i))}function ms(){this.h=new qr(2),this.j=new qr(5),this.g=0,this.i=128e3,this.l=16e3}ms.prototype.configure=function(e){this.i=e.minTotalBytes,this.l=e.minBytes,this.h.g=Math.exp(Math.log(.5)/e.fastHalfLife),this.j.g=Math.exp(Math.log(.5)/e.slowHalfLife)},ms.prototype.sample=function(e,t){if(!(t<this.l)){var n=8e3*t/e;e/=1e3,this.g+=t,this.h.sample(e,n),this.j.sample(e,n)}},ms.prototype.getBandwidthEstimate=function(e){return this.g<this.i?e:Math.min(ou(this.h),ou(this.j))};function Ae(){this.g=new Wa}f=Ae.prototype,f.release=function(){this.Za(),this.g=null},f.s=function(e,t,n,i){this.g&&(e=new dm(e,t,n,i),this.g.push(t,e))},f.sa=function(e,t,n,i){function r(s){o.Ma(e,t,r),n(s)}var o=this;this.s(e,t,r,i)},f.Ma=function(e,t,n){if(this.g){var i=this.g.get(t)||[];i=g(i);for(var r=i.next();!r.done;r=i.next())r=r.value,r.target!=e||n!=r.listener&&n||(r.Ma(),this.g.remove(t,r))}},f.Za=function(){if(this.g){var e=this.g,t=[],n;for(n in e.g)t.push.apply(t,X(e.g[n]));for(e=g(t),t=e.next();!t.done;t=e.next())t.value.Ma();this.g.g={}}},G("shaka.util.EventManager",Ae),Ae.prototype.removeAll=Ae.prototype.Za,Ae.prototype.unlisten=Ae.prototype.Ma,Ae.prototype.listenOnce=Ae.prototype.sa,Ae.prototype.listen=Ae.prototype.s,Ae.prototype.release=Ae.prototype.release;function dm(e,t,n,i){this.target=e,this.type=t,this.listener=n,this.g=$A(e,i),this.target.addEventListener(t,n,this.g)}dm.prototype.Ma=function(){this.target.removeEventListener(this.type,this.listener,this.g),this.listener=this.target=null,this.g=!1};function $A(e,t){if(t==null)return!1;if(typeof t=="boolean")return t;var n=new Set(["passive","capture"]);return Object.keys(t).filter(function(i){return!n.has(i)}),JA(e)?t:t.capture||!1}function JA(e){var t=fm;if(t==null){t=!1;try{var n={},i={get:function(){return t=!0,!1}};Object.defineProperty(n,"passive",i),Object.defineProperty(n,"capture",i),i=function(){},e.addEventListener("test",i,n),e.removeEventListener("test",i,n)}catch{t=!1}fm=t}return t||!1}var fm=void 0;function rt(e){if(su.has(e))return su.get(e);if(O.ManagedMediaSource){var t=ManagedMediaSource.isTypeSupported(e);return su.set(e,t),t}return O.MediaSource?(t=MediaSource.isTypeSupported(e),su.set(e,t),t):!1}function Gi(){return!!O.SourceBuffer&&!!SourceBuffer.prototype&&!!SourceBuffer.prototype.changeType}var su=new Map;function ph(e,t){this.g=e,this.h=t}ph.prototype.toString=function(){return"v"+this.g+"."+this.h};function Ke(e,t){var n=new ph(5,0),i=pm,r=i.g,o=n.h-r.h;(0<(n.g-r.g||o)?i.i:i.h)(i.g,n,e,t)}function QA(e,t,n,i){de([n,"has been deprecated and will be removed in",t,". We are currently at version",e,". Additional information:",i].join(" "))}function ZA(e,t,n,i){ci([n,"has been deprecated and has been removed in",t,". We are now at version",e,". Additional information:",i].join(" "))}var pm=null;function vs(){}vs.prototype.extract=function(){},vs.prototype.decode=function(){return[]},vs.prototype.clear=function(){},vs.prototype.getStreams=function(){return[]};function gh(){}gh.prototype.init=function(){},gh.prototype.parse=function(){return[]};function ys(){}ys.prototype.init=function(){},ys.prototype.i=function(){},ys.prototype.g=function(){},ys.prototype.j=function(){},G("shaka.media.IClosedCaptionParser",ys);function tn(e){this.l=new gh,(e=Wr[e.toLowerCase()])&&(this.l=e()),this.h=new vs,(e=Xr)&&(this.h=e())}tn.prototype.init=function(e,t){t!==void 0&&t||this.g(),this.l.init(e)},tn.prototype.i=function(e){e=this.l.parse(e),e=g(e);for(var t=e.next();!t.done;t=e.next()){t=t.value;var n=fe(t.packet);0<n.length&&this.h.extract(n,t.pts)}return this.h.decode()},tn.prototype.g=function(){this.h.clear()},tn.prototype.j=function(){return this.h.getStreams()},G("shaka.media.ClosedCaptionParser",tn),tn.findDecoder=function(){return Xr},tn.unregisterDecoder=function(){Xr=null},tn.registerDecoder=function(e){Xr=e},tn.findParser=function(e){return Wr[e]},tn.unregisterParser=function(e){delete Wr[e]},tn.registerParser=function(e,t){Wr[e]=t};var Wr={},Xr=null;function fr(){this.id="",this.regionAnchorY=this.regionAnchorX=this.viewportAnchorY=this.viewportAnchorX=0,this.height=this.width=100,this.viewportAnchorUnits=this.widthUnits=this.heightUnits=Ht,this.scroll=gm}G("shaka.text.CueRegion",fr);var Ht=1;fr.units={PX:0,PERCENTAGE:Ht,LINES:2};var gm="";fr.scrollMode={NONE:gm,UP:"up"};function mm(e,t){return typeof e=="number"&&typeof t=="number"&&isNaN(e)&&isNaN(t)?!0:e===t}function zn(e,t){t=e.indexOf(t),-1<t&&e.splice(t,1)}function vm(e,t,n){if(n||(n=mm),e.length!=t.length)return!1;t=t.slice(),e=g(e);for(var i=e.next(),r={};!i.done;r={Rh:void 0},i=e.next()){if(r.Rh=i.value,i=t.findIndex(function(o){return function(s){return n(o.Rh,s)}}(r)),i==-1)return!1;t[i]=t[t.length-1],t.pop()}return t.length==0}function Ts(e,t,n){if(n||(n=mm),e.length!=t.length)return!1;for(var i=0;i<e.length;i++)if(!n(e[i],t[i]))return!1;return!0}function Yr(e){this.h=e||"",this.g=0}function $r(e){pr(e,/[ \t]+/gm)}function pr(e,t){return t.lastIndex=e.g,t=t.exec(e.h),t=t==null?null:{position:t.index,length:t[0].length,results:t},e.g==e.h.length||t==null||t.position!=e.g?null:(e.g+=t.length,t.results)}function gr(e){return e.g==e.h.length?null:(e=pr(e,/[^ \t\n]*/gm))?e[0]:null}function Ss(e){if(e=pr(e,ew),e==null)return null;var t=Number(e[2]),n=Number(e[3]);return 59<t||59<n?null:(Number(e[6])||0)/1e3+n+60*t+3600*(Number(e[1])||0)}function Es(e){return e?Ss(new Yr(e)):null}var ew=/(?:(\d{1,}):)?(\d{2}):(\d{2})((\.(\d{1,3})))?/g;function Qn(e){function t(i){switch(typeof i){case"undefined":case"boolean":case"number":case"string":case"symbol":case"function":return i;default:if(!i||i.buffer instanceof ArrayBuffer)return i;if(n.has(i))return null;var r=i.constructor==Array;if(i.constructor!=Object&&!r)return null;n.add(i);var o=r?[]:{},s;for(s in i)o[s]=t(i[s]);return r&&(o.length=i.length),o}}var n=new WeakSet;return t(e)}function mr(e){var t={},n;for(n in e)t[n]=e[n];return t}/*
 @license
 tXml
 Copyright 2015 Tobias Nickel
 SPDX-License-Identifier: MIT
*/function As(e,t){var n=n===void 0?!1:n;return e=fi(e),Jr(e,t,n)}function Jr(e,t,n){return e=tw(e,n===void 0?!1:n),!t&&e.length?e[0]:(e=e.find(function(i){return t.split(",").includes(i.tagName)}))?e:null}function mh(e){return yh.has(e)?yh.get(e):""}function tw(e,t){function n(o,s){s=s===void 0?!1:s;for(var a=[];e[r];)if(e.charCodeAt(r)==60){if(e.charCodeAt(r+1)===47){s=r+2,r=e.indexOf(">",r),s=e.substring(s,r);var u=s.indexOf(o);if(u==-1){var l=o.indexOf(".");0<l&&(u=s.indexOf(o.substring(0,l)))}if(u==-1)throw o=e.substring(0,r).split(`
`),Error(`Unexpected close tag
Line: `+(o.length-1)+`
Column: `+(o[o.length-1].length+1)+`
Char: `+e[r]);r+1&&(r+=1);break}else if(e.charCodeAt(r+1)===33){if(e.charCodeAt(r+2)==45){for(;r!==-1&&(e.charCodeAt(r)!==62||e.charCodeAt(r-1)!=45||e.charCodeAt(r-2)!=45||r==-1);)r=e.indexOf(">",r+1);r===-1&&(r=e.length)}else if(e.charCodeAt(r+2)===91&&e.charCodeAt(r+8)===91&&e.substr(r+3,5).toLowerCase()==="cdata"){u=e.indexOf("]]>",r),u==-1?(a.push(e.substr(r+9)),r=e.length):(a.push(e.substring(r+9,u)),r=u+3);continue}r++;continue}e:{l=s,r++;var c=i(),h={};for(u=[];e.charCodeAt(r)!==62&&e[r];){var d=e.charCodeAt(r);if(64<d&&91>d||96<d&&123>d){d=i();for(var p=e.charCodeAt(r);p&&p!==39&&p!==34&&!(64<p&&91>p||96<p&&123>p)&&p!==62;)r++,p=e.charCodeAt(r);var m=r+1;if(r=e.indexOf(e[r],m),m=e.slice(m,r),p===39||p===34){if(r===-1){if(l={tagName:c,attributes:h,children:u,parent:null},t)for(c=0;c<u.length;c++)typeof u[c]!="string"&&(u[c].parent=l);u=l;break e}}else m=null,r--;if(d.startsWith("xmlns:")){p=m;var v=d.split(":")[1];yh.set(p,v),Th.set(v,p)}c==="tt"&&d==="xml:space"&&m==="preserve"&&(l=!0),h[d]=m}r++}for(e.charCodeAt(r-1)!==47?(r++,u=n(c,l)):r++,l={tagName:c,attributes:h,children:u,parent:null},c=u.length,h=0;h<c;h++)d=u[h],typeof d!="string"?t&&(d.parent=l):h==c-1&&d==`
`&&u.pop();u=l}if(a.push(u),typeof u=="string")break;u.tagName[0]==="?"&&u.children&&(a.push.apply(a,X(u.children)),u.children=[])}else u=r,r=e.indexOf("<",r)-1,r===-2&&(r=e.length),u=e.slice(u,r+1),s?0<u.length&&a.push(u):(a.length&&u.length==1&&u[0]==`
`||0<u.trim().length)&&a.push(u),r++;return a}function i(){for(var o=r;`\r
	>/= `.indexOf(e[r])===-1&&e[r];)r++;return e.slice(o,r)}var r=0;return n("")}function au(e){return typeof e=="string"}function ym(e){var t=[];if(!e.children)return[];e=g(e.children);for(var n=e.next();!n.done;n=e.next())n=n.value,typeof n!="string"&&t.push(n);return t}function Le(e,t){var n=[];if(!e.children)return[];e=g(e.children);for(var i=e.next();!i.done;i=e.next())i=i.value,i.tagName===t&&n.push(i);return n}function et(e){return typeof e=="string"?Nt(e):(e=e.children.reduce(function(t,n){return typeof n=="string"?t+n:t},""),e===""?null:Nt(e))}function Rn(e){return Array.from(e.children).every(function(t){return typeof t=="string"})?((e=et(e))&&(e=e.trim()),e):null}function Ln(e,t,n){if(n=n===void 0?[]:n,e.tagName===t&&n.push(e),e.children){e=g(e.children);for(var i=e.next();!i.done;i=e.next())Ln(i.value,t,n)}return n}function wt(e,t){return e=Le(e,t),e.length!=1?null:e[0]}function Zn(e,t,n){return e=Tm(e,t,n),e.length!=1?null:e[0]}function Te(e,t,n,i){i=i===void 0?null:i;var r=null;return e=e.attributes[t],e!=null&&(r=n(e)),r??i}function gi(e,t,n){return t=mh(t),e.attributes[t+":"+n]||null}function Tm(e,t,n){t=mh(t);var i=[];if(e.children){e=g(e.children);for(var r=e.next();!r.done;r=e.next())(r=r.value)&&r.tagName===t+":"+n&&i.push(r)}return i}function ei(e,t,n){t=g(t);for(var i=t.next();!i.done;i=t.next())if(i=gi(e,i.value,n))return i;return null}function Vi(e){return e?(/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(e)&&(e+="Z"),e=Date.parse(e),isNaN(e)?null:e/1e3):null}function ti(e){return!e||(e=RegExp("^P(?:([0-9]*)Y)?(?:([0-9]*)M)?(?:([0-9]*)D)?(?:T(?:([0-9]*)H)?(?:([0-9]*)M)?(?:([0-9.]*)S)?)?$").exec(e),!e)?null:(e=31536e3*Number(e[1]||null)+2592e3*Number(e[2]||null)+86400*Number(e[3]||null)+3600*Number(e[4]||null)+60*Number(e[5]||null)+Number(e[6]||null),isFinite(e)?e:null)}function uu(e){var t=/([0-9]+)-([0-9]+)/.exec(e);return!t||(e=Number(t[1]),!isFinite(e))?null:(t=Number(t[2]),isFinite(t)?{start:e,end:t}:null)}function lu(e){return e=Number(e),e%1===0?e:null}function mi(e){return e=Number(e),e%1===0&&0<e?e:null}function xt(e){return e=Number(e),e%1===0&&0<=e?e:null}function cu(e){return e=Number(e),isNaN(e)?null:e}function hu(e){return e?e.toLowerCase()==="true":!1}function nw(e){var t,n=(t=e.match(/^(\d+)\/(\d+)$/))?Number(t[1])/Number(t[2]):Number(e);return isNaN(n)?null:n}function du(e){var t=[];e=Nt(e).split(/\/+(?=(?:[^'"]*['"][^'"]*['"])*[^'"]*$)/),e=g(e);for(var n=e.next();!n.done;n=e.next()){n=n.value;var i=n.match(/^([\w]+)/);if(i){var r=n.match(/(@id='(.*?)')/),o=n.match(/(@t='(\d+)')/),s=n.match(/(@n='(\d+)')/),a=n.match(/\[(\d+)\]/);t.push({name:i[0],id:r?r[0].match(/'(.*?)'/)[0].replace(/'/gm,""):null,t:o?Number(o[0].match(/'(.*?)'/)[0].replace(/'/gm,"")):null,n:s?Number(s[0].match(/'(.*?)'/)[0].replace(/'/gm,"")):null,position:a?Number(a[1])-1:null,pc:n.split("/@")[1]||null})}else n.startsWith("@")&&t.length&&(t[t.length-1].pc=n.slice(1))}return t}function Sm(e,t){var n=du(t.attributes.sel||"");if(n.length){var i=n[n.length-1],r=t.attributes.pos||null;n=i.position,n==null&&(i.t!==null&&(n=Em(e,"t",i.t)),i.n!==null&&(n=Em(e,"n",i.n))),n===null?n=r==="prepend"?0:e.length:r==="prepend"?--n:r==="after"&&++n,r=t.tagName,(i=i.pc)&&e[n]?Am(e[n],r,i,Rn(t)||""):(r!=="remove"&&r!=="replace"||e.splice(n,1),r!=="add"&&r!=="replace"||e.splice.apply(e,[n,0].concat(X(t.children))))}}function Em(e,t,n){var i=0;e=g(e);for(var r=e.next();!r.done;r=e.next()){if(Number(r.value.attributes[t])===n)return i;i++}return null}function Am(e,t,n,i){t==="remove"?delete e.attributes[n]:(t==="add"||t==="replace")&&(e.attributes[n]=i)}function wm(e){var t="",n=e.tagName.split(":");0<n.length&&(t=n[0],t=Th.has(t)?Th.get(t):""),t=document.createElementNS(t,e.tagName);for(var i in e.attributes)t.setAttribute(i,e.attributes[i]);for(e=g(e.children),i=e.next();!i.done;i=e.next())i=i.value,n=void 0,typeof i=="string"?n=new Text(i):n=wm(i),t.appendChild(n);return t}function vh(e){if(!e)return null;var t={tagName:e.tagName,attributes:mr(e.attributes),children:[],parent:null};e=g(e.children);for(var n=e.next();!n.done;n=e.next())n=n.value,typeof n=="string"||(n=vh(n),n.parent=t),t.children.push(n);return t}var yh=new Map,Th=new Map;function je(e,t,n){this.startTime=e,this.endTime=t,this.payload=n,this.region=new fr,this.position=null,this.positionAlign=gu,this.size=0,this.textAlign=vi,this.direction=Is,this.writingMode=vr,this.lineInterpretation=Cs,this.line=null,this.lineHeight="",this.lineAlign=yr,this.displayAlign=xs,this.fontSize=this.border=this.backgroundImage=this.backgroundColor=this.color="",this.fontWeight=Lm,this.fontStyle=Ah,this.linePadding=this.letterSpacing=this.fontFamily="",this.opacity=1,this.textCombineUpright="",this.textDecoration=[],this.textStrokeWidth=this.textStrokeColor=this.textShadow="",this.wrapLine=!0,this.id="",this.nestedCues=[],this.lineBreak=this.isContainer=!1,this.rubyTag=null,this.cellResolution={Hc:32,rows:15}}function xm(e,t){return e=new je(e,t,""),e.lineBreak=!0,e}je.prototype.clone=function(){var e=new je(0,0,""),t;for(t in this)e[t]=this[t],e[t]&&e[t].constructor==Array&&(e[t]=e[t].slice());return e};function fu(e,t){if(e.startTime!=t.startTime||e.endTime!=t.endTime||e.payload!=t.payload)return!1;for(var n in e)if(n!="startTime"&&n!="endTime"&&n!="payload"){if(n=="nestedCues"){if(!Ts(e.nestedCues,t.nestedCues,fu))return!1}else if(n=="region"||n=="cellResolution"){for(var i in e[n])if(e[n][i]!=t[n][i])return!1}else if(Array.isArray(e[n])){if(!Ts(e[n],t[n]))return!1}else if(e[n]!=t[n])return!1}return!0}function pu(e,t){t=t===void 0?new Map:t;var n=e.payload;if(n.includes("<")){t.size===0&&Im(t);var i=n;n=[];for(var r=-1,o=0;o<i.length;o++)i[o]==="<"?r=o+1:i[o]===">"&&0<r&&(r=i.substr(r,o-r),r.match(rw)&&n.push(r),r=-1);for(n=g(n),o=n.next();!o.done;o=n.next())o=o.value,i=i.replace("<"+o+">",'<div time="'+o+'">'),i+="</div>";e:{o=i,r=[];var s=-1;n="",i=!1;for(var a=0;a<o.length;a++)if(o[a]==="/"){var u=o.indexOf(">",a);if(u===-1){n=o;break e}if((u=o.substring(a+1,u))&&u=="v"){i=!0;var l=null;if(r.length&&(l=r[r.length-1]),l){if(l===u)n+="/"+u+">";else{if(!l.startsWith("v")){n+=o[a];continue}n+="/"+l+">"}a+=u.length+1}else n+=o[a]}else n+=o[a]}else o[a]==="<"?(s=a+1,o[s]!="v"&&(s=-1)):o[a]===">"&&0<s&&(r.push(o.substr(s,a-s)),s=-1),n+=o[a];for(o=g(r),r=o.next();!r.done;r=o.next())r=r.value,s=r.replace(" ",".voice-"),n=n.replace("<"+r+">","<"+s+">"),n=n.replace("</"+r+">","</"+s+">"),i||(n+="</"+s+">")}n=iw(n),e.payload="";try{var c=Jr("<span>"+n+"</span>","span")}catch{}if(c)if(c=c.children,c.length!=1||c[0].tagName)for(c=g(c),n=c.next();!n.done;n=c.next())Cm(n.value,e,t);else e.payload=Nt(n);else e.payload=Nt(n)}else e.payload=Nt(n)}function Im(e){for(var t=g(Object.entries(km)),n=t.next();!n.done;n=t.next()){var i=g(n.value);n=i.next().value,i=i.next().value;var r=new je(0,0,"");r.color=i,e.set("."+n,r)}for(t=g(Object.entries(Rm)),n=t.next();!n.done;n=t.next())i=g(n.value),n=i.next().value,i=i.next().value,r=new je(0,0,""),r.backgroundColor=i,e.set("."+n,r)}function iw(e){var t={"< ":""," >":" &gt;"},n=/(< +>|<\s|\s>)/g,i=RegExp(n.source);return e&&i.test(e)?e.replace(n,function(r){return t[r]||""}):e||""}function Cm(e,t,n){var i=t.clone();if(i.nestedCues=[],i.payload="",i.rubyTag="",i.line=null,i.region=new fr,i.position=null,i.size=0,e.tagName)for(var r=g(e.tagName.split(/(?=[ .])+/g)),o=r.next();!o.done;o=r.next()){var s=o=o.value;if(s.startsWith(".voice-")){var a=s.split("-").pop();s='v[voice="'+a+'"]',n.has(s)||(s="v[voice="+a+"]")}switch(n.has(s)&&(a=i,s=n.get(s))&&(a.backgroundColor=ws(s.backgroundColor,a.backgroundColor),a.color=ws(s.color,a.color),a.fontFamily=ws(s.fontFamily,a.fontFamily),a.fontSize=ws(s.fontSize,a.fontSize),a.textShadow=ws(s.textShadow,a.textShadow),a.fontWeight=s.fontWeight,a.fontStyle=s.fontStyle,a.opacity=s.opacity,a.rubyTag=s.rubyTag,a.textCombineUpright=s.textCombineUpright,a.wrapLine=s.wrapLine),o){case"br":i=xm(i.startTime,i.endTime),t.nestedCues.push(i);return;case"b":i.fontWeight=Qr;break;case"i":i.fontStyle=Zr;break;case"u":i.textDecoration.push(yi);break;case"font":(o=e.attributes.color)&&(i.color=o);break;case"div":if(o=e.attributes.time,!o)break;(o=Es(o))&&(i.startTime=o);break;case"ruby":case"rp":case"rt":i.rubyTag=o}}if(r=e.children,au(e)||r.length==1&&au(r[0]))for(n=et(e).split(`
`),e=!0,n=g(n),r=n.next();!r.done;r=n.next())r=r.value,e||(e=xm(i.startTime,i.endTime),t.nestedCues.push(e)),0<r.length&&(e=i.clone(),e.payload=Nt(r),t.nestedCues.push(e)),e=!1;else for(t.nestedCues.push(i),t=g(r),e=t.next();!e.done;e=t.next())Cm(e.value,i,n)}function ws(e,t){return e&&0<e.length?e:t}G("shaka.text.Cue",je),je.parseCuePayload=pu,je.equal=fu,je.prototype.clone=je.prototype.clone;var gu="auto";je.positionAlign={LEFT:"line-left",RIGHT:"line-right",CENTER:"center",AUTO:gu};var vi="center",Sh={LEFT:"left",RIGHT:"right",CENTER:vi,START:"start",END:"end"};je.textAlign=Sh;var xs="after",Mm={BEFORE:"before",CENTER:"center",AFTER:xs};je.displayAlign=Mm;var Is="ltr";je.direction={HORIZONTAL_LEFT_TO_RIGHT:Is,HORIZONTAL_RIGHT_TO_LEFT:"rtl"};var vr="horizontal-tb";je.writingMode={HORIZONTAL_TOP_TO_BOTTOM:vr,VERTICAL_LEFT_TO_RIGHT:"vertical-lr",VERTICAL_RIGHT_TO_LEFT:"vertical-rl"};var Cs=0;je.lineInterpretation={LINE_NUMBER:Cs,PERCENTAGE:1};var yr="start",Eh={CENTER:"center",START:yr,END:"end"};je.lineAlign=Eh;var km={white:"white",lime:"lime",cyan:"cyan",red:"red",yellow:"yellow",magenta:"magenta",blue:"blue",black:"black"};je.defaultTextColor=km;var Rm={bg_white:"white",bg_lime:"lime",bg_cyan:"cyan",bg_red:"red",bg_yellow:"yellow",bg_magenta:"magenta",bg_blue:"blue",bg_black:"black"};je.defaultTextBackgroundColor=Rm;var Lm=400,Qr=700;je.fontWeight={NORMAL:Lm,BOLD:Qr};var Ah="normal",Zr="italic",Pm={NORMAL:Ah,ITALIC:Zr,OBLIQUE:"oblique"};je.fontStyle=Pm;var yi="underline";je.textDecoration={UNDERLINE:yi,LINE_THROUGH:"lineThrough",OVERLINE:"overline"};var rw=/(?:(\d{1,}):)?(\d{2}):(\d{2})\.(\d{2,3})/g;function Hi(){}Hi.prototype.destroy=function(){};function Ti(e,t,n){wh[e.toLowerCase().split(";")[0]+"-"+n]={priority:n,Ye:t}}function zi(e,t){for(var n=e.toLowerCase().split(";")[0],i=g([Dm,Ih,xh,Ki]),r=i.next();!r.done;r=i.next())if(r=wh[n+"-"+r.value]){var o=r.Ye(),s=o.isSupported(e,t);if(o.destroy(),s)return r.Ye}return null}G("shaka.transmuxer.TransmuxerEngine",Hi),Hi.findTransmuxer=zi,Hi.unregisterTransmuxer=function(e,t){delete wh[e.toLowerCase().split(";")[0]+"-"+t]},Hi.registerTransmuxer=Ti,Hi.prototype.destroy=Hi.prototype.destroy;var wh={},Ki=1,xh=2,Ih=3,Dm=4;Hi.PluginPriority={FALLBACK:Ki,PREFERRED_SECONDARY:xh,PREFERRED:Ih,APPLICATION:Dm};function Ch(){}function ot(e,t){var n=e;return t&&!Wi.includes(e)&&(n+='; codecs="'+t+'"'),n}function Tr(e,t){return t&&(e+='; codecs="'+t+'"'),e}function eo(e,t,n){var i=ot(e,t);return t=Tr(e,t),zi(t)?(e=zi(t))?(e=e(),n=e.convertCodecs(n,t),e.destroy()):n=t:n=e!="video/mp2t"&&n=="audio"?i.replace("video","audio"):i,n}function ow(e,t,n){var i=[t];return sw.forEach(function(r,o){var s=e[o];o=="codecs"?Wi.includes(e.mimeType)||i.push('codecs="'+n+'"'):s&&i.push(r+'="'+s+'"')}),e.hdr=="PQ"&&i.push('eotf="smpte2084"'),i.join(";")}function mu(e){return e.split(";")[0].split("/")[1]}function It(e){var t=_m(e);switch(e=t[0],t=t[1].toLowerCase(),!0){case(e==="mp4a"&&t==="69"):case(e==="mp4a"&&t==="6b"):case(e==="mp4a"&&t==="40.34"):return"mp3";case(e==="mp4a"&&t==="66"):case(e==="mp4a"&&t==="67"):case(e==="mp4a"&&t==="68"):case(e==="mp4a"&&t==="40.2"):case(e==="mp4a"&&t==="40.02"):case(e==="mp4a"&&t==="40.5"):case(e==="mp4a"&&t==="40.05"):case(e==="mp4a"&&t==="40.29"):case(e==="mp4a"&&t==="40.42"):return"aac";case(e==="mp4a"&&t==="a5"):return"ac-3";case(e==="mp4a"&&t==="a6"):return"ec-3";case(e==="mp4a"&&t==="b2"):return"dtsx";case(e==="mp4a"&&t==="a9"):return"dtsc";case e==="avc1":case e==="avc3":return"avc";case e==="hvc1":case e==="hev1":return"hevc";case e==="vvc1":case e==="vvi1":return"vvc";case e==="dvh1":case e==="dvhe":return"dovi-hevc";case e==="dvav":case e==="dva1":return"dovi-avc";case e==="dav1":return"dovi-av1";case e==="dvc1":case e==="dvi1":return"dovi-vvc"}return e}function qi(e){var t=[];e=g(e.split(","));for(var n=e.next();!n.done;n=e.next())n=_m(n.value),t.push(n[0]);return t.sort().join(",")}function nn(e){return e.split(";")[0]}function rn(e){return e=e.split(/ *; */),e.shift(),(e=e.find(function(t){return t.startsWith("codecs=")}))?e.split("=")[1].replace(/^"|"$/g,""):""}function Nm(e){return e==="application/x-mpegurl"||e==="application/vnd.apple.mpegurl"}function _m(e){e=e.split(".");var t=e[0];return e.shift(),[t,e.join(".")]}G("shaka.util.MimeUtils",Ch),Ch.getFullTypeWithAllCodecs=Tr,Ch.getFullType=ot;var sw=new Map().set("codecs","codecs").set("frameRate","framerate").set("bandwidth","bitrate").set("width","width").set("height","height").set("channelsCount","channels"),Wi=["audio/aac","audio/ac3","audio/ec3","audio/mpeg"];function Si(e){this.i=null,this.j=e,this.C=!1,this.l=this.u=0,this.m=1/0,this.h=this.g=null,this.G="",this.A=function(){},this.o=new Map}function Ms(e){return tt[e]?!0:e=="application/cea-608"||e=="application/cea-708"?!!Xr:!1}Si.prototype.destroy=function(){return this.j=this.i=null,this.o.clear(),Promise.resolve()};function aw(e,t,n,i,r){var o,s,a,u,l,c,h;return k(function(d){if(d.g==1)return T(d,Promise.resolve(),2);if(!e.i||!e.j)return d.return();if(n==null||i==null)return e.i.parseInit(fe(t)),d.return();for(o=e.C?n:e.u,s={periodStart:e.u,segmentStart:n,segmentEnd:i,vttOffset:o},a=e.i.parseMedia(fe(t),s,r,[]),u=g(a),l=u.next();!l.done;l=u.next())c=l.value,e.A(c,r||null,s);h=a.filter(function(p){return p.startTime>=e.l&&p.startTime<e.m}),e.j.append(h),e.g==null&&(e.g=Math.max(n,e.l)),e.h=Math.min(i,e.m),H(d)})}Si.prototype.remove=function(e,t){var n=this;return k(function(i){if(i.g==1)return T(i,Promise.resolve(),2);!n.j||!n.j.remove(e,t)||n.g==null||t<=n.g||e>=n.h||(e<=n.g&&t>=n.h?n.g=n.h=null:e<=n.g&&t<n.h?n.g=t:e>n.g&&t>=n.h&&(n.h=e)),H(i)})};function uw(e,t,n){e.l=t,e.m=n}function Um(e,t,n){if(e.G=t,t=e.o.get(t))for(var i=g(t.keys()),r=i.next();!r.done;r=i.next())(r=t.get(r.value).filter(function(o){return o.endTime<=n}))&&e.j.append(r)}function Om(e,t,n){t.startTime+=n,t.endTime+=n,t=g(t.nestedCues);for(var i=t.next();!i.done;i=t.next())Om(e,i.value,n)}function lw(e,t,n,i,r){var o=n+" "+i,s=new Map;t=g(t);for(var a=t.next();!a.done;a=t.next()){var u=a.value;a=u.stream,u=u.cue,s.has(a)||s.set(a,new Map),s.get(a).has(o)||s.get(a).set(o,[]),Om(e,u,r),u.startTime>=e.l&&u.startTime<e.m&&(s.get(a).get(o).push(u),a==e.G&&e.j.append([u]))}for(r=g(s.keys()),o=r.next();!o.done;o=r.next())for(o=o.value,e.o.has(o)||e.o.set(o,new Map),t=g(s.get(o).keys()),a=t.next();!a.done;a=t.next())a=a.value,u=s.get(o).get(a),e.o.get(o).set(a,u);e.g=e.g==null?Math.max(n,e.l):Math.min(e.g,Math.max(n,e.l)),e.h=Math.max(e.h,Math.min(i,e.m))}G("shaka.text.TextEngine",Si),Si.prototype.destroy=Si.prototype.destroy,Si.findParser=function(e){return tt[e]},Si.unregisterParser=function(e){delete tt[e]},Si.registerParser=function(e,t){tt[e]=t};var tt={};function cw(e,t){return e.concat(t)}function jm(){}function Ei(e){return e!=null}function bm(){}function Fm(e,t,n,i){var r=e.variants;if((t.length||n.length)&&(r=hw(r,t,n)),i.length){for(t=new Wa,r=g(r),n=r.next();!n.done;n=r.next())n=n.value,t.push(String(n.video.width||0),n);var o=[];t.forEach(function(v,y){v=0;var E=[];y=g(y);for(var S=y.next(),w={};!S.done;w={tf:void 0},S=y.next())w.tf=S.value,S=i.filter(function(A){return function(x){return A.tf.decodingInfos[0][x]}}(w)).length,S>v?(v=S,E=[w.tf]):S==v&&E.push(w.tf);o.push.apply(o,X(E))}),r=o}n=new Set,t=new Set,r=g(r);for(var s=r.next();!s.done;s=r.next())s=s.value,s.audio&&n.add(s.audio),s.video&&t.add(s.video);n=Array.from(n).sort(function(v,y){return v.bandwidth-y.bandwidth});var a=[];for(r=new Map,n=g(n),s=n.next();!s.done;s=n.next()){s=s.value;var u=s.language+(s.channelsCount||0)+(s.audioSamplingRate||0)+s.roles.join(",")+s.label+s.groupId+s.fastSwitching,l=r.get(u)||[];if(l.length){var c=l[l.length-1],h=It(c.codecs),d=It(s.codecs);h!=d||s.bandwidth&&c.bandwidth&&!(s.bandwidth>c.bandwidth)||(l.push(s),a.push(s.id))}else l.push(s),a.push(s.id);r.set(u,l)}var p={vp8:1,avc:1,"dovi-avc":.95,vp9:.9,vp09:.9,hevc:.85,"dovi-hevc":.8,av01:.75,"dovi-av1":.7,vvc:.65};n=Array.from(t).sort(function(v,y){if(!v.bandwidth||!y.bandwidth||v.bandwidth==y.bandwidth){if(v.codecs&&y.codecs&&v.codecs!=y.codecs&&v.width==y.width){var E=It(v.codecs),S=It(y.codecs);if(E!=S)return(p[E]||1)-(p[S]||1)}return v.width-y.width}return v.bandwidth-y.bandwidth}),t=Gi();var m=[];for(r=new Map,n=g(n),s=n.next();!s.done;s=n.next()){if(s=s.value,u=Math.round(s.frameRate||0)+(s.hdr||"")+s.fastSwitching,l=r.get(u)||[],l.length){if(c=l[l.length-1],!t&&(h=It(c.codecs),d=It(s.codecs),h!==d))continue;s.width>c.width||s.height>c.height?(l.push(s),m.push(s.id)):s.width==c.width&&s.height==c.height&&(h=It(c.codecs),d=It(s.codecs),h!=d||s.bandwidth&&c.bandwidth&&!(s.bandwidth>c.bandwidth)||(l.push(s),m.push(s.id)))}else l.push(s),m.push(s.id);r.set(u,l)}e.variants=e.variants.filter(function(v){var y=v.audio;return v=v.video,!(y&&!a.includes(y.id)||v&&!m.includes(v.id))})}function hw(e,t,n){t=g(t);for(var i=t.next(),r={};!i.done;r={Ji:void 0},i=t.next())if(r.Ji=i.value,i=e.filter(function(o){return function(s){return s.video&&s.video.codecs.startsWith(o.Ji)}}(r)),i.length){e=i;break}for(n=g(n),t=n.next(),i={};!t.done;i={ph:void 0},t=n.next())if(i.ph=t.value,t=e.filter(function(o){return function(s){return s.audio&&s.audio.codecs.startsWith(o.ph)}}(i)),t.length){e=t;break}return e}function dw(e,t,n){e.variants=e.variants.filter(function(i){return vu(i,t,n)})}function vu(e,t,n){function i(a,u,l){return a>=u&&a<=l}var r=e.video;if(r&&r.width&&r.height){var o=r.width,s=r.height;if(s>o&&(s=g([s,o]),o=s.next().value,s=s.next().value),!i(o,t.minWidth,Math.min(t.maxWidth,n.width))||!i(s,t.minHeight,Math.min(t.maxHeight,n.height))||!i(r.width*r.height,t.minPixels,t.maxPixels))return!1}return!(e&&e.video&&e.video.frameRate&&!i(e.video.frameRate,t.minFrameRate,t.maxFrameRate)||e&&e.audio&&e.audio.channelsCount&&!i(e.audio.channelsCount,t.minChannelsCount,t.maxChannelsCount)||!i(e.bandwidth,t.minBandwidth,t.maxBandwidth))}function fw(e,t,n){return n=n===void 0?[]:n,k(function(i){return i.g==1?T(i,Bm(e,t,0<t.offlineSessionIds.length,n),2):(vw(t),T(i,yw(t),0))})}function Bm(e,t,n,i){var r,o;return k(function(s){if(s.g==1)return Vn()&&pw(t.variants),T(s,Hm(t.variants,n,!1,i),2);r=null,e&&(o=e.g)&&(r=o.keySystem),t.variants=t.variants.filter(function(a){var u=gw(a,r);if(!u){var l=[];a.audio&&l.push(Ym(a.audio)),a.video&&l.push(Ym(a.video))}return u}),H(s)})}function pw(e){var t={dvav:"avc3",dva1:"avc1",dvhe:"hev1",dvh1:"hvc1",dvc1:"vvc1",dvi1:"vvi1"},n=new Set;e=g(e);for(var i=e.next();!i.done;i=e.next())i=i.value,i.video&&n.add(i.video);for(n=g(n),e=n.next();!e.done;e=n.next()){e=e.value,i=g(Object.keys(t));for(var r=i.next();!r.done;r=i.next())if(r=r.value,e.codecs.includes(r)){e.codecs=e.codecs.replace(r,t[r]);break}}}function gw(e,t){var n=Vn(),i=ke("Firefox")&&nu(),r=e.video,o=r&&r.width||0,s=r&&r.height||0;if(n&&r&&(1920<o||1080<s)&&(r.codecs.includes("avc1.")||r.codecs.includes("avc3.")))return!1;if(r){if(n=ks(r.codecs),r.codecs.includes(",")){if(o=r.codecs.split(","),n=Hr("video",o),n=ks(n),o=Hr("audio",o),o=to(o,r.mimeType),s=eo(r.mimeType,o,"audio"),!rt(s))return!1;n=[n,o].join()}if(o=eo(r.mimeType,n,"video"),!rt(o))return!1;r.codecs=n}if(r=e.audio,i&&r&&r.encrypted&&r.codecs.toLowerCase().includes("opus"))return!1;if(r){if(i=to(r.codecs,r.mimeType),n=eo(r.mimeType,i,"audio"),!rt(n))return!1;r.codecs=i}return e.decodingInfos.some(function(a){return!(!a.supported||t&&(a=a.keySystemAccess)&&a.keySystem!=t)})}function Gm(e){var t=[];for(n in e)t.push(n);t.sort();var n=[];t=g(t);for(var i=t.next();!i.done;i=t.next()){var r=i.value;i=JSON.stringify(r),r=e[r],r instanceof Object?(r=Gm(r),n.push(i+":"+r)):(r=JSON.stringify(r),n.push(i+":"+r))}return"{"+n.join(",")+"}"}function Vm(e,t){var n,i,r,o,s,a,u;return k(function(l){if(l.g==1){for(n=function(c,h){if(c){var d=mr(c);return d.supported=c.supported&&h.supported,d.powerEfficient=c.powerEfficient&&h.powerEfficient,d.smooth=c.smooth&&h.smooth,h.keySystemAccess&&!d.keySystemAccess&&(d.keySystemAccess=h.keySystemAccess),d}return h},i=null,r=[],o=g(t),s=o.next(),a={};!s.done;a={cache:void 0,pe:void 0},s=o.next())u=s.value,a.pe=Gm(u),a.cache=$m,a.cache[a.pe]?i=n(i,a.cache[a.pe]):r.push(mw(u).then(function(c){return function(h){var d=null;h=g(h||[]);for(var p=h.next();!p.done;p=h.next())d=n(d,p.value);d&&(c.cache[c.pe]=d,i=n(i,d))}}(a)));return T(l,Promise.all(r),2)}i&&e.decodingInfos.push(i),H(l)})}function mw(e){var t=[""];e.video&&(t=rn(e.video.contentType).split(","));var n=[""];e.audio&&(n=rn(e.audio.contentType).split(","));var i=[];t=g(t);for(var r=t.next();!r.done;r=t.next()){r=r.value;for(var o=g(n),s=o.next(),a={};!s.done;a={dd:void 0},s=o.next())s=s.value,a.dd=Qn(e),e.video&&(a.dd.video.contentType=ot(nn(a.dd.video.contentType),r)),e.audio&&(a.dd.audio.contentType=ot(nn(a.dd.audio.contentType),s)),i.push(new Promise(function(u){return function(l,c){navigator.mediaCapabilities.decodingInfo(u.dd).then(function(h){l(h)}).catch(c)}}(a)))}return Promise.all(i).catch(function(){return JSON.stringify(e),null})}function Hm(e,t,n,i){var r,o,s,a,u,l,c,h,d,p,m,v,y,E,S,w,A,x;return k(function(I){switch(I.g){case 1:if(e.some(function(C){return C.decodingInfos.length}))return I.return();r=g(i),o=r.next(),s={};case 2:if(o.done){I.B(4);break}s.ci=o.value,a=!1,u=g(e),l=u.next();case 5:if(l.done){I.B(7);break}c=l.value,h=zm(c,t,n).filter(function(C){return function(L){return L=L[0],(L.keySystemConfiguration&&L.keySystemConfiguration.keySystem)===C.ci}}(s)),d=g(h),p=d.next();case 8:if(p.done){I.B(10);break}return m=p.value,T(I,Vm(c,m),9);case 9:p=d.next(),I.B(8);break;case 10:c.decodingInfos.length&&(a=!0),l=u.next(),I.B(5);break;case 7:if(a)return I.return();s={ci:void 0},o=r.next(),I.B(2);break;case 4:v=g(e),y=v.next();case 12:if(y.done){I.B(0);break}E=y.value,S=zm(E,t,n).filter(function(C){return C=C[0],C=C.keySystemConfiguration&&C.keySystemConfiguration.keySystem,!C||!i.includes(C)}),w=g(S),A=w.next();case 15:if(A.done){y=v.next(),I.B(12);break}return x=A.value,T(I,Vm(E,x),16);case 16:A=w.next(),I.B(15)}})}function zm(e,t,n){var i=e.audio,r=e.video,o=[],s=[];if(r)for(var a=g(r.fullMimeTypes),u=a.next();!u.done;u=a.next()){u=u.value;var l=rn(u);if(l.includes(",")&&!i){var c=l.split(","),h=nn(u);l=Hr("video",c),c=Hr("audio",c),c=to(c,h),h=eo(h,c,"audio"),s.push({contentType:h,channels:2,bitrate:e.bandwidth||1,samplerate:1,spatialRendering:!1})}if(l=ks(l),u={contentType:eo(nn(u),l,"video"),width:r.width||64,height:r.height||64,bitrate:r.bandwidth||e.bandwidth||1,framerate:r.frameRate||1},r.hdr)switch(r.hdr){case"SDR":u.transferFunction="srgb";break;case"PQ":u.transferFunction="pq";break;case"HLG":u.transferFunction="hlg"}r.colorGamut&&(u.colorGamut=r.colorGamut),o.push(u)}if(i)for(a=g(i.fullMimeTypes),u=a.next();!u.done;u=a.next())l=u.value,u=nn(l),l=to(rn(l),u),u=eo(u,l,"audio"),s.push({contentType:u,channels:i.channelsCount||2,bitrate:i.bandwidth||e.bandwidth||1,samplerate:i.audioSamplingRate||1,spatialRendering:i.spatialAudio});for(a=[],o.length==0&&o.push(null),s.length==0&&s.push(null),o=g(o),u=o.next();!u.done;u=o.next())for(u=u.value,l=g(s),h=l.next();!h.done;h=l.next())h=h.value,c={type:n?"file":"media-source"},u&&(c.video=u),h&&(c.audio=h),a.push(c);if(s=(e.video?e.video.drmInfos:[]).concat(e.audio?e.audio.drmInfos:[]),!s.length)return[a];for(e=[],n=new Map,s=g(s),o=s.next();!o.done;o=s.next())o=o.value,n.get(o.keySystem)||n.set(o.keySystem,[]),n.get(o.keySystem).push(o);for(s=t?"required":"optional",t=t?["persistent-license"]:["temporary"],o=g(n.keys()),u=o.next();!u.done;u=o.next()){for(u=u.value,l=[],h=g(a),c=h.next();!c.done;c=h.next()){c=Object.assign({},c.value);var d=n.get(u),p={keySystem:u,initDataType:"cenc",persistentState:s,distinctiveIdentifier:"optional",sessionTypes:t};d=g(d);for(var m=d.next();!m.done;m=d.next()){if(m=m.value,m.initData&&m.initData.length){for(var v=new Set,y=g(m.initData),E=y.next();!E.done;E=y.next())v.add(E.value.initDataType);p.initDataType=m.initData[0].initDataType}m.distinctiveIdentifierRequired&&(p.distinctiveIdentifier="required"),m.persistentStateRequired&&(p.persistentState="required"),m.sessionType&&(p.sessionTypes=[m.sessionType]),i&&(p.audio?(m.encryptionScheme&&(p.audio.encryptionScheme=p.audio.encryptionScheme||m.encryptionScheme),p.audio.robustness=p.audio.robustness||m.audioRobustness):(p.audio={robustness:m.audioRobustness},m.encryptionScheme&&(p.audio.encryptionScheme=m.encryptionScheme)),p.audio.robustness==""&&delete p.audio.robustness),r&&(p.video?(m.encryptionScheme&&(p.video.encryptionScheme=p.video.encryptionScheme||m.encryptionScheme),p.video.robustness=p.video.robustness||m.videoRobustness):(p.video={robustness:m.videoRobustness},m.encryptionScheme&&(p.video.encryptionScheme=m.encryptionScheme)),p.video.robustness==""&&delete p.video.robustness)}c.keySystemConfiguration=p,l.push(c)}e.push(l)}return e}function to(e,t){return e.toLowerCase()=="flac"?Bi()?"fLaC":"flac":e.toLowerCase()==="opus"?Bi()&&mu(t)=="mp4"?"Opus":"opus":e}function ks(e){if(e.includes("avc1")){var t=e.split(".");if(t.length==3)return e=t.shift()+".",e+=parseInt(t.shift(),10).toString(16),e+=("000"+parseInt(t.shift(),10).toString(16)).slice(-4)}else if(e=="vp9")return"vp09.00.41.08";return e}function vw(e){e.textStreams=e.textStreams.filter(function(t){return t=ot(t.mimeType,t.codecs),Ms(t)})}function yw(e){var t,n,i,r,o,s,a;return k(function(u){switch(u.g){case 1:t=[],n=g(e.imageStreams),i=n.next();case 2:if(i.done){u.B(4);break}if(r=i.value,o=r.mimeType,o=="application/mp4"&&r.codecs=="mjpg"&&(o="image/jpg"),Su.has(o)){u.B(5);break}if(s=Ew.get(o),!s){Su.set(o,!1),u.B(5);break}return T(u,Tw(s),7);case 7:a=u.h,Su.set(o,a);case 5:Su.get(o)&&t.push(r),i=n.next(),u.B(2);break;case 4:e.imageStreams=t,H(u)}})}function Tw(e){return new Promise(function(t){var n=new Image;n.src=e,"decode"in n?n.decode().then(function(){t(!0)}).catch(function(){t(!1)}):n.onload=n.onerror=function(){t(n.height===2)}})}function no(e){var t=e.audio,n=e.video,i=t?t.mimeType:null,r=n?n.mimeType:null,o=t?t.codecs:null,s=n?n.codecs:null,a=[];s&&a.push(s),o&&a.push(o);var u=[];n&&u.push(n.mimeType),t&&u.push(t.mimeType),u=u[0]||null;var l=[];t&&l.push(t.kind),n&&l.push(n.kind),l=l[0]||null;var c=new Set;if(t)for(var h=g(t.roles),d=h.next();!d.done;d=h.next())c.add(d.value);if(n)for(h=g(n.roles),d=h.next();!d.done;d=h.next())c.add(d.value);return e={id:e.id,active:!1,type:"variant",bandwidth:e.bandwidth,language:e.language,label:null,kind:l,width:null,height:null,frameRate:null,pixelAspectRatio:null,hdr:null,colorGamut:null,videoLayout:null,mimeType:u,audioMimeType:i,videoMimeType:r,codecs:a.join(", "),audioCodec:o,videoCodec:s,primary:e.primary,roles:Array.from(c),audioRoles:null,forced:!1,videoId:null,audioId:null,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,tilesLayout:null,audioBandwidth:null,videoBandwidth:null,originalVideoId:null,originalAudioId:null,originalTextId:null,originalImageId:null,accessibilityPurpose:null,originalLanguage:null},n&&(e.videoId=n.id,e.originalVideoId=n.originalId,e.width=n.width||null,e.height=n.height||null,e.frameRate=n.frameRate||null,e.pixelAspectRatio=n.pixelAspectRatio||null,e.videoBandwidth=n.bandwidth||null,e.hdr=n.hdr||null,e.colorGamut=n.colorGamut||null,e.videoLayout=n.videoLayout||null,s.includes(",")&&(e.channelsCount=n.channelsCount,e.audioSamplingRate=n.audioSamplingRate,e.spatialAudio=n.spatialAudio,e.originalLanguage=n.originalLanguage)),t&&(e.audioId=t.id,e.originalAudioId=t.originalId,e.channelsCount=t.channelsCount,e.audioSamplingRate=t.audioSamplingRate,e.audioBandwidth=t.bandwidth||null,e.spatialAudio=t.spatialAudio,e.label=t.label,e.audioRoles=t.roles,e.accessibilityPurpose=t.accessibilityPurpose,e.originalLanguage=t.originalLanguage),e}function yu(e){return{id:e.id,active:!1,type:me,bandwidth:0,language:e.language,label:e.label,kind:e.kind||null,width:null,height:null,frameRate:null,pixelAspectRatio:null,hdr:null,colorGamut:null,videoLayout:null,mimeType:e.mimeType,audioMimeType:null,videoMimeType:null,codecs:e.codecs||null,audioCodec:null,videoCodec:null,primary:e.primary,roles:e.roles,audioRoles:null,forced:e.forced,videoId:null,audioId:null,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,tilesLayout:null,audioBandwidth:null,videoBandwidth:null,originalVideoId:null,originalAudioId:null,originalTextId:e.originalId,originalImageId:null,accessibilityPurpose:e.accessibilityPurpose,originalLanguage:e.originalLanguage}}function Mh(e){var t=e.width||null,n=e.height||null,i=null;e.segmentIndex&&(i=qn(e.segmentIndex));var r=e.tilesLayout;return i&&(r=i.tilesLayout||r),r&&t!=null&&(t/=Number(r.split("x")[0])),r&&n!=null&&(n/=Number(r.split("x")[1])),{id:e.id,active:!1,type:"image",bandwidth:e.bandwidth||0,language:"",label:null,kind:null,width:t,height:n,frameRate:null,pixelAspectRatio:null,hdr:null,colorGamut:null,videoLayout:null,mimeType:e.mimeType,audioMimeType:null,videoMimeType:null,codecs:e.codecs||null,audioCodec:null,videoCodec:null,primary:!1,roles:[],audioRoles:null,forced:!1,videoId:null,audioId:null,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,tilesLayout:r||null,audioBandwidth:null,videoBandwidth:null,originalVideoId:null,originalAudioId:null,originalTextId:null,originalImageId:e.originalId,accessibilityPurpose:null,originalLanguage:null}}function kh(e){return e.__shaka_id||(e.__shaka_id=Sw++),e.__shaka_id}function Km(e){var t=qm(e);return t.active=e.mode!="disabled",t.type="text",t.originalTextId=e.id,e.kind=="captions"&&(t.mimeType="unknown"),e.kind=="subtitles"&&(t.mimeType="text/vtt"),e.kind&&(t.roles=[e.kind]),e.kind=="forced"&&(t.forced=!0),t}function Rh(e){var t=qm(e);return t.active=e.enabled,t.type="variant",t.originalAudioId=e.id,e.kind=="main"&&(t.primary=!0),e.kind&&(t.roles=[e.kind],t.audioRoles=[e.kind],t.label=e.label),t}function qm(e){var t=e.language;return{id:kh(e),active:!1,type:"",bandwidth:0,language:Ce(t||"und"),label:e.label,kind:e.kind,width:null,height:null,frameRate:null,pixelAspectRatio:null,hdr:null,colorGamut:null,videoLayout:null,mimeType:null,audioMimeType:null,videoMimeType:null,codecs:null,audioCodec:null,videoCodec:null,primary:!1,roles:[],forced:!1,audioRoles:null,videoId:null,audioId:null,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,tilesLayout:null,audioBandwidth:null,videoBandwidth:null,originalVideoId:null,originalAudioId:null,originalTextId:null,originalImageId:null,accessibilityPurpose:null,originalLanguage:t}}function Rs(e){return e.allowedByApplication&&e.allowedByKeySystem&&e.disabledUntilTime==0}function Tu(e){return e.filter(function(t){return Rs(t)})}function Ls(e,t,n,i){var r=e,o=e.filter(function(u){return u.primary});o.length&&(r=o);var s=r.length?r[0].language:"";if(r=r.filter(function(u){return u.language==s}),t){var a=ru(Ce(t),e.map(function(u){return u.language}));a&&(r=e.filter(function(u){return Ce(u.language)==a}))}if(r=r.filter(function(u){return u.forced==i}),n){if(e=Wm(r,n),e.length)return e}else if(e=r.filter(function(u){return u.roles.length==0}),e.length)return e;return e=r.map(function(u){return u.roles}).reduce(cw,[]),e.length?Wm(r,e[0]):r}function Wm(e,t){return e.filter(function(n){return n.roles.includes(t)})}function Xm(e,t){t.length&&(t=t.filter(function(n){return It(e.codecs)==It(n.codecs)}).sort(function(n,i){return n.bandwidth&&i.bandwidth&&n.bandwidth!=i.bandwidth?n.bandwidth-i.bandwidth:(n.width||0)-(i.width||0)}),e.trickModeVideo=t[0],1<t.length&&(t=t.find(function(n){return e.width==n.width&&e.height==n.height})))&&(e.trickModeVideo=t)}function Ym(e){return e.type=="audio"?"type=audio codecs="+e.codecs+" bandwidth="+e.bandwidth+" channelsCount="+e.channelsCount+" audioSamplingRate="+e.audioSamplingRate:e.type=="video"?"type=video codecs="+e.codecs+" bandwidth="+e.bandwidth+" frameRate="+e.frameRate+" width="+e.width+" height="+e.height:"unexpected stream type"}G("shaka.util.StreamUtils",bm),bm.meetsRestrictions=vu;var $m={},Sw=0,Su=new Map().set("image/svg+xml",!0).set("image/png",!0).set("image/jpeg",!0).set("image/jpg",!0),Ew=new Map().set("image/webp","data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA").set("image/avif","data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A=");function qe(){var e=this;this.A=null,this.i=!1,this.j=new ms,this.H=new Ae,navigator.connection&&navigator.connection.addEventListener&&this.H.s(navigator.connection,"change",function(){if(e.i&&e.g.useNetworkInformation){e.j=new ms,e.g&&e.j.configure(e.g.advanced);var t=e.chooseVariant();t&&navigator.onLine&&e.A(t,e.g.clearBufferSwitch,e.g.safeMarginSwitch)}}),this.u=[],this.C=1,this.I=!1,this.h=this.o=this.g=this.l=null,this.G=new oe(function(){if(e.i&&e.g.restrictToElementSize){var t=e.chooseVariant();t&&e.A(t,e.g.clearBufferSwitch,e.g.safeMarginSwitch)}}),this.m=null}f=qe.prototype,f.stop=function(){this.A=null,this.i=!1,this.u=[],this.C=1,this.o=this.l=null,this.h&&(this.h.disconnect(),this.h=null),this.G.stop(),this.m=null},f.release=function(){this.H.release(),this.G=null},f.init=function(e){this.A=e},f.chooseVariant=function(){var e=1/0,t=1/0;if(this.g.restrictToScreenSize){var n=this.g.ignoreDevicePixelRatio?1:O.devicePixelRatio;e=O.screen.height*n,t=O.screen.width*n}this.h&&this.g.restrictToElementSize&&(n=this.g.ignoreDevicePixelRatio?1:O.devicePixelRatio,e=Math.min(e,this.o.clientHeight*n),t=Math.min(t,this.o.clientWidth*n)),n=this.u.filter(function(l){return l&&!(l.audio&&l.audio.fastSwitching||l.video&&l.video.fastSwitching)}),n.length||(n=this.u);var i=n;if(n.length!=this.u.length&&(i=this.u.filter(function(l){return l&&!!(l.audio&&l.audio.fastSwitching||l.video&&l.video.fastSwitching)})),n=Lh(this,this.g.restrictions,i,1/0,1/0),e!=1/0||t!=1/0){n=Aw(n),n=g(n);for(var r=n.next();!r.done;r=n.next())if(r=r.value,r.height>=e&&r.width>=t){e=r.height,t=r.width;break}n=Lh(this,this.g.restrictions,i,e,t)}for(e=this.getBandwidthEstimate(),i.length&&!n.length&&(n=Lh(this,null,i,1/0,1/0),n=[n[0]]),t=n[0]||null,i=0;i<n.length;i++){r=n[i];for(var o=isNaN(this.C)?1:Math.abs(this.C),s=o*r.bandwidth/this.g.bandwidthDowngradeTarget,a={bandwidth:1/0},u=i+1;u<n.length;u++)if(r.bandwidth!=n[u].bandwidth){a=n[u];break}o=o*a.bandwidth/this.g.bandwidthUpgradeTarget,e>=s&&e<=o&&(t.bandwidth!=r.bandwidth||t.bandwidth==r.bandwidth&&t.video&&r.video&&(t.video.width<r.video.width||t.video.height<r.video.height))&&(t=r)}return this.l=Date.now(),t},f.enable=function(){this.i=!0},f.disable=function(){this.i=!1},f.segmentDownloaded=function(e,t,n){e<this.g.cacheLoadThreshold||(this.j.sample(e,t),n&&this.l!=null&&this.i&&Jm(this))},f.trySuggestStreams=function(){this.l!=null&&this.i&&Jm(this)},f.getBandwidthEstimate=function(){var e=this.g.defaultBandwidthEstimate;return navigator.connection&&navigator.connection.downlink&&this.g.useNetworkInformation&&(e=1e6*navigator.connection.downlink),navigator.connection&&navigator.connection.downlink&&this.g.useNetworkInformation&&this.g.preferNetworkInformationBandwidth?e:(e=this.j.getBandwidthEstimate(e),this.m?this.m.getBandwidthEstimate(e):e)},f.setVariants=function(e){this.u=e},f.playbackRateChanged=function(e){this.C=e},f.setMediaElement=function(e){var t=this;this.o=e,this.h&&(this.h.disconnect(),this.h=null),this.o&&"ResizeObserver"in O&&(this.h=new ResizeObserver(function(){t.G.X(ww)}),this.h.observe(this.o))},f.setCmsdManager=function(e){this.m=e},f.configure=function(e){this.g=e,this.j&&this.g&&this.j.configure(this.g.advanced)};function Jm(e){if(!e.I){var t=e.j;if(!(t.g>=t.i))return;e.I=!0,e.l-=1e3*(e.g.switchInterval-e.g.minTimeToSwitch)}Date.now()-e.l<1e3*e.g.switchInterval||(t=e.chooseVariant(),e.getBandwidthEstimate(),t&&e.A(t,e.g.clearBufferSwitch,e.g.safeMarginSwitch))}function Lh(e,t,n,i,r){if(e.m){var o=e.m.Jh();o&&(n=n.filter(function(s){return s.bandwidth&&o?s.bandwidth<=o:!0}))}return t&&(n=n.filter(function(s){return vu(s,t,{width:r,height:i})})),n.sort(function(s,a){return s.bandwidth-a.bandwidth})}function Aw(e){var t=[];e=g(e);for(var n=e.next();!n.done;n=e.next())(n=n.value.video)&&n.height&&n.width&&t.push({height:n.height,width:n.width});return t.sort(function(i,r){return i.width-r.width})}G("shaka.abr.SimpleAbrManager",qe),qe.prototype.configure=qe.prototype.configure,qe.prototype.setCmsdManager=qe.prototype.setCmsdManager,qe.prototype.setMediaElement=qe.prototype.setMediaElement,qe.prototype.playbackRateChanged=qe.prototype.playbackRateChanged,qe.prototype.setVariants=qe.prototype.setVariants,qe.prototype.getBandwidthEstimate=qe.prototype.getBandwidthEstimate,qe.prototype.trySuggestStreams=qe.prototype.trySuggestStreams,qe.prototype.segmentDownloaded=qe.prototype.segmentDownloaded,qe.prototype.disable=qe.prototype.disable,qe.prototype.enable=qe.prototype.enable,qe.prototype.chooseVariant=qe.prototype.chooseVariant,qe.prototype.init=qe.prototype.init,qe.prototype.release=qe.prototype.release,qe.prototype.stop=qe.prototype.stop;var ww=1;G("shaka.config.AutoShowText",{NEVER:0,ALWAYS:1,IF_PREFERRED_TEXT_LANGUAGE:2,IF_SUBTITLES_MAY_BE_NEEDED:3}),G("shaka.config.CodecSwitchingStrategy",{RELOAD:"reload",SMOOTH:"smooth"});function Eu(e,t,n,i){for(n=n===void 0?!0:n,i=i===void 0?!1:i,this.h=e,this.g=new Set([e]),t=t||[],e=g(t),t=e.next();!t.done;t=e.next())this.add(t.value,n,i)}Eu.prototype.add=function(e,t,n){return Qm(this.h,e,t===void 0?!0:t,n===void 0?!1:n)?(this.g.add(e),!0):!1};function Qm(e,t,n,i){var r;if(!(r=!!e.audio!=!!t.audio||!!e.video!=!!t.video||e.language!=t.language)&&(r=e.audio&&t.audio)){r=e.audio;var o=t.audio;r=!!((!r.channelsCount||!o.channelsCount||2<r.channelsCount||2<o.channelsCount)&&r.channelsCount!=o.channelsCount||r.spatialAudio!==o.spatialAudio||n&&!Zm(r,o)||!ev(r.roles,o.roles)||i&&r.groupId!==o.groupId)}return!(i=r)&&(i=e.video&&t.video)&&(e=e.video,t=t.video,i=!((!n||Zm(e,t))&&ev(e.roles,t.roles))),!i}Eu.prototype.values=function(){return this.g.values()};function Zm(e,t){if(e.mimeType!=t.mimeType||(e=e.codecs.split(",").map(function(i){return qi(i)}),t=t.codecs.split(",").map(function(i){return qi(i)}),e.length!=t.length))return!1;e.sort(),t.sort();for(var n=0;n<e.length;n++)if(e[n]!=t[n])return!1;return!0}function ev(e,t){if(e=new Set(e),t=new Set(t),e.delete("main"),t.delete("main"),e.size!=t.size)return!1;e=g(e);for(var n=e.next();!n.done;n=e.next())if(!t.has(n.value))return!1;return!0}function tv(e,t,n){t=t===void 0?"reload":t,n=n===void 0?!1:n,this.i=e,this.h=t,this.g=n,this.j=new io(e.language,"",e.audio&&e.audio.channelsCount?e.audio.channelsCount:0,"",!1,"","","",t,n)}tv.prototype.create=function(e){var t=this,n=this.h=="smooth"&&Gi(),i=e.filter(function(r){return Qm(t.i,r,!n,t.g)});return i.length?new Eu(i[0],i,!n,this.g):this.j.create(e)};function io(e,t,n,i,r,o,s,a,u,l,c){this.A=e,this.C=t,this.i=n,this.j=i,this.G=r,this.m=o,this.h=s===void 0?"":s,this.l=a===void 0?"":a,this.o=u===void 0?"reload":u,this.u=l===void 0?!1:l,this.g=c===void 0?"":c}io.prototype.create=function(e){var t=[];t=xw(e,this.A);var n=e.filter(function(i){return i.primary});return t=t.length?t:n.length?n:e,e=Iw(t,this.C),e.length&&(t=e),this.m&&(e=Lw(t,this.m),e.length&&(t=e)),this.j&&(e=Rw(t,this.j),e.length&&(t=e)),this.i&&(e=kw(t,this.i),e.length&&(t=e)),this.h&&(e=Cw(t,this.h),e.length&&(t=e)),this.l&&(e=Mw(t,this.l),e.length&&(t=e)),e=Pw(t,this.G),e.length&&(t=e),this.g&&(e=Dw(t,this.g),e.length&&(t=e)),new Eu(t[0],t,!(this.o=="smooth"&&Gi()),this.u)};function xw(e,t){t=Ce(t);var n=ru(t,e.map(function(i){return dh(i)}));return n?e.filter(function(i){return n==dh(i)}):[]}function Iw(e,t){return e.filter(function(n){return n.audio?t?n.audio.roles.includes(t):n.audio.roles.length==0:!1})}function Cw(e,t){return e.filter(function(n){return n.audio&&n.audio.label?n.audio.label.toLowerCase()==t.toLowerCase():!1})}function Mw(e,t){return e.filter(function(n){return n.video&&n.video.label?n.video.label.toLowerCase()==t.toLowerCase():!1})}function kw(e,t){return e.filter(function(n){return!(n.audio&&n.audio.channelsCount&&n.audio.channelsCount!=t)})}function Rw(e,t){return t=="AUTO"&&(t=O.matchMedia("(color-gamut: p3)").matches?e.some(function(n){return!!(n.video&&n.video.hdr&&n.video.hdr=="HLG")})?"HLG":"PQ":"SDR"),e.filter(function(n){return!(n.video&&n.video.hdr&&n.video.hdr!=t)})}function Lw(e,t){return e.filter(function(n){return!(n.video&&n.video.videoLayout&&n.video.videoLayout!=t)})}function Pw(e,t){return e.filter(function(n){return!(n.audio&&n.audio.spatialAudio!=t)})}function Dw(e,t){return e.filter(function(n){return!(n.audio&&n.audio.codecs!=t)})}function Nw(){this.g=Ps,this.i=new Map().set(Ps,2).set(ro,1),this.h=0}function nv(e,t,n){e.i.set(Ps,n).set(ro,t)}var ro=0,Ps=1;function iv(e,t){var n=Kn();this.l=e.maxAttempts==null?n.maxAttempts:e.maxAttempts,this.j=e.baseDelay==null?n.baseDelay:e.baseDelay,this.o=e.fuzzFactor==null?n.fuzzFactor:e.fuzzFactor,this.m=e.backoffFactor==null?n.backoffFactor:e.backoffFactor,this.g=0,this.h=this.j,(this.i=t===void 0?!1:t)&&(this.g=1)}function rv(e){var t,n;return k(function(i){if(i.g==1){if(e.g>=e.l)if(e.i)e.g=1,e.h=e.j;else throw new R(2,7,1010);return t=e.g,e.g++,t==0?i.return():(n=e.h*(1+(2*Math.random()-1)*e.o),T(i,new Promise(function(r){new oe(r).X(n/1e3)}),2))}e.h*=e.m,H(i)})}function Kn(){return{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:3e4,stallTimeout:5e3,connectionTimeout:1e4}}function De(){var e,t,n=new Promise(function(i,r){e=i,t=r});return n.resolve=e,n.reject=t,n}De.prototype.resolve=function(){},De.prototype.reject=function(){};function Qe(e,t){this.promise=e,this.i=t,this.g=!1}function Sr(e){return new Qe(Promise.reject(e),function(){return Promise.resolve()})}function Ph(){var e=Promise.reject(new R(2,7,7001));return e.catch(function(){}),new Qe(e,function(){return Promise.resolve()})}function oo(e){return new Qe(Promise.resolve(e),function(){return Promise.resolve()})}function ov(e){return new Qe(e,function(){return e.catch(function(){})})}Qe.prototype.abort=function(){return this.g=!0,this.i()};function sv(e){return new Qe(Promise.all(e.map(function(t){return t.promise})),function(){return Promise.all(e.map(function(t){return t.abort()}))})}Qe.prototype.finally=function(e){return this.promise.then(function(){return e(!0)},function(){return e(!1)}),this},Qe.prototype.Ua=function(e,t){function n(a){return function(u){if(r.g&&a)o.reject(s);else{var l=a?e:t;l?i=_w(l,u,o):(a?o.resolve:o.reject)(u)}}}function i(){return o.reject(s),r.abort()}var r=this,o=new De,s=new R(2,7,7001);return this.promise.then(n(!0),n(!1)),new Qe(o,function(){return i()})};function _w(e,t,n){try{var i=e(t);return i&&i.promise&&i.abort?(n.resolve(i.promise),function(){return i.abort()}):(n.resolve(i),function(){return Promise.resolve(i).then(function(){},function(){})})}catch(r){return n.reject(r),function(){return Promise.resolve()}}}ai.Object.defineProperties(Qe.prototype,{aborted:{configurable:!0,enumerable:!0,get:function(){return this.g}}}),G("shaka.util.AbortableOperation",Qe),Qe.prototype.chain=Qe.prototype.Ua,Qe.prototype.finally=Qe.prototype.finally,Qe.all=sv,Qe.prototype.abort=Qe.prototype.abort,Qe.notAbortable=ov,Qe.completed=oo,Qe.aborted=Ph,Qe.failed=Sr;function so(){this.g=[]}function Er(e,t){e.g.push(t.finally(function(){zn(e.g,t)}))}so.prototype.destroy=function(){for(var e=[],t=g(this.g),n=t.next();!n.done;n=t.next())n=n.value,n.promise.catch(function(){}),e.push(n.abort());return this.g=[],Promise.all(e)};function Fe(e,t,n,i,r,o){Se.call(this),this.i=!1,this.o=new so,this.g=new Set,this.h=new Set,this.l=e||null,this.j=t||null,this.C=n||null,this.G=i||null,this.I=r||null,this.H=o||null,this.u=this.A=!1,this.m=16e3}pe(Fe,Se),f=Fe.prototype,f.Xg=function(e){this.A=e},f.Yg=function(e){this.u=e};function Ai(e,t,n,i){n=n||hv;var r=wu[e];(!r||n>=r.priority)&&(wu[e]={priority:n,Ye:t,ik:i===void 0?!1:i})}function av(e,t){for(var n=g(e.g),i=n.next();!i.done;i=n.next())t.g.add(i.value);for(e=g(e.h),n=e.next();!n.done;n=e.next())t.h.add(n.value)}f.lk=function(e){this.g.add(e)},f.Ok=function(e){this.g.delete(e)},f.wh=function(){this.g.clear()},f.nk=function(e){this.h.add(e)},f.Pk=function(e){this.h.delete(e)},f.xh=function(){this.h.clear()};function ct(e,t,n){return{uris:e,method:"GET",body:null,headers:{},allowCrossSiteCredentials:!1,retryParameters:t,licenseRequestType:null,sessionId:null,drmInfo:null,initData:null,initDataType:null,streamDataCallback:n===void 0?null:n}}f.destroy=function(){return this.i=!0,this.g.clear(),this.h.clear(),Se.prototype.release.call(this),this.o.destroy()},f.request=function(e,t,n){var i=this,r=new cv;if(this.i){var o=Promise.reject(new R(2,7,7001));return o.catch(function(){}),new Au(o,function(){return Promise.resolve()},r)}t.method=t.method||"GET",t.headers=t.headers||{},t.retryParameters=t.retryParameters?Qn(t.retryParameters):Kn(),t.uris=Qn(t.uris),o=Uw(this,e,t,n);var s=o.Ua(function(){return uv(i,e,t,n,new iv(t.retryParameters,!1),0,null,r)}),a=s.Ua(function(d){return Ow(i,e,d,n)}),u=Date.now(),l=0;o.promise.then(function(){l=Date.now()-u},function(){});var c=0;s.promise.then(function(){c=Date.now()},function(){});var h=a.Ua(function(d){var p=Date.now()-c,m=d.response;return m.timeMs+=l,m.timeMs+=p,d.Mj||!i.l||m.fromCache||t.method=="HEAD"||e!=Pn||i.l(m.timeMs,m.data.byteLength,lv(n)),i.H&&i.H(e,m,n),m},function(d){throw d&&(d.severity=2),d});return o=new Au(h.promise,function(){return h.abort()},r),Er(this.o,o),o};function Uw(e,t,n,i){function r(a){o=o.Ua(function(){return n.body&&(n.body=dn(n.body)),a(t,n,i)})}var o=oo(void 0);e.G&&r(e.G),e=g(e.g);for(var s=e.next();!s.done;s=e.next())r(s.value);return o.Ua(void 0,function(a){throw a instanceof R&&a.code==7001?a:new R(2,1,1006,a)})}function uv(e,t,n,i,r,o,s,a){e.A&&(n.uris[o]=n.uris[o].replace("https://","http://")),e.u&&(n.uris[o]=n.uris[o].replace("http://","https://")),0<o&&e.I&&e.I(t,i,n.uris[o],n.uris[o-1]);var u=new $e(n.uris[o]),l=u.Yb,c=!1;l||(l=location.protocol,l=l.slice(0,-1),Xa(u,l),n.uris[o]=u.toString()),l=l.toLowerCase();var h=(l=wu[l])?l.Ye:null;if(!h)return Sr(new R(2,1,1e3,u));var d=l.ik,p=null,m=null,v=!1,y=!1,E;return ov(rv(r)).Ua(function(){if(e.i)return Ph();E=Date.now();var S=0;n.requestStartTime=Date.now();var w=h(n.uris[o],n,t,function(I,C,L){p&&p.stop(),m&&m.X(x/1e3),e.l&&t==Pn&&(S++,n.packetNumber=S,e.l(I,C,lv(i),n),c=!0,a.g=L)},function(I){e.j&&e.j(I,n,t),y=!0,n.timeToFirstByte=Date.now()-n.requestStartTime},{minBytesForProgressEvents:e.m});if(!d)return w;var A=n.retryParameters.connectionTimeout;A&&(p=new oe(function(){v=!0,w.abort()}),p.X(A/1e3));var x=n.retryParameters.stallTimeout;return x&&(m=new oe(function(){v=!0,w.abort()})),w}).Ua(function(S){p&&p.stop(),m&&m.stop(),S.timeMs==null&&(S.timeMs=Date.now()-E);var w={response:S,Mj:c};return!y&&e.j&&e.j(S.headers,n,t),w},function(S){if(p&&p.stop(),m&&m.stop(),e.C){var w=null,A=0;S instanceof R&&(w=S,S.code==1001&&(A=S.data[1])),e.C(n,w,A,v)}if(e.i)return Ph();if(v&&(S=new R(1,1,1003,n.uris[o],t)),S instanceof R){if(S.code==7001)throw S;if(S.code==1010)throw s;if(S.severity==1)return w=new Map().set("error",S),w=new V("retry",w),e.dispatchEvent(w),o=(o+1)%n.uris.length,uv(e,t,n,i,r,o,S,a)}throw S})}function Ow(e,t,n,i){var r=oo(void 0);e=g(e.h);for(var o=e.next(),s={};!o.done;s={ji:void 0},o=e.next())s.ji=o.value,r=r.Ua(function(a){return function(){var u=n.response;return u.data&&(u.data=dn(u.data)),(0,a.ji)(t,u,i)}}(s));return r.Ua(function(){return n},function(a){var u=2;if(a instanceof R){if(a.code==7001)throw a;u=a.severity}throw new R(u,1,1007,a)})}function lv(e){if(e){var t=e.segment;if(e=e.stream,t&&e&&e.fastSwitching&&t.o)return!1}return!0}G("shaka.net.NetworkingEngine",Fe),Fe.prototype.request=Fe.prototype.request,Fe.prototype.destroy=Fe.prototype.destroy,Fe.makeRequest=ct,Fe.defaultRetryParameters=function(){return Kn()},Fe.prototype.clearAllResponseFilters=Fe.prototype.xh,Fe.prototype.unregisterResponseFilter=Fe.prototype.Pk,Fe.prototype.registerResponseFilter=Fe.prototype.nk,Fe.prototype.clearAllRequestFilters=Fe.prototype.wh,Fe.prototype.unregisterRequestFilter=Fe.prototype.Ok,Fe.prototype.registerRequestFilter=Fe.prototype.lk,Fe.unregisterScheme=function(e){delete wu[e]},Fe.registerScheme=Ai,Fe.prototype.setForceHTTPS=Fe.prototype.Yg,Fe.prototype.setForceHTTP=Fe.prototype.Xg;function cv(){this.g=0}Fe.NumBytesRemainingClass=cv;function Au(e,t,n){Qe.call(this,e,t),this.h=n}pe(Au,Qe),Fe.PendingRequest=Au;var Pn=1;Fe.RequestType={MANIFEST:0,SEGMENT:Pn,LICENSE:2,APP:3,TIMING:4,SERVER_CERTIFICATE:5,KEY:6,ADS:7,CONTENT_STEERING:8},Fe.AdvancedRequestType={INIT_SEGMENT:0,MEDIA_SEGMENT:1,MEDIA_PLAYLIST:2,MASTER_PLAYLIST:3,MPD:4,MSS:5,MPD_PATCH:6,MEDIATAILOR_SESSION_INFO:7,MEDIATAILOR_TRACKING_INFO:8,MEDIATAILOR_STATIC_RESOURCE:9,MEDIATAILOR_TRACKING_EVENT:10,INTERSTITIAL_ASSET_LIST:11,INTERSTITIAL_AD_URL:12};var hv=3;Fe.PluginPriority={FALLBACK:1,PREFERRED:2,APPLICATION:hv};var wu={};function ao(e){this.g=!1,this.h=new De,this.i=e}ao.prototype.destroy=function(){var e=this;return this.g?this.h:(this.g=!0,this.i().then(function(){e.h.resolve()},function(){e.h.resolve()}))};function _e(e,t){if(e.g)throw t instanceof R&&t.code==7003?t:new R(2,7,7003,t)}function Ds(e){for(var t=new Map,n=g(Object.keys(e)),i=n.next();!i.done;i=n.next())i=i.value,t.set(i,e[i]);return t}function Dh(e){var t={};return e.forEach(function(n,i){t[i]=n}),t}function be(e,t){this.h=Bt(e),this.i=t==dv,this.g=0}f=be.prototype,f.Fa=function(){return this.g<this.h.byteLength},f.Oa=function(){return this.g},f.getLength=function(){return this.h.byteLength},f.Z=function(){try{var e=this.h.getUint8(this.g);return this.g+=1,e}catch{throw wi()}},f.za=function(){try{var e=this.h.getUint16(this.g,this.i);return this.g+=2,e}catch{throw wi()}},f.U=function(){try{var e=this.h.getUint32(this.g,this.i);return this.g+=4,e}catch{throw wi()}},f.ei=function(){try{var e=this.h.getInt32(this.g,this.i);return this.g+=4,e}catch{throw wi()}},f.ud=function(){try{if(this.i)var e=this.h.getUint32(this.g,!0),t=this.h.getUint32(this.g+4,!0);else t=this.h.getUint32(this.g,!1),e=this.h.getUint32(this.g+4,!1)}catch{throw wi()}if(2097151<t)throw new R(2,3,3001);return this.g+=8,t*Math.pow(2,32)+e},f.Qb=function(e){if(this.g+e>this.h.byteLength)throw wi();var t=fe(this.h,this.g,e);return this.g+=e,t},f.skip=function(e){if(this.g+e>this.h.byteLength)throw wi();this.g+=e},f.yk=function(e){if(this.g<e)throw wi();this.g-=e},f.seek=function(e){if(0>e||e>this.h.byteLength)throw wi();this.g=e},f.Uc=function(){for(var e=this.g;this.Fa()&&this.h.getUint8(this.g)!=0;)this.g+=1;return e=fe(this.h,e,this.g-e),this.g+=1,ze(e)};function wi(){return new R(2,3,3e3)}G("shaka.util.DataViewReader",be),be.prototype.readTerminatedString=be.prototype.Uc,be.prototype.seek=be.prototype.seek,be.prototype.rewind=be.prototype.yk,be.prototype.skip=be.prototype.skip,be.prototype.readBytes=be.prototype.Qb,be.prototype.readUint64=be.prototype.ud,be.prototype.readInt32=be.prototype.ei,be.prototype.readUint32=be.prototype.U,be.prototype.readUint16=be.prototype.za,be.prototype.readUint8=be.prototype.Z,be.prototype.getLength=be.prototype.getLength,be.prototype.getPosition=be.prototype.Oa,be.prototype.hasMoreData=be.prototype.Fa;var dv=1;be.Endianness={BIG_ENDIAN:0,LITTLE_ENDIAN:dv};function Ue(){this.i=[],this.h=[],this.g=!1}f=Ue.prototype,f.box=function(e,t){return e=fv(e),this.i[e]=jw,this.h[e]=t,this},f.W=function(e,t){return e=fv(e),this.i[e]=pv,this.h[e]=t,this},f.stop=function(){this.g=!0},f.parse=function(e,t,n){for(e=new be(e,0),this.g=!1;e.Fa()&&!this.g;)this.rd(0,e,t,n)},f.rd=function(e,t,n,i){var r=t.Oa();if(i&&r+8>t.getLength())this.g=!0;else{var o=t.U(),s=t.U(),a=xu(s),u=!1;switch(o){case 0:o=t.getLength()-r;break;case 1:if(i&&t.Oa()+8>t.getLength()){this.g=!0;return}o=t.ud(),u=!0}var l=this.h[s];if(l){var c=null,h=null;if(this.i[s]==pv){if(i&&t.Oa()+4>t.getLength()){this.g=!0;return}h=t.U(),c=h>>>24,h&=16777215}s=r+o,n&&s>t.getLength()&&(s=t.getLength()),i&&s>t.getLength()?this.g=!0:(i=s-t.Oa(),t=0<i?t.Qb(i):new Uint8Array(0),t=new be(t,0),l({name:a,parser:this,partialOkay:n||!1,version:c,flags:h,reader:t,size:o,start:r+e,has64BitSize:u}))}else t.skip(Math.min(r+o-t.Oa(),t.getLength()-t.Oa()))}};function ge(e){for(var t=uo(e);e.reader.Fa()&&!e.parser.g;)e.parser.rd(e.start+t,e.reader,e.partialOkay)}function Xi(e){for(var t=uo(e),n=e.reader.U(),i=0;i<n&&(e.parser.rd(e.start+t,e.reader,e.partialOkay),!e.parser.g);i++);}function zt(e){var t=uo(e);for(e.reader.skip(78);e.reader.Fa()&&!e.parser.g;)e.parser.rd(e.start+t,e.reader,e.partialOkay)}function Nh(e){var t=uo(e);e.reader.skip(8);var n=e.reader.za();for(e.reader.skip(6),n==2?e.reader.skip(48):e.reader.skip(12),n==1&&e.reader.skip(16);e.reader.Fa()&&!e.parser.g;)e.parser.rd(e.start+t,e.reader,e.partialOkay)}function Ar(e){return function(t){e(t.reader.Qb(t.reader.getLength()-t.reader.Oa()))}}function fv(e){var t=0;e=g(e);for(var n=e.next();!n.done;n=e.next())t=t<<8|n.value.charCodeAt(0);return t}function xu(e){return String.fromCharCode(e>>24&255,e>>16&255,e>>8&255,e&255)}function uo(e){return 8+(e.has64BitSize?8:0)+(e.flags!=null?4:0)}G("shaka.util.Mp4Parser",Ue),Ue.headerSize=uo,Ue.typeToString=xu,Ue.allData=Ar,Ue.audioSampleEntry=Nh,Ue.visualSampleEntry=zt,Ue.sampleDescription=Xi,Ue.children=ge,Ue.prototype.parseNext=Ue.prototype.rd,Ue.prototype.parse=Ue.prototype.parse,Ue.prototype.stop=Ue.prototype.stop,Ue.prototype.fullBox=Ue.prototype.W,Ue.prototype.box=Ue.prototype.box;var jw=0,pv=1;function gv(e){var t=this;this.g=[],this.h=[],this.data=[],new Ue().box("moov",ge).box("moof",ge).W("pssh",function(n){if(!(1<n.version)){var i=fe(n.reader.h,-12,n.size);if(t.data.push(i),t.g.push(pi(n.reader.Qb(16))),0<n.version){i=n.reader.U();for(var r=0;r<i;r++){var o=pi(n.reader.Qb(16));t.h.push(o)}}}}).parse(e)}function Iu(e,t,n,i){var r=e.length,o=t.length+16+r;0<i&&(o+=4+16*n.size);var s=new Uint8Array(o),a=Bt(s),u=0;if(a.setUint32(u,o),u+=4,a.setUint32(u,1886614376),u+=4,1>i?a.setUint32(u,0):a.setUint32(u,16777216),u+=4,s.set(t,u),u+=t.length,0<i)for(a.setUint32(u,n.size),u+=4,t=g(n),n=t.next();!n.done;n=t.next())n=cr(n.value),s.set(n,u),u+=n.length;return a.setUint32(u,r),s.set(e,u+4),s}function Cu(e){var t=this;this.G=e,this.l=this.A=null,this.ha=this.$=!1,this.J=0,this.g=null,this.o=new Ae,this.i=new Map,this.C=new Map,this.m=new De,this.h=null,this.u=function(n){n.severity==2&&t.m.reject(n),e.onError(n)},this.V=new Map,this.aa=new Map,this.L=new oe(function(){return Xw(t)}),this.O=!1,this.N=[],this.S=!1,this.K=new oe(function(){Jw(t)}),this.m.catch(function(){}),this.j=new ao(function(){return bw(t)}),this.Y=!1,this.H=this.I=null,this.P=function(){return!1}}f=Cu.prototype,f.destroy=function(){return this.j.destroy()};function bw(e){return k(function(t){switch(t.g){case 1:return e.o.release(),e.o=null,e.m.reject(),e.K.stop(),e.K=null,e.L.stop(),e.L=null,T(t,_s(e),2);case 2:if(!e.l){t.B(3);break}return Z(t,4),T(t,e.l.setMediaKeys(null),6);case 6:he(t,5);break;case 4:ee(t);case 5:e.l=null;case 3:e.g=null,e.A=null,e.C=new Map,e.h=null,e.u=function(){},e.G=null,e.Y=!1,e.I=null,H(t)}})}f.configure=function(e,t){this.h=e,t&&(this.P=t),this.K&&this.K.Ba(this.h.updateExpirationTime)};function Fw(e,t,n){return e.ha=!0,e.C=new Map,e.O=n,vv(e,t)}function mv(e,t,n){e.C=new Map,n=g(n);for(var i=n.next();!i.done;i=n.next())e.C.set(i.value,{initData:null,initDataType:null});for(n=g(e.h.persistentSessionsMetadata),i=n.next();!i.done;i=n.next())i=i.value,e.C.set(i.sessionId,{initData:i.initData,initDataType:i.initDataType});return e.O=0<e.C.size,vv(e,t)}function Bw(e,t,n,i,r,o){var s=new Map;return r={audioCapabilities:r,videoCapabilities:o,distinctiveIdentifier:"optional",persistentState:"required",sessionTypes:["persistent-license"],label:t},r.drmInfos=[{keySystem:t,licenseServerUri:n,distinctiveIdentifierRequired:!1,persistentStateRequired:!0,audioRobustness:"",videoRobustness:"",serverCertificate:i,serverCertificateUri:"",initData:null,keyIds:null}],s.set(t,r),Ev(e,s,[])}function vv(e,t){var n,i,r,o,s,a,u,l,c,h,d,p,m,v,y,E,S,w,A;return k(function(x){if(x.g==1){if(n=qw(e))for(i=g(t),r=i.next();!r.done;r=i.next())o=r.value,o.video&&(o.video.drmInfos=[n]),o.audio&&(o.audio.drmInfos=[n]);for(s=t.some(function(I){return!!(I.video&&I.video.drmInfos.length||I.audio&&I.audio.drmInfos.length)}),s||(a=Ds(e.h.servers),Zw(t,a)),u=new Set,l=g(t),c=l.next();!c.done;c=l.next())for(h=c.value,d=Iv(h),p=g(d),m=p.next();!m.done;m=p.next())v=m.value,u.add(v);for(y=g(u),E=y.next();!E.done;E=y.next())S=E.value,ex(S,Ds(e.h.servers),Ds(e.h.advanced||{}),e.h.keySystemsMapping);return T(x,Hm(t,e.O,e.Y,e.h.preferredKeySystems),2)}return _e(e.j),w=s||Object.keys(e.h.servers).length,w?(A=Ev(e,void 0,t),x.return(s?A:A.catch(function(){}))):(e.$=!0,x.return(Promise.resolve()))})}function yv(e){var t;return k(function(n){switch(n.g){case 1:if(e.l.mediaKeys)return n.return();if(!e.I){n.B(2);break}return T(n,e.I,3);case 3:return _e(e.j),n.return();case 2:return Z(n,4),e.I=e.l.setMediaKeys(e.A),T(n,e.I,6);case 6:he(n,5);break;case 4:t=ee(n),e.u(new R(2,6,6003,t.message));case 5:_e(e.j),H(n)}})}function Gw(e,t){return k(function(n){if(n.g==1)return T(n,yv(e),2);Ns(e,t.initDataType,fe(t.initData)),H(n)})}f.$b=function(e){var t=this;return k(function(n){if(n.g==1)return t.A?(t.l=e,t.o.sa(t.l,"play",function(){for(var i=g(t.N),r=i.next();!r.done;r=i.next())Uh(t,r.value);t.S=!0,t.N=[]}),t.l.remote?(t.o.s(t.l.remote,"connect",function(){return _s(t)}),t.o.s(t.l.remote,"connecting",function(){return _s(t)}),t.o.s(t.l.remote,"disconnect",function(){return _s(t)})):"webkitCurrentPlaybackTargetIsWireless"in t.l&&t.o.s(t.l,"webkitcurrentplaybacktargetiswirelesschanged",function(){return _s(t)}),t.H=t.g&&t.g.initData.find(function(i){return 0<i.initData.length})||null,t.H||t.g.keySystem!=="com.apple.fps"||t.C.size?T(n,yv(t),2):n.B(2)):(t.o.sa(e,"encrypted",function(){t.u(new R(2,6,6010))}),n.return());Tv(t).catch(function(){}),t.H||t.C.size||t.h.parseInbandPsshEnabled||t.o.s(t.l,"encrypted",function(i){return Gw(t,i)}),H(n)})};function Vw(e){var t,n,i,r,o;return k(function(s){switch(s.g){case 1:if(!e.A||!e.g)return s.return();if(!e.g.serverCertificateUri||e.g.serverCertificate&&e.g.serverCertificate.length){s.B(2);break}return t=ct([e.g.serverCertificateUri],e.h.retryParameters),Z(s,3),n=e.G.ic.request(5,t,{isPreload:e.P()}),T(s,n.promise,5);case 5:i=s.h,e.g.serverCertificate=fe(i.data),he(s,4);break;case 3:throw r=ee(s),new R(2,6,6017,r);case 4:if(e.j.g)return s.return();case 2:return!e.g.serverCertificate||!e.g.serverCertificate.length?s.return():(Z(s,6),T(s,e.A.setServerCertificate(e.g.serverCertificate),8));case 8:he(s,0);break;case 6:throw o=ee(s),new R(2,6,6004,o.message)}})}function Hw(e,t){var n,i,r;return k(function(o){if(o.g==1)return T(o,wv(e,t,{initData:null,initDataType:null}),2);if(o.g!=3)return n=o.h,n?(i=[],(r=e.i.get(n))&&(r.Cb=new De,i.push(r.Cb)),i.push(n.remove()),T(o,Promise.all(i),3)):o.return();e.i.delete(n),H(o)})}function Tv(e){var t,n,i,r,o;return k(function(s){if(s.g==1)return e.C.size?(e.C.forEach(function(a,u){wv(e,u,a)}),T(s,e.m,3)):s.B(2);if(s.g!=2){if(t=e.g&&e.g.keyIds||new Set([]),0<t.size&&Qw(e))return s.return(e.m);e.m=new De,e.m.catch(function(){})}for(n=(e.g?e.g.initData:[])||[],i=g(n),r=i.next();!r.done;r=i.next())o=r.value,Ns(e,o.initDataType,o.initData);return Us(e)&&e.m.resolve(),s.return(e.m)})}function Ns(e,t,n){if(n.length){if(e.h.ignoreDuplicateInitData){var i=e.i.values();i=g(i);for(var r=i.next();!r.done;r=i.next())if(hi(n,r.value.initData))return;var o=!1;if(e.C.forEach(function(s){!o&&hi(n,s.initData)&&(o=!0)}),o)return}0<e.i.size&&Us(e)&&(e.m.resolve(),e.m=new De,e.m.catch(function(){})),Ww(e,t,n,e.g.sessionType)}}function Sv(e){return e=e.i.keys(),e=$c(e,function(t){return t.sessionId}),Array.from(e)}f.ig=function(){var e=this,t=this.i.keys();return t=$c(t,function(n){var i=e.i.get(n);return{sessionId:n.sessionId,sessionType:i.type,initData:i.initData,initDataType:i.initDataType}}),Array.from(t)},f.Jd=function(){var e=1/0,t=this.i.keys();t=g(t);for(var n=t.next();!n.done;n=t.next())n=n.value,isNaN(n.expiration)||(e=Math.min(e,n.expiration));return e},f.Ae=function(){return Dh(this.aa)};function Ev(e,t,n){var i,r,o,s,a,u,l;return k(function(c){switch(c.g){case 1:if(i=new Map,n.length){r=zw(e,n,i),c.B(2);break}return T(c,Kw(e,t),3);case 3:r=c.h;case 2:if(o=r,!o)throw new R(2,6,6001);if(_e(e.j),Z(c,4),o.getConfiguration(),n.length){var h=o.keySystem,d=i.get(o.keySystem),p=[],m=[],v=[],y=[],E=[],S=new Set,w=new Set;Cv(d,p,m,y,v,E,S,w);var A=e.O?"persistent-license":"temporary";for(h={keySystem:h,encryptionScheme:p[0],licenseServerUri:m[0],distinctiveIdentifierRequired:d[0].distinctiveIdentifierRequired,persistentStateRequired:d[0].persistentStateRequired,sessionType:d[0].sessionType||A,audioRobustness:d[0].audioRobustness||"",videoRobustness:d[0].videoRobustness||"",serverCertificate:y[0],serverCertificateUri:v[0],initData:E,keyIds:S},0<w.size&&(h.keySystemUris=w),d=g(d),w=d.next();!w.done;w=d.next())w=w.value,w.distinctiveIdentifierRequired&&(h.distinctiveIdentifierRequired=w.distinctiveIdentifierRequired),w.persistentStateRequired&&(h.persistentStateRequired=w.persistentStateRequired);d=h}else d=o.keySystem,w=t.get(o.keySystem),h=[],p=[],m=[],v=[],y=[],E=new Set,Cv(w.drmInfos,h,p,v,m,y,E),d={keySystem:d,encryptionScheme:h[0],licenseServerUri:p[0],distinctiveIdentifierRequired:w.distinctiveIdentifier=="required",persistentStateRequired:w.persistentState=="required",sessionType:w.sessionTypes[0]||"temporary",audioRobustness:(w.audioCapabilities?w.audioCapabilities[0].robustness:"")||"",videoRobustness:(w.videoCapabilities?w.videoCapabilities[0].robustness:"")||"",serverCertificate:v[0],serverCertificateUri:m[0],initData:y,keyIds:E};if(e.g=d,!e.g.licenseServerUri)throw new R(2,6,6012,e.g.keySystem);return T(c,o.createMediaKeys(),6);case 6:if(s=c.h,_e(e.j),e.A=s,!(e.h.minHdcpVersion!=""&&"getStatusForPolicy"in e.A)){c.B(7);break}return Z(c,8),T(c,e.A.getStatusForPolicy({minHdcpVersion:e.h.minHdcpVersion}),10);case 10:if(a=c.h,a!="usable")throw new R(2,6,6018);_e(e.j),he(c,7,4);break;case 8:throw u=ee(c,4),u instanceof R?u:new R(2,6,6019,u.message);case 7:return e.$=!0,T(c,Vw(e),11);case 11:_e(e.j),he(c,0);break;case 4:throw l=ee(c),_e(e.j,l),e.g=null,l instanceof R?l:new R(2,6,6002,l.message)}})}function zw(e,t,n){for(var i=g(t),r=i.next();!r.done;r=i.next()){r=g(Iv(r.value));for(var o=r.next();!o.done;o=r.next())o=o.value,n.has(o.keySystem)||n.set(o.keySystem,[]),n.get(o.keySystem).push(o)}if(n.size==1&&n.has(""))throw new R(2,6,6e3);for(e=g(e.h.preferredKeySystems),r=e.next(),i={};!r.done;i={di:void 0},r=e.next())for(i.di=r.value,r=g(t),o=r.next();!o.done;o=r.next())if(o=o.value.decodingInfos.find(function(l){return function(c){return c.supported&&c.keySystemAccess!=null&&c.keySystemAccess.keySystem==l.di}}(i)))return o.keySystemAccess;for(e=g([!0,!1]),i=e.next();!i.done;i=e.next())for(i=i.value,r=g(t),o=r.next();!o.done;o=r.next()){o=g(o.value.decodingInfos);for(var s=o.next();!s.done;s=o.next())if(s=s.value,s.supported&&s.keySystemAccess){var a=n.get(s.keySystemAccess.keySystem);a=g(a);for(var u=a.next();!u.done;u=a.next())if(!!u.value.licenseServerUri==i)return s.keySystemAccess}}return null}function Kw(e,t){var n,i,r,o,s,a,u,l,c,h,d,p,m,v,y,E;return k(function(S){switch(S.g){case 1:if(t.size==1&&t.has(""))throw new R(2,6,6e3);for(i=g(t.values()),r=i.next();!r.done;r=i.next())o=r.value,o.audioCapabilities.length==0&&delete o.audioCapabilities,o.videoCapabilities.length==0&&delete o.videoCapabilities;s=g(e.h.preferredKeySystems),a=s.next();case 2:if(a.done){S.B(4);break}if(u=a.value,!t.has(u)){S.B(3);break}return l=t.get(u),Z(S,6),T(S,navigator.requestMediaKeySystemAccess(u,[l]),8);case 8:return n=S.h,S.return(n);case 6:ee(S);case 7:_e(e.j);case 3:a=s.next(),S.B(2);break;case 4:c=g([!0,!1]),h=c.next();case 9:if(h.done){S.B(11);break}d=h.value,p=g(t.keys()),m=p.next();case 12:if(m.done){h=c.next(),S.B(9);break}if(v=m.value,y=t.get(v),E=y.drmInfos.some(function(w){return!!w.licenseServerUri}),E!=d){S.B(13);break}return Z(S,15),T(S,navigator.requestMediaKeySystemAccess(v,[y]),17);case 17:return n=S.h,S.return(n);case 15:ee(S);case 16:_e(e.j);case 13:m=p.next(),S.B(12);break;case 11:return S.return(n)}})}function qw(e){return e=Ds(e.h.clearKeys),e.size==0?null:am(e)}function _h(e){Us(e)&&e.m.resolve()}function Av(e,t){new oe(function(){t.loaded=!0,_h(e)}).X(nx)}function wv(e,t,n){var i,r,o,s,a,u,l;return k(function(c){switch(c.g){case 1:try{i=e.A.createSession("persistent-license")}catch(h){return r=new R(2,6,6005,h.message),e.u(r),c.return(Promise.reject(r))}return e.o.s(i,"message",function(h){e.l&&e.h.delayLicenseRequestUntilPlayed&&e.l.paused&&!e.S?e.N.push(h):Uh(e,h)}),e.o.s(i,"keystatuseschange",function(h){return xv(e,h)}),o={initData:n.initData,initDataType:n.initDataType,loaded:!1,Gg:1/0,Cb:null,type:"persistent-license"},e.i.set(i,o),Z(c,2),T(c,i.load(t),4);case 4:return s=c.h,_e(e.j),s||(e.i.delete(i),a=e.h.persistentSessionOnlinePlayback?1:2,e.u(new R(a,6,6013)),o.loaded=!0),Av(e,o),_h(e),c.return(i);case 2:u=ee(c),_e(e.j,u),e.i.delete(i),l=e.h.persistentSessionOnlinePlayback?1:2,e.u(new R(l,6,6005,u.message)),o.loaded=!0,_h(e);case 3:return c.return(Promise.resolve())}})}function Ww(e,t,n,i){try{var r=e.A.createSession(i)}catch(o){e.u(new R(2,6,6005,o.message));return}e.o.s(r,"message",function(o){e.l&&e.h.delayLicenseRequestUntilPlayed&&e.l.paused&&!e.S?e.N.push(o):Uh(e,o)}),e.o.s(r,"keystatuseschange",function(o){return xv(e,o)}),e.i.set(r,{initData:n,initDataType:t,loaded:!1,Gg:1/0,Cb:null,type:i});try{n=e.h.initDataTransform(n,t,e.g)}catch(o){t=o,o instanceof R||(t=new R(2,6,6016,o)),e.u(t);return}e.h.logLicenseExchange&&lr(n),r.generateRequest(t,n).catch(function(o){if(!e.j.g){e.i.delete(r);var s=o.errorCode;if(s&&s.systemCode){var a=s.systemCode;0>a&&(a+=Math.pow(2,32)),a="0x"+a.toString(16)}e.u(new R(2,6,6006,o.message,o,a))}})}function Uh(e,t){var n,i,r,o,s,a,u,l,c,h,d,p,m,v;k(function(y){switch(y.g){case 1:if(n=t.target,e.h.logLicenseExchange&&lr(t.message),i=e.i.get(n),r=e.g.licenseServerUri,o=e.h.advanced[e.g.keySystem],t.messageType=="individualization-request"&&o&&o.individualizationServer&&(r=o.individualizationServer),s=ct([r],e.h.retryParameters),s.body=t.message,s.method="POST",s.licenseRequestType=t.messageType,s.sessionId=n.sessionId,s.drmInfo=e.g,i&&(s.initData=i.initData,s.initDataType=i.initDataType),o&&o.headers)for(a in o.headers)s.headers[a]=o.headers[a];if(th(e.g.keySystem)){var E=di(s.body,!0,!0);if(E.includes("PlayReadyKeyMessage")){E=Jr(E,"PlayReadyKeyMessage");var S=Ln(E,"HttpHeader");S=g(S);for(var w=S.next();!w.done;w=S.next()){var A=w.value;w=Ln(A,"name")[0],A=Ln(A,"value")[0],s.headers[et(w)]=et(A)}E=Ln(E,"Challenge")[0],s.body=fn(et(E))}else s.headers["Content-Type"]="text/xml; charset=utf-8"}return u=Date.now(),Z(y,2),c=e.G.ic.request(2,s,{isPreload:e.P()}),T(y,c.promise,4);case 4:l=y.h,he(y,3);break;case 2:return h=ee(y),e.j.g||(d=new R(2,6,6007,h),e.i.size==1?(e.u(d),i&&i.Cb&&i.Cb.reject(d)):(i&&i.Cb&&i.Cb.reject(d),e.i.delete(n),Us(e)&&(e.m.resolve(),e.L.X(.1)))),y.return();case 3:return e.j.g?y.return():(e.J+=(Date.now()-u)/1e3,e.h.logLicenseExchange&&lr(l.data),Z(y,5),T(y,n.update(l.data),7));case 7:he(y,6);break;case 5:return p=ee(y),m=new R(2,6,6008,p.message),e.u(m),i&&i.Cb&&i.Cb.reject(m),y.return();case 6:if(e.j.g)return y.return();v=new V("drmsessionupdate"),e.G.onEvent(v),i&&(i.Cb&&i.Cb.resolve(),Av(e,i)),H(y)}})}function xv(e,t){t=t.target;var n=e.i.get(t),i=!1;t.keyStatuses.forEach(function(o,s){if(typeof s=="string"){var a=s;s=o,o=a}if(th(e.g.keySystem)&&s.byteLength==16&&(ds()||Mn())){a=Bt(s);var u=a.getUint32(0,!0),l=a.getUint16(4,!0),c=a.getUint16(6,!0);a.setUint32(0,u,!1),a.setUint16(4,l,!1),a.setUint16(6,c,!1)}o!="status-pending"&&(n.loaded=!0),o=="expired"&&(i=!0),s=pi(s).slice(0,32),e.V.set(s,o)});var r=t.expiration-Date.now();(0>r||i&&1e3>r)&&n&&!n.Cb&&(e.i.delete(t),t.close().catch(function(){})),Us(e)&&(e.m.resolve(),e.L.X(ix))}function Xw(e){var t=e.V,n=e.aa;n.clear(),t.forEach(function(i,r){return n.set(r,i)}),t=Array.from(n.values()),t.length&&t.every(function(i){return i=="expired"})&&e.u(new R(2,6,6014)),e.G.Ve(Dh(n))}function Yw(){var e,t,n,i,r,o,s,a,u,l,c,h,d,p,m,v,y,E,S,w,A,x,I,C,L,P,M,D;return k(function(N){if(N.g==1){for(e="org.w3.clearkey com.widevine.alpha com.microsoft.playready com.microsoft.playready.hardware com.microsoft.playready.recommendation com.chromecast.playready com.apple.fps.1_0 com.apple.fps".split(" "),t=["SW_SECURE_CRYPTO","SW_SECURE_DECODE","HW_SECURE_CRYPTO","HW_SECURE_DECODE","HW_SECURE_ALL"],n=["150","2000","3000"],i={"com.widevine.alpha":t,"com.microsoft.playready.recommendation":n},r=[{contentType:'video/mp4; codecs="avc1.42E01E"'},{contentType:'video/webm; codecs="vp8"'}],o=[{contentType:'audio/mp4; codecs="mp4a.40.2"'},{contentType:'audio/webm; codecs="opus"'}],s={videoCapabilities:r,audioCapabilities:o,initDataTypes:["cenc","sinf","skd","keyids"]},a=[null,"cenc","cbcs","cbcs-1-9"],u=new Map,l=function(b,_){var U,F,B,W,J,ne,Ee,Oe;return k(function(Ne){switch(Ne.g){case 1:return Z(Ne,2),T(Ne,_.createMediaKeys(),4);case 4:he(Ne,3);break;case 2:return ee(Ne),Ne.return();case 3:F=(U=_.getConfiguration().sessionTypes)?U.includes("persistent-license"):!1,fs()&&(F=!1),B=_.getConfiguration().videoCapabilities,W=_.getConfiguration().audioCapabilities,J={persistentState:F,encryptionSchemes:[],videoRobustnessLevels:[],audioRobustnessLevels:[]},u.has(b)&&u.get(b)?J=u.get(b):u.set(b,J),(ne=B[0].encryptionScheme)&&!J.encryptionSchemes.includes(ne)&&J.encryptionSchemes.push(ne),(Ee=B[0].robustness)&&!J.videoRobustnessLevels.includes(Ee)&&J.videoRobustnessLevels.push(Ee),(Oe=W[0].robustness)&&!J.audioRobustnessLevels.includes(Oe)&&J.audioRobustnessLevels.push(Oe),H(Ne)}})},c=function(b,_,U,F){var B,W,J,ne,Ee,Oe,Ne,Ye,Ie,Re;return k(function(He){switch(He.g){case 1:for(Z(He,2),B=Qn(s),W=g(B.videoCapabilities),J=W.next();!J.done;J=W.next())ne=J.value,ne.encryptionScheme=_,ne.robustness=U;for(Ee=g(B.audioCapabilities),Oe=Ee.next();!Oe.done;Oe=Ee.next())Ne=Oe.value,Ne.encryptionScheme=_,Ne.robustness=F;return Ye=Qn(B),Ye.persistentState="required",Ye.sessionTypes=["persistent-license"],Ie=[Ye,B],T(He,navigator.requestMediaKeySystemAccess(b,Ie),4);case 4:return Re=He.h,T(He,l(b,Re),5);case 5:he(He,0);break;case 2:ee(He),H(He)}})},h=function(b,_,U,F){var B,W,J;return k(function(ne){switch(ne.g){case 1:return Z(ne,2),B={type:"media-source",video:{contentType:r[0].contentType,width:640,height:480,bitrate:1,framerate:1},audio:{contentType:o[0].contentType,channels:2,bitrate:1,samplerate:1},keySystemConfiguration:{keySystem:b,video:{encryptionScheme:_,robustness:U},audio:{encryptionScheme:_,robustness:F}}},T(ne,navigator.mediaCapabilities.decodingInfo(B),4);case 4:return W=ne.h,J=W.keySystemAccess,T(ne,l(b,J),5);case 5:he(ne,0);break;case 2:ee(ne),H(ne)}})},d=g(e),p=d.next();!p.done;p=d.next())m=p.value,u.set(m,null);for(v=[],y=g(a),E=y.next();!E.done;E=y.next())for(S=E.value,w=g(e),A=w.next();!A.done;A=w.next())x=A.value,x==="org.w3.clearkey"&&Bi()||(v.push(c(x,S,"","")),v.push(h(x,S,"","")));for(I=g(e),C=I.next();!C.done;C=I.next())for(L=C.value,P=g(i[L]||[]),M=P.next();!M.done;M=P.next())D=M.value,v.push(c(L,null,D,"")),v.push(c(L,null,"",D)),v.push(h(L,null,D,"")),v.push(h(L,null,"",D));return T(N,Promise.all(v),2)}return N.return(Dh(u))})}function $w(e){var t;return k(function(n){if(n.g==1)return t=new Promise(function(i,r){new oe(r).X(tx)}),Z(n,2),T(n,Promise.race([Promise.all([e.close(),e.closed]),t]),4);if(n.g!=2)return he(n,0);ee(n),H(n)})}function _s(e){var t;return k(function(n){return t=Array.from(e.i.entries()),e.i.clear(),T(n,Promise.all(t.map(function(i){i=g(i);var r=i.next().value,o=i.next().value;return k(function(s){if(s.g==1)return Z(s,2),e.ha||e.C.has(r.sessionId)||o.type!=="persistent-license"||e.h.persistentSessionOnlinePlayback?T(s,$w(r),5):T(s,r.remove(),5);if(s.g!=2)return he(s,0);ee(s),H(s)})})),0)})}function Iv(e){return(e.video?e.video.drmInfos:[]).concat(e.audio?e.audio.drmInfos:[])}function Jw(e){e.i.forEach(function(t,n){var i=t.Gg,r=n.expiration;isNaN(r)&&(r=1/0),r!=i&&(e.G.onExpirationUpdated(n.sessionId,r),t.Gg=r)})}function Us(e){return e=e.i.values(),GA(e,function(t){return t.loaded})}function Qw(e){for(var t=g(e.g&&e.g.keyIds||new Set([])),n=t.next();!n.done;n=t.next())if(e.V.get(n.value)!=="usable")return!1;return!0}function Zw(e,t){var n=[];for(t.forEach(function(i,r){n.push({keySystem:r,licenseServerUri:i,distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,serverCertificateUri:"",initData:[],keyIds:new Set})}),e=g(e),t=e.next();!t.done;t=e.next())t=t.value,t.video&&(t.video.drmInfos=n),t.audio&&(t.audio.drmInfos=n)}function Cv(e,t,n,i,r,o,s,a){var u=[];e=g(e);for(var l=e.next(),c={};!l.done;c={Ka:void 0},l=e.next()){if(c.Ka=l.value,t.includes(c.Ka.encryptionScheme)||t.push(c.Ka.encryptionScheme),c.Ka.keySystem=="org.w3.clearkey"&&c.Ka.licenseServerUri.startsWith("data:application/json;base64,")?u.includes(c.Ka.licenseServerUri)||u.push(c.Ka.licenseServerUri):n.includes(c.Ka.licenseServerUri)||n.push(c.Ka.licenseServerUri),r.includes(c.Ka.serverCertificateUri)||r.push(c.Ka.serverCertificateUri),c.Ka.serverCertificate&&(i.some(function(p){return function(m){return hi(m,p.Ka.serverCertificate)}}(c))||i.push(c.Ka.serverCertificate)),c.Ka.initData){l=g(c.Ka.initData);for(var h=l.next(),d={};!h.done;d={vg:void 0},h=l.next())d.vg=h.value,o.some(function(p){return function(m){var v=p.vg;return m.keyId&&m.keyId==v.keyId?!0:m.initDataType==v.initDataType&&hi(m.initData,v.initData)}}(d))||o.push(d.vg)}if(c.Ka.keyIds)for(l=g(c.Ka.keyIds),h=l.next();!h.done;h=l.next())s.add(h.value);if(c.Ka.keySystemUris&&a)for(c=g(c.Ka.keySystemUris),l=c.next();!l.done;l=c.next())a.add(l.value)}if(u.length==1)n.push(u[0]);else if(0<u.length){for(t=[],u=g(u),i=u.next();!i.done;i=u.next())i=O.atob(i.value.split("data:application/json;base64,").pop()),i=JSON.parse(i),t.push.apply(t,X(i.keys));u=JSON.stringify({keys:t}),n.push("data:application/json;base64,"+O.btoa(u))}}function ex(e,t,n,i){var r=e.keySystem;r&&(r!="org.w3.clearkey"||!e.licenseServerUri)&&(t.size&&(t=t.get(r)||"",e.licenseServerUri=t),e.keyIds||(e.keyIds=new Set),(n=n.get(r))&&(e.distinctiveIdentifierRequired||(e.distinctiveIdentifierRequired=n.distinctiveIdentifierRequired),e.persistentStateRequired||(e.persistentStateRequired=n.persistentStateRequired),e.videoRobustness||(e.videoRobustness=n.videoRobustness),e.audioRobustness||(e.audioRobustness=n.audioRobustness),e.serverCertificate||(e.serverCertificate=n.serverCertificate),n.sessionType&&(e.sessionType=n.sessionType),e.serverCertificateUri||(e.serverCertificateUri=n.serverCertificateUri)),i[r]&&(e.keySystem=i[r]),O.cast&&O.cast.__platform__&&r=="com.microsoft.playready"&&(e.keySystem="com.chromecast.playready"))}var tx=1,nx=5,ix=.5;/*
 @license
 Shaka Player
 Copyright 2023 Google LLC
 SPDX-License-Identifier: Apache-2.0
*/function Oh(e,t,n){this.h=e,this.i=t,this.g=n}function Mv(e,t){return k(function(n){if(n.g==1)return T(n,fw(e.g,t,e.h.drm.preferredKeySystems),2);if(e.h.streaming.dontChooseCodecs||Fm(t,e.h.preferredVideoCodecs,e.h.preferredAudioCodecs,e.h.preferredDecodingAttributes),!t.variants.some(Rs))throw new R(2,4,4032);return n.return(Rv(e,t))})}function kv(e,t){var n=e.h.restrictions;e=e.i;var i=!1;t=g(t.variants);for(var r=t.next();!r.done;r=t.next()){r=r.value;var o=r.allowedByApplication;r.allowedByApplication=vu(r,n,e),o!=r.allowedByApplication&&(i=!0)}return i}function Rv(e,t){var n=kv(e,t);if(t){var i=e.g?e.g.g:null;if(i&&e.g.A)for(var r=g(t.variants),o=r.next();!o.done;o=r.next())o=o.value,jh(e,i.keySystem,o.video),jh(e,i.keySystem,o.audio);Lv(e,t)}return n}function jh(e,t,n){if(n){n=g(n.drmInfos);for(var i=n.next();!i.done;i=n.next())if(i=i.value,i.keySystem==t){i=g(i.initData||[]);for(var r=i.next();!r.done;r=i.next())r=r.value,Ns(e.g,r.initDataType,r.initData)}}}function Lv(e,t){e=e.g?e.g.Ae():{};var n=Object.keys(e);n=n.length&&n[0]=="00";var i=!1,r=!1,o=new Set,s=new Set;t=g(t.variants);for(var a=t.next();!a.done;a=t.next()){a=a.value;var u=[];a.audio&&u.push(a.audio),a.video&&u.push(a.video),u=g(u);for(var l=u.next();!l.done;l=u.next())if(l=l.value,l.keyIds.size){l=g(l.keyIds);for(var c=l.next();!c.done;c=l.next()){c=c.value;var h=e[n?"00":c];h?Pv.includes(h)&&s.add(h):o.add(c)}}a.allowedByApplication?a.allowedByKeySystem&&(i=!0):r=!0}if(!i)throw e={hasAppRestrictions:r,missingKeys:Array.from(o),restrictedKeyStatuses:Array.from(s)},new R(2,4,4012,e)}var Pv=["output-restricted","internal-error"];function Os(){}function Dv(e,t){if(t){var n=Dn[t.toLowerCase()];if(n)return n}throw new R(2,4,4e3,e,t)}G("shaka.media.ManifestParser",Os),Os.unregisterParserByMime=function(e){delete Dn[e]},Os.registerParserByMime=function(e,t){Dn[e]=t},Os.registerParserByExtension=function(){Ke("ManifestParser.registerParserByExtension","Please use an ManifestParser with registerParserByMime function.")},Os.AccessibilityPurpose={Zl:"visually impaired",ll:"hard of hearing"};var Dn={};function rx(e,t){function n(){o=!0}function i(c){a.push(c),ge(c)}var r=e=fe(e),o=!1,s,a=[],u=[];if(new Ue().box("moov",i).box("trak",i).box("mdia",i).box("minf",i).box("stbl",i).W("stsd",function(c){s=c,a.push(c),Xi(c)}).W("encv",n).W("enca",n).W("dvav",function(c){u.push({box:c,kb:1701733238})}).W("dva1",function(c){u.push({box:c,kb:1701733238})}).W("dvh1",function(c){u.push({box:c,kb:1701733238})}).W("dvhe",function(c){u.push({box:c,kb:1701733238})}).W("dvc1",function(c){u.push({box:c,kb:1701733238})}).W("dvi1",function(c){u.push({box:c,kb:1701733238})}).W("hev1",function(c){u.push({box:c,kb:1701733238})}).W("hvc1",function(c){u.push({box:c,kb:1701733238})}).W("avc1",function(c){u.push({box:c,kb:1701733238})}).W("avc3",function(c){u.push({box:c,kb:1701733238})}).W("ac-3",function(c){u.push({box:c,kb:1701733217})}).W("ec-3",function(c){u.push({box:c,kb:1701733217})}).W("ac-4",function(c){u.push({box:c,kb:1701733217})}).W("mp4a",function(c){u.push({box:c,kb:1701733217})}).parse(e),o)return e;if(u.length==0||!s)throw pi(e),new R(2,3,3019,t);u.reverse(),t=g(u);for(var l=t.next();!l.done;l=t.next())l=l.value,r=ox(r,s,l.box,a,l.kb);return ds()&&rh()&&!Vn()?(t=new Uint8Array(e.byteLength+r.byteLength),t.set(r),t.set(e,r.byteLength),t):r}function ox(e,t,n,i,r){var o=sx.value(),s=e.subarray(n.start,n.start+n.size),a=Bt(s),u=new Uint8Array(n.size+o.byteLength);for(u.set(s,0),s=Bt(u),s.setUint32(4,r),u.set(o,n.size),r=a.getUint32(4),s.setUint32(n.size+16,r),Nv(u,0,u.byteLength),r=new Uint8Array(e.byteLength+u.byteLength),n=Vn()||ds()?n.start:n.start+n.size,o=e.subarray(n),r.set(e.subarray(0,n)),r.set(u,n),r.set(o,n+u.byteLength),e=g(i),i=e.next();!i.done;i=e.next())i=i.value,Nv(r,i.start,i.size+u.byteLength);return u=Bt(r,t.start),t=uo(t),e=u.getUint32(t),u.setUint32(t,e+1),r}function Nv(e,t,n){e=Bt(e,t),t=e.getUint32(0),t!=0&&(t==1?(e.setUint32(8,n>>32),e.setUint32(12,n&4294967295)):e.setUint32(0,n))}var sx=new Gr(function(){return new Uint8Array([0,0,0,80,115,105,110,102,0,0,0,12,102,114,109,97,0,0,0,0,0,0,0,20,115,99,104,109,0,0,0,0,99,101,110,99,0,1,0,0,0,0,0,40,115,99,104,105,0,0,0,32,116,101,110,99,0,0,0,0,0,0,1,8,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0])});function Kt(e,t,n,i,r,o,s){this.R=e,this.$a=t,this.La=n,this.pd=i===void 0?null:i,this.timescale=r===void 0?null:r,this.g=o===void 0?null:o,this.aesKey=s===void 0?null:s,this.mimeType=this.codecs=null}Kt.prototype.Ib=function(){return this.$a},Kt.prototype.Fb=function(){return this.La},Kt.prototype.Lc=function(){return this.g};function bh(e,t){return e===t?!0:e&&t?e.Ib()==t.Ib()&&e.Fb()==t.Fb()&&Ts(e.R().sort(),t.R().sort())&&hi(e.Lc(),t.Lc()):e==t}G("shaka.media.InitSegmentReference",Kt),Kt.prototype.getEndByte=Kt.prototype.Fb,Kt.prototype.getStartByte=Kt.prototype.Ib;function ie(e,t,n,i,r,o,s,a,u,l,c,h,d,p,m,v){for(l=l===void 0?[]:l,p=p===void 0?xi:p,this.startTime=e,this.j=this.endTime=t,this.H=n,this.$a=i,this.La=r,this.ma=o,this.timestampOffset=s,this.appendWindowStart=a,this.appendWindowEnd=u,this.g=l,this.tilesLayout=c===void 0?"":c,this.C=h===void 0?null:h,this.h=d===void 0?null:d,this.status=p,this.preload=!1,this.l=!0,this.m=!1,this.aesKey=m===void 0?null:m,this.A=null,this.i=0,this.u=v===void 0?!1:v,this.I=this.o=!1,e=g(this.g),t=e.next();!t.done;t=e.next())t.value.Wh();this.u&&this.g.length&&this.g[this.g.length-1].Vh(),this.G=this.bandwidth=this.mimeType=this.codecs=null}f=ie.prototype,f.R=function(){return this.H()},f.getStartTime=function(){return this.startTime},f.kj=function(){return this.endTime},f.Ib=function(){return this.$a},f.Fb=function(){return this.La},f.Fj=function(){return this.tilesLayout},f.Ej=function(){return this.C},f.uc=function(){return this.status},f.bk=function(){this.status=Uv},f.Dg=function(){this.preload=!0},f.isPreload=function(){return this.preload},f.od=function(){this.l=!1},f.Rj=function(){return this.l},f.Wh=function(){this.o=!0},f.Tj=function(){return this.o},f.Vh=function(){this.I=!0},f.Sj=function(){return this.I},f.Uh=function(){this.m=!0},f.Nj=function(){return this.m},f.ti=function(e){this.A=e},f.Dj=function(){return this.A},f.offset=function(e){this.startTime+=e,this.endTime+=e,this.j+=e;for(var t=g(this.g),n=t.next();!n.done;n=t.next())n=n.value,n.startTime+=e,n.endTime+=e,n.j+=e},f.eh=function(e){this.h==null?ci("Sync attempted without sync time!"):(e=this.h-e-this.startTime,.001<=Math.abs(e)&&this.offset(e))},f.Kk=function(e){this.G=e},f.Lc=function(){return this.G};function _v(e,t){e.ma=t,e=g(e.g);for(var n=e.next();!n.done;n=e.next())_v(n.value,t)}G("shaka.media.SegmentReference",ie),ie.prototype.getSegmentData=ie.prototype.Lc,ie.prototype.setSegmentData=ie.prototype.Kk,ie.prototype.syncAgainst=ie.prototype.eh,ie.prototype.offset=ie.prototype.offset,ie.prototype.getThumbnailSprite=ie.prototype.Dj,ie.prototype.setThumbnailSprite=ie.prototype.ti,ie.prototype.hasByterangeOptimization=ie.prototype.Nj,ie.prototype.markAsByterangeOptimization=ie.prototype.Uh,ie.prototype.isLastPartial=ie.prototype.Sj,ie.prototype.markAsLastPartial=ie.prototype.Vh,ie.prototype.isPartial=ie.prototype.Tj,ie.prototype.markAsPartial=ie.prototype.Wh,ie.prototype.isIndependent=ie.prototype.Rj,ie.prototype.markAsNonIndependent=ie.prototype.od,ie.prototype.isPreload=ie.prototype.isPreload,ie.prototype.markAsPreload=ie.prototype.Dg,ie.prototype.markAsUnavailable=ie.prototype.bk,ie.prototype.getStatus=ie.prototype.uc,ie.prototype.getTileDuration=ie.prototype.Ej,ie.prototype.getTilesLayout=ie.prototype.Fj,ie.prototype.getEndByte=ie.prototype.Fb,ie.prototype.getStartByte=ie.prototype.Ib,ie.prototype.getEndTime=ie.prototype.kj,ie.prototype.getStartTime=ie.prototype.getStartTime,ie.prototype.getUris=ie.prototype.R;var xi=0,Uv=1;ie.Status={Uk:xi,Xl:Uv,yl:2};function js(e){return e.length==1&&1e-4>e.end(0)-e.start(0)}function Fh(e){return!e||js(e)?null:e.length?e.end(e.length-1):null}function Bh(e,t){return!e||!e.length||js(e)||t>e.end(e.length-1)?!1:t>=e.start(0)}function Ov(e,t){if(!e||!e.length||js(e))return 0;var n=0;e=g(Yi(e));for(var i=e.next();!i.done;i=e.next()){var r=i.value;i=r.start,r=r.end,r>t&&(n+=r-Math.max(i,t))}return n}function ax(e,t,n){return!e||!e.length||js(e)?null:(e=Yi(e).findIndex(function(i,r,o){return i.start>t&&(r==0||o[r-1].end-t<=n)}),0<=e?e:null)}function Yi(e){if(!e)return[];for(var t=[],n=0;n<e.length;n++)t.push({start:e.start(n),end:e.end(n)});return t}/*
 @license
 Shaka Player
 Copyright 2022 Google LLC
 SPDX-License-Identifier: Apache-2.0
*/function Gh(){}function jv(e,t){return t+10<=e.length&&e[t]===73&&e[t+1]===68&&e[t+2]===51&&255>e[t+3]&&255>e[t+4]&&128>e[t+6]&&128>e[t+7]&&128>e[t+8]&&128>e[t+9]}function bv(e,t){return t+10<=e.length&&e[t]===51&&e[t+1]===68&&e[t+2]===73&&255>e[t+3]&&255>e[t+4]&&128>e[t+6]&&128>e[t+7]&&128>e[t+8]&&128>e[t+9]}function Vh(e,t){var n=(e[t]&127)<<21;return n|=(e[t+1]&127)<<14,n|=(e[t+2]&127)<<7,n|=e[t+3]&127}function ux(e){var t={key:e.type,description:"",data:"",mimeType:null,pictureType:null};if(e.type==="APIC"){if(2>e.size||e.data[0]!==3)return null;var n=e.data.subarray(1).indexOf(0);if(n===-1)return null;var i=ze(fe(e.data,1,n)),r=e.data[2+n],o=e.data.subarray(3+n).indexOf(0);if(o===-1)return null;var s=ze(fe(e.data,3+n,o)),a;return i==="-->"?a=ze(fe(e.data,4+n+o)):a=dn(e.data.subarray(4+n+o)),t.mimeType=i,t.pictureType=r,t.description=s,t.data=a,t}return e.type==="TXXX"?2>e.size||e.data[0]!==3||(i=e.data.subarray(1).indexOf(0),i===-1)?null:(n=ze(fe(e.data,1,i)),e=ze(fe(e.data,2+i)).replace(/\0*$/,""),t.description=n,t.data=e,t):e.type==="WXXX"?2>e.size||e.data[0]!==3||(i=e.data.subarray(1).indexOf(0),i===-1)?null:(n=ze(fe(e.data,1,i)),e=ze(fe(e.data,2+i)).replace(/\0*$/,""),t.description=n,t.data=e,t):e.type==="PRIV"?2>e.size||(n=e.data.indexOf(0),n===-1)?null:(n=ze(fe(e.data,0,n)),t.description=n,n=="com.apple.streaming.transportStreamTimestamp"?(n=e.data.subarray(n.length+1),e=n[3]&1,n=(n[4]<<23)+(n[5]<<15)+(n[6]<<7)+n[7],n/=45,e&&(n+=4772185884e-2),t.data=n):(e=dn(e.data.subarray(n.length+1)),t.data=e),t):e.type[0]==="T"?2>e.size||e.data[0]!==3?null:(e=ze(e.data.subarray(1)).replace(/\0*$/,""),t.data=e,t):e.type[0]==="W"?(e=ze(e.data).replace(/\0*$/,""),t.data=e,t):e.data?(t.data=dn(e.data),t):null}function wr(e){for(var t=0,n=[];jv(e,t);){var i=Vh(e,t+6);for(e[t+5]>>6&1&&(t+=10),t+=10,i=t+i;t+10<i;){var r=e.subarray(t),o=Vh(r,4);r={type:String.fromCharCode(r[0],r[1],r[2],r[3]),size:o,data:r.subarray(10,10+o)},(o=ux(r))&&n.push(o),t+=r.size+10}bv(e,t)&&(t+=10)}return n}function lo(e,t){for(var n=t=t===void 0?0:t,i=0;jv(e,t);)e[t+5]>>6&1&&(i+=10),i+=10,i+=Vh(e,t+6),bv(e,t+10)&&(i+=10),t+=i;return 0<i?e.subarray(n,n+i):new Uint8Array([])}G("shaka.util.Id3Utils",Gh),Gh.getID3Data=lo,Gh.getID3Frames=wr;function Fv(e,t){var n=null,i=null,r=null,o=e.U();return t&1&&(r=e.ud()),t&2&&e.skip(4),t&8&&(n=e.U()),t&16&&(i=e.U()),{trackId:o,Hd:n,ve:i,am:r}}function Mu(e,t){return t==1?(t=e.U(),e=e.U(),{baseMediaDecodeTime:t*Math.pow(2,32)+e}):{baseMediaDecodeTime:e.U()}}function ku(e,t){return t==1?(e.skip(8),e.skip(8)):(e.skip(4),e.skip(4)),t=e.U(),e.skip(4),e=e.za(),{timescale:t,language:String.fromCharCode((e>>10)+96)+String.fromCharCode(((e&960)>>5)+96)+String.fromCharCode((e&31)+96)}}function Bv(e,t,n){var i=e.U(),r=[],o=null;n&1&&(o=e.U()),n&4&&e.skip(4);for(var s=0;s<i;s++){var a={Qg:null,sampleSize:null,cf:null};n&256&&(a.Qg=e.U()),n&512&&(a.sampleSize=e.U()),n&1024&&e.skip(4),n&2048&&(a.cf=t==0?e.U():e.ei()),r.push(a)}return{em:i,ki:r,Zi:o}}function Gv(e){e.skip(6),e.skip(2),e.skip(8);var t=e.za();return e.skip(2),e.skip(2),e.skip(2),e=e.za()+e.za()/65536,{channelCount:t,sampleRate:e}}function Vv(e){return e=e.U(),{codec:xu(e)}}function lx(e){var t=null,n=null,i=e.Qb(4),r=String.fromCharCode(i[0]);if(r+=String.fromCharCode(i[1]),r+=String.fromCharCode(i[2]),r+=String.fromCharCode(i[3]),r==="nclx"){switch(e.za()){case 1:case 5:case 6:case 7:t="srgb";break;case 9:t="rec2020";break;case 11:case 12:t="p3"}switch(i=e.za(),e.za(),i){case 1:case 6:case 13:case 14:case 15:n="SDR";break;case 16:n="PQ";break;case 18:n="HLG"}}return{colorGamut:t,ce:n}}function bs(e,t){return t=t===void 0?!1:t,e=e.toString(16).toUpperCase(),t?e:("0"+e).slice(-2)}function qt(e){return(10>e?"0":"")+e}function Ii(e,t){if(this.j=e,t!==void 0&&t){t=new Uint8Array(e.byteLength);for(var n=0,i=0;i<e.byteLength;i++)2<=i&&e[i]==3&&e[i-1]==0&&e[i-2]==0||(t[n]=e[i],n++);this.j=fe(t,0,n)}this.i=this.j.byteLength,this.g=this.h=0}function Hh(e){var t=e.j.byteLength-e.i,n=new Uint8Array(4),i=Math.min(4,e.i);i!==0&&(n.set(e.j.subarray(t,t+i)),e.h=new be(n,0).U(),e.g=8*i,e.i-=i)}function Wt(e,t){if(e.g<=t){t-=e.g;var n=Math.floor(t/8);t-=8*n,e.g-=n,Hh(e)}e.h<<=t,e.g-=t}function ve(e,t){var n=Math.min(e.g,t),i=e.h>>>32-n;return e.g-=n,0<e.g?e.h<<=n:0<e.i&&Hh(e),n=t-n,0<n?i<<n|ve(e,n):i}function zh(e){var t;for(t=0;t<e.g;++t)if(e.h&2147483648>>>t)return e.h<<=t,e.g-=t,t;return Hh(e),t+zh(e)}function _t(e){Wt(e,1+zh(e))}function q(e){var t=zh(e);return ve(e,t+1)-1}function co(e){return e=q(e),1&e?1+e>>>1:-1*(e>>>1)}function Q(e){return ve(e,1)===1}function xe(e){return ve(e,8)}function Ru(e,t){for(var n=8,i=8,r=0;r<t;r++)i!==0&&(i=co(e),i=(n+i+256)%256),n=i===0?n:i}function cx(e){return xe(e),q(e),q(e)}G("shaka.util.ExpGolomb",Ii);function Be(){this.I=null,this.J=!1,this.m=this.K=null,this.j=[],this.g=[],this.A=this.C=null,this.i=[],this.h=[],this.G=null,this.l=[],this.H=this.o=this.u=null}f=Be.prototype,f.clearData=function(){this.j=[],this.g=[],this.i=[],this.h=[],this.l=[]},f.parse=function(e){if(564>e.length)return this;for(var t=Math.max(0,qh(e)),n=e.length-(e.length+t)%188,i=!1,r=t;r<n;r+=188)if(e[r]==71){var o=!!(e[r+1]&64),s=((e[r+1]&31)<<8)+e[r+2];if(1<(e[r+3]&48)>>4){var a=r+5+e[r+4];if(a==r+188)continue}else a=r+4;switch(s){case 0:o&&(a+=e[a]+1),this.I=(e[a+10]&31)<<8|e[a+11];break;case 17:case 8191:break;case this.I:o&&(a+=e[a]+1),o=e,s={audio:-1,video:-1,Fe:-1,audioCodec:"",videoCodec:""};var u=a+3+((o[a+1]&15)<<8|o[a+2])-4;for(a+=12+((o[a+10]&15)<<8|o[a+11]);a<u;){var l=(o[a+1]&31)<<8|o[a+2],c=(o[a+3]&15)<<8|o[a+4];switch(o[a]){case 6:if(0<c)for(var h=a+5,d=c;2<d;){var p=o[h+1]+2;switch(o[h]){case 5:var m=uh(o.subarray(h+2,h+p));s.audio==-1&&m==="Opus"?(s.audio=l,s.audioCodec="opus"):s.video==-1&&m==="AV01"&&(s.video=l,s.videoCodec="av1");break;case 106:s.audio==-1&&(s.audio=l,s.audioCodec="ac3");break;case 122:s.audio==-1&&(s.audio=l,s.audioCodec="ec3");break;case 124:s.audio==-1&&(s.audio=l,s.audioCodec="aac");break;case 127:s.audioCodec=="opus"&&(m=null,o[h+2]===128&&(m=o[h+3]),m!=null&&(this.H={channelCount:m&15?m&15:2,Wi:m,sampleRate:48e3}))}h+=p,d-=p}break;case 15:s.audio==-1&&(s.audio=l,s.audioCodec="aac");break;case 17:s.audio==-1&&(s.audio=l,s.audioCodec="aac-loas");break;case 21:s.Fe==-1&&(s.Fe=l);break;case 27:s.video==-1&&(s.video=l,s.videoCodec="avc");break;case 3:case 4:s.audio==-1&&(s.audio=l,s.audioCodec="mp3");break;case 36:s.video==-1&&(s.video=l,s.videoCodec="hvc");break;case 129:s.audio==-1&&(s.audio=l,s.audioCodec="ac3");break;case 132:case 135:s.audio==-1&&(s.audio=l,s.audioCodec="ec3")}a+=c+5}o=s,o.video!=-1&&(this.K=o.video,this.m=o.videoCodec),o.audio!=-1&&(this.C=o.audio,this.A=o.audioCodec),o.Fe!=-1&&(this.G=o.Fe),i&&!this.J&&(i=!1,r=t-188),this.J=!0;break;case this.K:a=e.subarray(a,r+188),o?this.j.push([a]):this.j.length&&this.j[this.j.length-1]&&this.j[this.j.length-1].push(a);break;case this.C:a=e.subarray(a,r+188),o?this.i.push([a]):this.i.length&&this.i[this.i.length-1]&&this.i[this.i.length-1].push(a);break;case this.G:a=e.subarray(a,r+188),o?this.l.push([a]):this.l.length&&this.l[this.l.length-1]&&this.l[this.l.length-1].push(a);break;default:i=!0}}return this};function Kh(e,t){if((t[0]<<16|t[1]<<8|t[2])!==1)return null;var n={data:new Uint8Array(0),packetLength:t[4]<<8|t[5],pts:null,dts:null,nalus:[]};if(n.packetLength&&n.packetLength>t.byteLength-6)return null;var i=t[7];if(i&192){var r=536870912*(t[9]&14)+4194304*(t[10]&255)+16384*(t[11]&254)+128*(t[12]&255)+(t[13]&254)/2;e.u==null&&(e.u=r),n.pts=zv(r,e.u),e.u=n.pts,n.dts=n.pts,i&64&&(i=536870912*(t[14]&14)+4194304*(t[15]&255)+16384*(t[16]&254)+128*(t[17]&255)+(t[18]&254)/2,e.o==null&&(e.o=i),n.dts=zv(i,e.o)),e.o=n.dts}return e=t[8]+9,t.byteLength<=e?null:(n.data=t.subarray(e),n)}f.hk=function(e){return Ke("TsParser.parseAvcNalus","Please use parseNalus function instead."),this.Jg(e)},f.Jg=function(e,t,n){var i=e.pts?e.pts/9e4:null;e=e.data;var r=e.byteLength,o=1;this.m=="hvc"&&(o=2);for(var s=n||0,a=[],u=-1,l=0,c,h=0;h<r;++h){var d=e[h];if(d){if(2<=s&&d==1){if(t&&!a.length&&u==-1&&(d=h-(3<s?3:s),n&&d!=0&&(d=e.subarray(0,d),t.data=Je(t.data,d),t.fullData=Je(t.fullData,d))),0<=u?(s=h-((3<s?3:s)+1),a.push({data:e.subarray(u+o,s+1),fullData:e.subarray(u,s+1),type:l,time:i})):t&&!a.length&&(u=h-s,0<u&&(u=e.subarray(0,u),t.data=Je(t.data,u),t.fullData=Je(t.fullData,u))),h>=r-o)return a;h++,u=h,l=this.m=="hvc"?e[h]>>1&63:e[h]&31}s=0}else s++;h>=r-1&&0<=u&&0<=s&&(c={data:e.subarray(u+o,r),fullData:e.subarray(u,r),type:l,time:i})}return c&&a.push(c),!a.length&&t&&(t.data=Je(t.data,e),t.fullData=Je(t.fullData,e)),a},f.getMetadata=function(){for(var e=[],t=g(this.l),n=t.next();!n.done;n=t.next())n=Je.apply(kt,X(n.value)),(n=Kh(this,n))&&e.push({cueTime:n.pts?n.pts/9e4:null,data:n.data,frames:wr(n.data),dts:n.dts,pts:n.pts});return e},f.rc=function(){if(this.i.length&&!this.h.length){for(var e=!1,t=g(this.i),n=t.next();!n.done;n=t.next()){var i=Je.apply(kt,X(n.value)),r=Kh(this,i);n=this.h.length?this.h[this.h.length-1]:null,r&&r.pts!=null&&r.dts!=null&&(!n||n.pts!=r.pts&&n.dts!=r.dts)?(this.h.length&&r.dts<(n.dts||0)&&(e=!0),this.h.push(r)):this.h.length&&(i=r?r.data:i)&&(n=this.h.pop(),n.data=Je(n.data,i),this.h.push(n))}e&&(this.h=this.h.sort(function(o,s){var a=(o.pts||0)-(s.pts||0);return(o.dts||0)-(s.dts||0)||a}))}return this.h},f.Mc=function(e){if(e=e===void 0?!0:e,this.j.length&&!this.g.length){for(var t=!1,n=g(this.j),i=n.next();!i.done;i=n.next()){var r=Je.apply(kt,X(i.value)),o=Kh(this,r);i=this.g.length?this.g[this.g.length-1]:null,o&&o.pts!=null&&o.dts!=null&&(!i||i.pts!=o.pts&&i.dts!=o.dts)?(this.g.length&&o.dts<(i.dts||0)&&(t=!0),this.g.push(o)):this.g.length&&(r=o?o.data:r)&&(i=this.g.pop(),i.data=Je(i.data,r),this.g.push(i))}if(e){for(n=[],i=g(this.g),r=i.next();!r.done;r=i.next())if(r=r.value,r.nalus=this.Jg(r,s,void 0),r.nalus.length){n.push(r);var s=r.nalus[r.nalus.length-1]}this.g=n}t&&(this.g=this.g.sort(function(a,u){var l=(a.pts||0)-(u.pts||0);return(a.dts||0)-(u.dts||0)||l}))}return e?this.g:(e=this.g,this.g=[],e)},f.getStartTime=function(e){if(e=="audio"){e=null;var t=this.rc();return t.length&&(e=t[0],e=Math.min(e.dts,e.pts)/9e4),e}return e=="video"?(e=null,t=this.Mc(!1),t.length&&(e=t[0],e=Math.min(e.dts,e.pts)/9e4),e):null},f.Id=function(){return{audio:this.A,video:this.m}},f.De=function(){for(var e=[],t=g(this.Mc()),n=t.next();!n.done;n=t.next())e.push.apply(e,X(n.value.nalus));return e},f.Kj=function(){Ke("TsParser.getVideoResolution","Please use getVideoInfo function instead.");var e=this.pg();return{height:e.height,width:e.width}},f.pg=function(){return this.m=="hvc"?dx(this):hx(this)};function Hv(e){var t=e.Mc();return 1<t.length&&(e=t[0].pts,t=t[1].pts,!isNaN(t-e))?String(1/(t-e)*9e4):null}function hx(e){var t={height:null,width:null,codec:null,frameRate:null},n=e.De();if(!n.length||(n=n.find(function(p){return p.type==7}),!n))return t;n=new Ii(n.data);var i=xe(n),r=xe(n),o=xe(n);if(_t(n),fx.includes(i)){var s=q(n);if(s===3&&Wt(n,1),_t(n),_t(n),Wt(n,1),Q(n)){s=s!==3?8:12;for(var a=0;a<s;a++)Q(n)&&(6>a?Ru(n,16):Ru(n,64))}}if(_t(n),s=q(n),s===0)q(n);else if(s===1)for(Wt(n,1),_t(n),_t(n),s=q(n),a=0;a<s;a++)_t(n);_t(n),Wt(n,1),s=q(n),a=q(n);var u=ve(n,1);u===0&&Wt(n,1),Wt(n,1);var l=0,c=0,h=0,d=0;return Q(n)&&(l=q(n),c=q(n),h=q(n),d=q(n)),t.height=String((2-u)*(a+1)*16-2*h-2*d),t.width=String(16*(s+1)-2*l-2*c),t.codec="avc1."+("0"+i.toString(16).toUpperCase()).slice(-2)+("0"+r.toString(16).toUpperCase()).slice(-2)+("0"+o.toString(16).toUpperCase()).slice(-2),t.frameRate=Hv(e),t}function dx(e){var t={height:null,width:null,codec:null,frameRate:null},n=e.De();if(!n.length||(n=n.find(function(x){return x.type==33}),!n))return t;var i=new Ii(n.fullData,!0);xe(i),xe(i),ve(i,4);var r=ve(i,3);Q(i);var o=ve(i,2),s=ve(i,1),a=ve(i,5),u=ve(i,32);n=xe(i);for(var l=xe(i),c=xe(i),h=xe(i),d=xe(i),p=xe(i),m=xe(i),v=[],y=[],E=0;E<r;E++)v.push(Q(i)),y.push(Q(i));if(0<r)for(E=r;8>E;E++)ve(i,2);for(E=0;E<r;E++)v[E]&&ve(i,88),y[E]&&xe(i);q(i),r=q(i),r==3&&ve(i,1),v=q(i),y=q(i);var S=E=0,w=0,A=0;return Q(i)&&(E+=q(i),S+=q(i),w+=q(i),A+=q(i)),t.width=String(v-(E+S)*(r===1||r===2?2:1)),t.height=String(y-(w+A)*(r===1?2:1)),i=function(x){for(var I=0,C=0;32>C;C++)I|=(x>>C&1)<<31-C;return I>>>0}(u),s=s==1?"H":"L",o="hvc1"+("."+["","A","B","C"][o]+a),o+="."+i.toString(16).toUpperCase(),o+="."+s+m,p&&(o+="."+p.toString(16).toUpperCase()),d&&(o+="."+d.toString(16).toUpperCase()),h&&(o+="."+h.toString(16).toUpperCase()),c&&(o+="."+c.toString(16).toUpperCase()),l&&(o+="."+l.toString(16).toUpperCase()),n&&(o+="."+n.toString(16).toUpperCase()),t.codec=o,t.frameRate=Hv(e),t}function zv(e,t){var n=1;for(e>t&&(n=-1);4294967296<Math.abs(t-e);)e+=8589934592*n;return e}function Fs(e){return!(0>qh(e))}function qh(e){for(var t=Math.min(1e3,e.length-564),n=0;n<t;){if(e[n]==71&&e[n+188]==71&&e[n+376]==71)return n;n++}return-1}G("shaka.util.TsParser",Be),Be.syncOffset=qh,Be.probe=Fs,Be.prototype.getVideoInfo=Be.prototype.pg,Be.prototype.getVideoResolution=Be.prototype.Kj,Be.prototype.getVideoNalus=Be.prototype.De,Be.prototype.getCodecs=Be.prototype.Id,Be.prototype.getStartTime=Be.prototype.getStartTime,Be.prototype.getVideoData=Be.prototype.Mc,Be.prototype.getAudioData=Be.prototype.rc,Be.prototype.getMetadata=Be.prototype.getMetadata,Be.prototype.parseNalus=Be.prototype.Jg,Be.prototype.parseAvcNalus=Be.prototype.hk,Be.prototype.parse=Be.prototype.parse,Be.prototype.clearData=Be.prototype.clearData,Be.Timescale=9e4;var fx=[100,110,122,244,44,83,86,118,128,138,139,134];function Bs(e,t,n){this.g=null,this.o=-1,this.l=e,this.i=t,this.m=n,this.j=!1;e:{if(typeof libDPIModule>"u"&&de("Could not find LCEVC Library dependencies on this page"),typeof LCEVCdec<"u")this.h=LCEVCdec;else if(typeof LcevcDil<"u")this.h=LcevcDil,this.j=!0,Ke("LcevcDil","lcevc_dil.js is deprecated, please use lcevc_dec.js instead");else{de("Could not find LCEVC Library on this page"),e=!1;break e}typeof this.h.SupportObject>"u"?(de("Could not find LCEVC Library on this page"),e=!1):(this.h.SupportObject.SupportStatus||de(this.h.SupportObject.SupportError),e=typeof this.h<"u"&&typeof libDPIModule<"u"&&this.i instanceof HTMLCanvasElement&&this.h.SupportObject.SupportStatus)}e&&!this.g&&this.h.SupportObject.webGLSupport(this.i)&&(this.i.classList.remove("shaka-hidden"),this.g=this.j?new this.h.LcevcDil(this.l,this.i,this.m):new this.h.LCEVCdec(this.l,this.i,this.m))}function Kv(e){e.g&&e.i.classList.add("shaka-hidden")}Bs.prototype.release=function(){this.g&&(this.g.close(),this.g=null)};function qv(e,t,n){var i=0,r=-1;switch(t.mimeType){case"video/webm":i=1;break;case"video/mp4":i=2}switch(n){case"DASH":r=1;break;case"HLS":r=0}e.g&&(e.o=t.id,e.g.setLevelSwitching(t.id,!0),e.g.setContainerFormat(i),e.j||e.g.setStreamingFormat(r))}G("shaka.lcevc.Dec",Bs),Bs.prototype.release=Bs.prototype.release;function Wv(e,t,n,i){var r=this;this.j=e,this.V=n,this.A=null,this.Y=t,this.h={},this.G={},this.Ia={},this.g=null,this.ha=!1,this.P=i||null,this.l={},this.u=new Ae,this.i={},this.H=null,this.K=new De,this.ya="",this.Ja=!1,this.m=Xv(this,this.K),this.L=!1,this.I=new ao(function(){return gx(r)}),this.C=!1,this.S="UNKNOWN",this.Da=this.Ha=!1,this.Ca=new De,this.o=!1,this.aa=!0,this.na=this.N=this.ra=this.O=this.J=this.$=null,this.ka=new De}function Xv(e,t){if(e.aa=!0,O.ManagedMediaSource){e.j.disableRemotePlayback=!0;var n=new ManagedMediaSource;e.u.s(n,"startstreaming",function(){e.aa=!0}),e.u.s(n,"endstreaming",function(){e.aa=!1})}else n=new MediaSource;return e.u.sa(n,"sourceopen",function(){URL.revokeObjectURL(e.ya),t.resolve()}),e.u.sa(e.j,"playing",function(){e.Ja=!0}),e.ya=$h(n),e.j.src=e.ya,n}function px(e,t){var n,i,r,o,s,a,u,l,c,h,d;return k(function(p){if(p.g==1)return e.createSegmentIndex?T(p,e.createSegmentIndex(),2):p.B(2);if(!e.segmentIndex)return p.return(!1);if(e.segmentIndex.getNumReferences()==0)return p.return(!0);for(n=it,i=new Set,r=g(e.segmentIndex),o=r.next();!o.done;o=r.next())if(s=o.value,a=s.mimeType||e.mimeType||"",u=s.codecs||e.codecs||"",l=a+":"+u,!i.has(l)){if(i.add(l),t==n.Na){if(c=ot(a,u),!Ms(c))return p.return(!1)}else if(t==n.xa?u=ks(u):t==n.ia&&(u=to(u,a)),h=ow(e,a,u),d=Tr(a,u),!rt(h)&&!zi(d))return p.return(!1)}return p.return(!0)})}f=Wv.prototype,f.destroy=function(){return this.I.destroy()};function gx(e){var t,n,i,r,o,s,a,u;return k(function(l){if(l.g==1){t=[];for(n in e.l)for(i=e.l[n],r=i[0],e.l[n]=i.slice(0,1),r&&t.push(r.p.catch(jm)),o=g(i.slice(1)),s=o.next();!s.done;s=o.next())a=s.value,a.p.reject(new R(2,7,7003,void 0));e.g&&t.push(e.g.destroy());for(u in e.i)t.push(e.i[u].destroy());return T(l,Promise.all(t),2)}e.u&&(e.u.release(),e.u=null),e.j&&(e.j.removeAttribute("src"),e.j.load(),e.j=null),e.A=null,e.m=null,e.g=null,e.Y=null,e.h={},e.i={},e.H=null,e.l={},e.P=null,e.J=null,e.V=null,H(l)})}f.init=function(e,t,n,i){t=t===void 0?!1:t,n=n===void 0?"UNKNOWN":n,i=i===void 0?!1:i;var r=this,o,s,a,u,l;return k(function(c){switch(c.g){case 1:return o=it,T(c,r.K,2);case 2:r.C=t,r.S=n,r.Ha=i,r.Da=!r.C&&r.S=="HLS"&&!r.Ha,r.J=null,s=g(e.keys()),a=s.next();case 3:if(a.done){c.B(0);break}return u=a.value,l=e.get(u),T(c,Lu(r,u,l,l.codecs),6);case 6:r.o?(r.l[o.ia]=[],r.l[o.xa]=[]):r.l[u]=[],a=s.next(),c.B(3)}})};function Lu(e,t,n,i){var r,o,s,a,u,l,c,h,d,p,m,v;return k(function(y){switch(y.g){case 1:return r=it,o=jA,s=bA,T(y,px(n,t),2);case 2:if(s.call(o,y.h,"Type negotiation should happen before MediaSourceEngine.init!"),a=ot(n.mimeType,i),t==r.Na){Pu(e,a,e.C,n.external),y.B(0);break}if(u=e.A.forceTransmux,(!rt(a)||!e.C&&Wi.includes(a))&&(u=!0),l=Tr(n.mimeType,i),!u){y.B(4);break}if(c=Vt(r.ia,(i||"").split(",")),h=Vt(r.xa,(i||"").split(",")),!c||!h){y.B(5);break}return e.o=!0,T(y,Lu(e,r.ia,n,c),6);case 6:return T(y,Lu(e,r.xa,n,h),7);case 7:return y.return();case 5:(d=zi(l))&&(p=d(),e.i[t]=p,a=p.convertCodecs(t,l));case 4:m=a+e.A.addExtraFeaturesToSourceBuffer(a),_e(e.I);try{v=e.m.addSourceBuffer(m)}catch(E){throw new R(2,3,3015,E,"The mediaSource_ status was "+e.m.readyState+" expected 'open'",null)}e.C&&(v.mode=Mx),e.u.s(v,"error",function(){var E=e.l[t][0];E.p.reject(new R(2,3,3014,e.j.error?e.j.error.code:0,E.uri))}),e.u.s(v,"updateend",function(){return Ci(e,t)}),e.h[t]=v,e.G[t]=a,e.Ia[t]=!!n.drmInfos.length,H(y)}})}f.configure=function(e){this.A=e,this.g&&(this.g.A=e.modifyCueCallback)};function Pu(e,t,n,i){e.g||(e.g=new Si(e.Y),e.g&&(e.g.A=e.A.modifyCueCallback));var r=e.g;i=i||e.ha,e=e.S,t=="application/cea-608"||t=="application/cea-708"?r.i=null:(r.i=(0,tt[t])(),r.i.setSequenceMode?r.i.setSequenceMode(n):Ke("Text parsers w/ setSequenceMode",'Text parsers should have a "setSequenceMode" method!'),r.i.setManifestType?r.i.setManifestType(e):Ke("Text parsers w/ setManifestType",'Text parsers should have a "setManifestType" method!'),r.C=i)}function Yv(e){return e.L?!1:e.m?e.m.readyState=="ended":!0}function Wh(e,t){return Object.keys(e.h).length?t==me?e=e.g.g:(e=ho(e,t),e=!e||js(e)?null:e.length==1&&0>e.start(0)?0:e.length?e.start(0):null):e=null,e}function Gs(e,t){return Object.keys(e.h).length?t==me?e.g.h:Fh(ho(e,t)):null}function mx(e,t,n){return t==me?(e=e.g,e.h==null||e.h<n?0:e.h-Math.max(n,e.g)):(e=ho(e,t),Ov(e,n))}f.Vb=function(){var e={total:this.L?[]:Yi(this.j.buffered),audio:Yi(ho(this,"audio")),video:Yi(ho(this,"video")),text:[]};if(this.g){var t=this.g.g,n=this.g.h;t!=null&&n!=null&&e.text.push({start:t,end:n})}return e};function ho(e,t){if(e.L)return null;try{return e.h[t].buffered}catch{return null}}function vx(e,t,n,i,r){var o=null,s=[],a=fe(n);if(Wi.includes(r))t=wr(a),t.length&&i&&((n=t.find(function(h){return h.description==="com.apple.streaming.transportStreamTimestamp"}))&&n.data&&(o=Math.round(n.data)/1e3),e.V.onMetadata([{cueTime:i.startTime,data:a,frames:t,dts:i.startTime,pts:i.startTime}],0,i.endTime));else if(r.includes("/mp4")&&i&&i.timestampOffset==0&&i.ma&&i.ma.timescale){var u=i.ma.timescale;if(!isNaN(u)){var l=0,c=!1;new Ue().box("moof",ge).box("traf",ge).W("tfdt",function(h){l=Mu(h.reader,h.version).baseMediaDecodeTime/u,c=!0,h.parser.stop()}).parse(n,!0),c&&(o=l)}}else r.includes("/mp4")||r.includes("/webm")||!Fs(a)||(e.J?e.J.clearData():e.J=new Be,e=e.J.parse(a),i=e.getStartTime(t),i!=null&&(o=i),s=e.getMetadata());return{timestamp:o,metadata:s}}function Du(e,t,n,i,r,o,s,a,u,l){s=s===void 0?!1:s,a=a===void 0?!1:a,u=u===void 0?!1:u,l=l===void 0?!1:l;var c,h,d,p,m,v,y,E,S,w,A,x,I,C,L,P;return k(function(M){switch(M.g){case 1:if(c=it,t!=c.Na){M.B(2);break}if(!e.C){M.B(3);break}return T(M,e.Ca,4);case 4:h=M.h,e.g.u=h;case 3:return T(M,aw(e.g,n,i?i.startTime:null,i?i.endTime:null,i?i.R()[0]:null),5);case 5:return M.return();case 2:if(l||!e.o){M.B(6);break}return T(M,Du(e,c.ia,n,i,r,o,s,a,u,!0),7);case 7:return T(M,Du(e,c.xa,n,i,r,o,s,a,u,!0),8);case 8:return M.return();case 6:if(!e.h[t])return M.return();if(d=e.h[t].timestampOffset,p=e.G[t],e.i[t]&&(p=e.i[t].getOriginalMimeType()),i&&(m=vx(e,t,n,i,p),v=m.timestamp,y=m.metadata,v!=null&&(e.O==null&&t==c.xa&&(e.O=v,e.ra=i.startTime,e.N!=null&&(E=0,e.ra==e.na&&(E=e.O-e.N),e.ka.resolve(E))),e.N==null&&t==c.ia&&(e.N=v,e.na=i.startTime,e.O!=null&&(S=0,e.ra==e.na&&(S=e.O-e.N),e.ka.resolve(S))),w=i.startTime-v,A=Math.abs(d-w),(.001<=A||s||a)&&(!u||0<w||!d)&&(d=w,e.Da&&(ht(e,t,function(){return fo(e,t)},null),ht(e,t,function(){return po(e,t,d)},null))),x=t==c.xa||!(c.xa in e.h),e.C&&x&&e.Ca.resolve(d)),y.length)&&e.V.onMetadata(y,d,i?i.endTime:null),o&&t==c.xa&&(e.g||Pu(e,"application/cea-608",e.C,!1),e.H||(I=p.split(";",1)[0],e.H=new tn(I)),i?(C=e.H.i(n),C.length&&lw(e.g,C,i.startTime,i.endTime,d)):e.H.init(n,a)),!e.i[t]){M.B(9);break}return T(M,e.i[t].transmux(n,r,i,e.m.duration,t),10);case 10:n=M.h;case 9:if(n=Ax(e,n,i?i.startTime:null,t,i?i.R()[0]:null),!i||!e.C||t==c.Na){M.B(11);break}if(!s&&!a){M.B(11);break}if(L=i.startTime,e.S!="HLS"||e.o||t!=c.ia||!e.h[c.xa]){M.B(13);break}return T(M,e.ka,14);case 14:P=M.h,.1<Math.abs(P)&&(L-=P);case 13:ht(e,t,function(){return fo(e,t)},null),ht(e,t,function(){return po(e,t,L)},null);case 11:return T(M,ht(e,t,function(){var D=n;if(t=="video"&&e.P){var N=e.P;N.g&&N.g.appendBuffer(D,"video",N.o,-d)}e.h[t].appendBuffer(D)},i?i.R()[0]:null),15);case 15:H(M)}})}function yx(e,t){var n=Gs(e,"video")||0;Um(e.g,t,n)}function Tx(e){e.g&&Um(e.g,"",0)}f.remove=function(e,t,n){var i=this,r;return k(function(o){return o.g==1?(r=it,e==r.Na?T(o,i.g.remove(t,n),0):T(o,ht(i,e,function(){return Nu(i,e,t,n)},null),4)):i.o?T(o,ht(i,r.ia,function(){return Nu(i,r.ia,t,n)},null),0):o.B(0)})};function $v(e,t){var n;return k(function(i){return i.g==1?(n=it,t==n.Na?e.g?T(i,e.g.remove(0,1/0),0):i.return():T(i,ht(e,t,function(){return Nu(e,t,0,e.m.duration)},null),4)):e.o?T(i,ht(e,n.ia,function(){return Nu(e,n.ia,0,e.m.duration)},null),0):i.B(0)})}f.flush=function(e){var t=this,n;return k(function(i){return i.g==1?(n=it,e==n.Na?i.return():T(i,ht(t,e,function(){t.j.currentTime-=.001,Ci(t,e)},null),2)):t.o?T(i,ht(t,n.ia,function(){var r=n.ia;t.j.currentTime-=.001,Ci(t,r)},null),0):i.B(0)})};function Sx(e,t,n,i,r,o,s,a,u){var l,c,h;return k(function(d){return d.g==1?(l=it,t==l.Na?(o||(e.g.u=n),uw(e.g,i,r),d.return()):(c=[],T(d,Ix(e,t,s,a,u),2))):(h=d.h,h||(c.push(ht(e,t,function(){return fo(e,t)},null)),e.o&&c.push(ht(e,l.ia,function(){return fo(e,l.ia)},null))),o||(c.push(ht(e,t,function(){return po(e,t,n)},null)),e.o&&c.push(ht(e,l.ia,function(){return po(e,l.ia,n)},null))),c.push(ht(e,t,function(){e.h[t].appendWindowStart=0,e.h[t].appendWindowEnd=r,e.h[t].appendWindowStart=i,Ci(e,t)},null)),e.o&&c.push(ht(e,l.ia,function(){var p=l.ia;e.h[p].appendWindowStart=0,e.h[p].appendWindowEnd=r,e.h[p].appendWindowStart=i,Ci(e,p)},null)),T(d,Promise.all(c),0))})}function Ex(e,t,n){var i;return k(function(r){return r.g==1?(i=it,t==i.Na?r.return():(t==i.xa&&(e.Ca=new De),ht(e,t,function(){return fo(e,t)},null),e.o&&ht(e,i.ia,function(){return fo(e,i.ia)},null),T(r,ht(e,t,function(){return po(e,t,n)},null),2))):e.o?T(r,ht(e,i.ia,function(){return po(e,i.ia,n)},null),0):r.B(0)})}f.endOfStream=function(e){var t=this;return k(function(n){return T(n,Xh(t,function(){Yv(t)||t.m.readyState==="closed"||(e?t.m.endOfStream(e):t.m.endOfStream())}),0)})},f.vb=function(e){var t=this;return k(function(n){return T(n,Xh(t,function(){if(e<t.m.duration)for(var i in t.h){var r={start:function(){},p:new De,uri:null};t.l[i].unshift(r)}t.m.duration=e,t.$=e}),0)})},f.getDuration=function(){return this.m.duration};function Nu(e,t,n,i){i<=n?Ci(e,t):e.h[t].remove(n,i)}function fo(e,t){var n=e.h[t].appendWindowStart,i=e.h[t].appendWindowEnd;e.h[t].abort(),e.h[t].appendWindowStart=n,e.h[t].appendWindowEnd=i,Ci(e,t)}function po(e,t,n){0>n&&(n+=.001),e.h[t].timestampOffset=n,Ci(e,t)}function Ci(e,t){if(!e.L){var n=e.l[t][0];n&&(n.p.resolve(),Yh(e,t))}}function ht(e,t,n,i){return _e(e.I),n={start:n,p:new De,uri:i},e.l[t].push(n),e.l[t].length==1&&Jv(e,t),n.p}function Xh(e,t){var n,i,r,o,s,a,u;return k(function(l){switch(l.g){case 1:_e(e.I),n=[],i={};for(r in e.h)i={ready:void 0},i.ready=new De,o={start:function(c){return function(){return c.ready.resolve()}}(i),p:i.ready,uri:null},e.l[r].push(o),n.push(i.ready),e.l[r].length==1&&o.start();return Z(l,2),T(l,Promise.all(n),4);case 4:he(l,3);break;case 2:throw s=ee(l),s;case 3:return Z(l,5,6),T(l,t(),6);case 6:Zt(l);for(a in e.h)Yh(e,a);en(l,0);break;case 5:throw u=ee(l),new R(2,3,3015,u,e.j.error||"No error in the media element",null)}})}function Yh(e,t){e.l[t].shift(),Jv(e,t)}function Jv(e,t){var n=e.l[t][0];if(n)try{n.start()}catch(i){i.name=="QuotaExceededError"?n.p.reject(new R(2,3,3017,t)):n.p.reject(new R(2,3,3015,i,e.j.error||"No error in the media element",n.uri)),Yh(e,t)}}function Ax(e,t,n,i,r){var o=n==null,s=e.Ia[i];return n=e.V.oj(),(o=e.A.insertFakeEncryptionInInit&&o&&s)&&(n=th(n),o=Cn()||Vn()||ih()||ds()&&rh()&&n),o&&mu(e.G[i])=="mp4"&&(t=rx(t,r)),t}function wx(e,t,n,i){return ht(e,t,function(){t!==me&&(Gi()&&(e.i[t]&&(e.i[t].destroy(),delete e.i[t]),i&&(e.i[t]=i),e.h[t].changeType(n+e.A.addExtraFeaturesToSourceBuffer(n)),e.G[t]=n),Ci(e,t))},null)}function xx(e,t){var n,i,r,o,s,a,u,l,c,h,d,p,m,v,y,E,S,w,A,x,I,C,L,P;return k(function(M){switch(M.g){case 1:n=it,e.L=!0,e.o=!1,i=e.j.currentTime,r=e.j.autoplay,o=e.j.paused,e.Ja&&(e.j.autoplay=!1),ui(M,2),e.u.Za(),s=[];for(a in e.i)s.push(e.i[a].destroy());for(u in e.l)for(l=e.l[u],c=l[0],e.l[u]=l.slice(0,1),c&&s.push(c.p.catch(jm)),h=g(l.slice(1)),d=h.next();!d.done;d=h.next())p=d.value,p.p.reject(new R(2,7,7003,void 0));for(m in e.h){v=e.h[m];try{e.m.removeSourceBuffer(v)}catch{}}return T(M,Promise.all(s),4);case 4:return e.i={},e.h={},y=e.m.duration,e.K=new De,e.m=Xv(e,e.K),T(M,e.K,5);case 5:!isNaN(y)&&y?e.m.duration=y:!isNaN(e.$)&&e.$&&(e.m.duration=e.$),E=new De,S=e.m.sourceBuffers,w=t.size,A=0,x=function(){A++,A===w&&(E.resolve(),e.u.Ma(S,"addsourcebuffer",x))},e.u.s(S,"addsourcebuffer",x),I=g(t.keys()),C=I.next();case 6:return C.done?(e.j.currentTime=i,T(M,E,2)):(L=C.value,P=t.get(L),T(M,Lu(e,L,P,P.codecs),9));case 9:e.o?(e.l[n.ia]=[],e.l[n.xa]=[]):e.l[L]=[],C=I.next(),M.B(6);break;case 2:Zt(M),e.L=!1,_e(e.I),e.u.sa(e.j,"canplaythrough",function(){e.I.g||(e.j.autoplay=r,o||e.j.play())}),en(M,0)}})}function Qv(e,t){return Xh(e,function(){return xx(e,t)})}function Ix(e,t,n,i,r){var o,s,a,u,l,c,h,d,p,m,v,y,E,S,w;return k(function(A){return A.g==1?(o=it,t==o.Na?A.return(!1):(s=It(rn(e.G[t])),a=nn(e.G[t]),l=!1,c=ot(n,i),h=e.A.forceTransmux,(!rt(c)||!e.C&&Wi.includes(c))&&(h=!0),h&&(d=Tr(n,i),p=zi(d))&&(u=p(),m=Vt(o.ia,(i||"").split(",")),v=Vt(o.xa,(i||"").split(",")),m&&v?(l=!0,y=v,t==o.ia&&(y=m),c=u.convertCodecs(t,Tr(n,y))):c=u.convertCodecs(t,d)),E=It(rn(c)),S=nn(c),s===E&&a===S?(e.i[t]&&!u?(e.i[t].destroy(),delete e.i[t]):!e.i[t]&&u?e.i[t]=u:u&&(e.i[t]&&e.i[t].transmux!=u.transmux?(e.i[t].destroy(),delete e.i[t],e.i[t]=u):u.destroy()),A.return(!1)):(w=!0,(e.o||l&&u&&!e.i[t])&&(w=!1),w&&e.A.codecSwitchingStrategy==="smooth"&&Gi()?T(A,wx(e,t,c,u),3):(u&&u.destroy(),T(A,Qv(e,r),3))))):A.return(!0)})}function Cx(e,t,n,i){if(t==me)var r=!1;else{r=It(rn(e.G[t]));var o=nn(e.G[t]),s=ot(n,i),a=e.A.forceTransmux;(!rt(s)||!e.C&&Wi.includes(s))&&(a=!0),n=Tr(n,i),a&&(a=zi(n))&&(a=a(),s=a.convertCodecs(t,n),a.destroy()),t=It(rn(s)),s=nn(s),r=r!==t||o!==s}return r?e.A.codecSwitchingStrategy!=="smooth"||!Gi()||e.o:!1}var $h=O.URL.createObjectURL,Mx="sequence";function te(e,t,n){this.i=e,this.G=t,this.o=this.l=1/0,this.h=1,this.g=this.j=null,this.A=0,this.C=!0,this.K=!1,this.J=0,this.H=n===void 0?!0:n,this.I=0,this.u=!1,this.m=e}f=te.prototype,f.getDuration=function(){return this.l},f.tj=function(){return this.h},f.si=function(e){this.i=e},f.vb=function(e){this.l=e},f.xj=function(){return this.i},f.ni=function(e){this.A=e},f.Xc=function(e){e&&!this.C&&(this.K=!0),this.C=e},f.hf=function(e){this.o=e},f.Ce=function(){return this.o},f.Vg=function(e){this.G=e},f.jj=function(){return this.G},f.ai=function(e,t){if(e.length!=0){var n=(Date.now()+this.A)/1e3;if(e=e.filter(function(r){return r.start+t<n}),e.length!=0){var i=e[e.length-1].end+t;this.Te(e[0].start+t),this.h=e.reduce(function(r,o){return Math.max(r,o.end-o.start)},this.h),this.g=Math.max(this.g,i),this.i!=null&&this.H&&!this.u&&(this.i=n-this.g-this.h)}}},f.Ud=function(e){if(e.length!=0){var t=e[0].startTime,n=e[0].endTime,i=(Date.now()+this.A)/1e3;e=g(e);for(var r=e.next();!r.done;r=e.next())r=r.value,i<r.startTime||(t=Math.min(t,r.startTime),n=Math.max(n,r.endTime),this.h=Math.max(this.h,r.endTime-r.startTime));this.Te(t),this.g=Math.max(this.g,n),this.i!=null&&this.H&&!this.u&&(this.i=i-this.g-this.h)}},f.$h=function(e,t){this.Te(e),t==1/0||this.T()||(this.g=Math.max(this.g,t))},f.uj=function(){return this.g},f.Oe=function(){this.u=!0},f.Vj=function(){return this.u},f.pi=function(e){this.m=e},f.nj=function(){return this.m},f.Te=function(e){this.j==null?this.j=e:this.K||(this.j=Math.min(this.j,e))},f.Eg=function(e){this.h=Math.max(this.h,e)},f.offset=function(e){this.j!=null&&(this.j+=e),this.g!=null&&(this.g+=e)},f.T=function(){return this.l==1/0&&!this.C},f.Qc=function(){return this.l!=1/0&&!this.C},f.Hb=function(){return Math.max(this.J,this.tc()-this.o)},f.xi=function(e){this.J=e},f.tc=function(){return this.T()||this.Qc()?Math.min(Math.max(0,(Date.now()+this.A)/1e3-this.h-this.i)+this.I,this.l):this.g?Math.min(this.g,this.l):this.l},f.Ld=function(e){var t=Math.max(this.j,this.J);return this.o==1/0?Math.ceil(1e3*t)/1e3:Math.max(t,Math.min(this.tc()-this.o+e,this.Wb()))},f.dc=function(){return this.Ld(0)},f.Wb=function(){return Math.max(0,this.tc()-(this.T()||this.Qc()?this.G:0))},f.Hi=function(){return!(this.i==null||this.g!=null&&this.H)},f.mi=function(e){this.I=e},f.cj=function(){return this.I},G("shaka.media.PresentationTimeline",te),te.prototype.getAvailabilityTimeOffset=te.prototype.cj,te.prototype.setAvailabilityTimeOffset=te.prototype.mi,te.prototype.usingPresentationStartTime=te.prototype.Hi,te.prototype.getSeekRangeEnd=te.prototype.Wb,te.prototype.getSeekRangeStart=te.prototype.dc,te.prototype.getSafeSeekRangeStart=te.prototype.Ld,te.prototype.getSegmentAvailabilityEnd=te.prototype.tc,te.prototype.setUserSeekStart=te.prototype.xi,te.prototype.getSegmentAvailabilityStart=te.prototype.Hb,te.prototype.isInProgress=te.prototype.Qc,te.prototype.isLive=te.prototype.T,te.prototype.offset=te.prototype.offset,te.prototype.notifyMaxSegmentDuration=te.prototype.Eg,te.prototype.notifyMinSegmentStartTime=te.prototype.Te,te.prototype.getInitialProgramDateTime=te.prototype.nj,te.prototype.setInitialProgramDateTime=te.prototype.pi,te.prototype.isStartTimeLocked=te.prototype.Vj,te.prototype.lockStartTime=te.prototype.Oe,te.prototype.getMaxSegmentEndTime=te.prototype.uj,te.prototype.notifyPeriodDuration=te.prototype.$h,te.prototype.notifySegments=te.prototype.Ud,te.prototype.notifyTimeRange=te.prototype.ai,te.prototype.getDelay=te.prototype.jj,te.prototype.setDelay=te.prototype.Vg,te.prototype.getSegmentAvailabilityDuration=te.prototype.Ce,te.prototype.setSegmentAvailabilityDuration=te.prototype.hf,te.prototype.setStatic=te.prototype.Xc,te.prototype.setClockOffset=te.prototype.ni,te.prototype.getPresentationStartTime=te.prototype.xj,te.prototype.setDuration=te.prototype.vb,te.prototype.setPresentationStartTime=te.prototype.si,te.prototype.getMaxSegmentDuration=te.prototype.tj,te.prototype.getDuration=te.prototype.getDuration;function Zv(e,t,n){this.j=n,this.l=e,this.u=ey(e),this.g=e.g.currentTime,this.m=Date.now()/1e3,this.h=!1,this.o=0,this.A=t,this.i=function(){}}Zv.prototype.release=function(){this.j=this.l=null,this.i=function(){}};function kx(e,t){e.i=t}function Rx(e){this.g=e}function ey(e){if(e.g.paused||e.g.playbackRate==0||e.g.buffered.length==0)var t=!1;else e:{t=e.g.currentTime,e=g(Yi(e.g.buffered));for(var n=e.next();!n.done;n=e.next())if(n=n.value,!(t<n.start-.1||t>n.end-.5)){t=!0;break e}t=!1}return t}function Jh(e,t,n,i,r){var o=this;this.A=r,this.g=e,this.C=t,this.m=n,this.l=new Ae,this.j=!1,this.H=e.readyState,this.G=this.i=0,this.h=i,this.u=!1,this.l.s(e,"waiting",function(){return Qh(o)}),this.o=new oe(function(){Qh(o)}).Ba(this.m.gapJumpTimerTime)}Jh.prototype.release=function(){this.l&&(this.l.release(),this.l=null),this.o!=null&&(this.o.stop(),this.o=null),this.h&&(this.h.release(),this.h=null),this.g=this.C=this.A=null},Jh.prototype.Hg=function(){this.u=!0,Qh(this)};function Qh(e){if(e.g.readyState!=0){if(e.g.seeking){if(!e.j)return}else e.j=!1;if(!e.g.paused||e.g.currentTime==e.i&&(e.g.autoplay||e.g.currentTime!=e.i)){e.g.readyState!=e.H&&(e.H=e.g.readyState);var t;if(!(t=!e.h)){t=e.h;var n=t.l,i=ey(n),r=n.g.currentTime,o=Date.now()/1e3;(t.g!=r||t.u!=i)&&(t.m=o,t.g=r,t.u=i,t.h=!1),r=o-t.m,(i=r>=t.A&&i&&!t.h)&&(t.i(t.g,r),t.h=!0,t.g=n.g.currentTime,t.o++,t.j(new V("stalldetected"))),t=!i}t&&(t=e.g.currentTime,n=e.g.buffered,i=ax(n,t,e.m.gapDetectionThreshold),i!=null&&(i!=0||e.u))&&(r=n.start(i),(navigator.userAgent.match(/Edge\//)||Vn()||Cn())&&(r=Math.ceil(100*(r+e.m.gapPadding))/100),r>=e.C.Wb()||.001>r-t||(i!=0&&n.end(i-1),e.g.currentTime=r,t==e.i&&(e.i=r),e.G++,e.A(new V("gapjumped"))))}}}function go(e,t,n,i){t==HTMLMediaElement.HAVE_NOTHING||e.readyState>=t?i():(t=Lx.value().get(t),n.sa(e,t,i))}var Lx=new Gr(function(){return new Map([[HTMLMediaElement.HAVE_METADATA,"loadedmetadata"],[HTMLMediaElement.HAVE_CURRENT_DATA,"loadeddata"],[HTMLMediaElement.HAVE_FUTURE_DATA,"canplay"],[HTMLMediaElement.HAVE_ENOUGH_DATA,"canplaythrough"]])});function ty(e,t,n,i){var r=this;this.g=e,this.m=t,this.u=n,this.l=null,this.j=function(){return r.l==null&&(r.l=i()),r.l},this.o=!1,this.h=new Ae,this.i=new oy(e),go(this.g,HTMLMediaElement.HAVE_METADATA,this.h,function(){iy(r,r.j())})}ty.prototype.release=function(){this.h&&(this.h.release(),this.h=null),this.i!=null&&(this.i.release(),this.i=null),this.m=function(){},this.g=null};function Zh(e){return e.o?e.g.currentTime:e.j()}function ny(e,t){0<e.g.readyState?sy(e.i,t):go(e.g,HTMLMediaElement.HAVE_METADATA,e.h,function(){iy(e,e.j())})}function iy(e,t){.001>Math.abs(e.g.currentTime-t)?ry(e):(e.h.sa(e.g,"seeking",function(){ry(e)}),sy(e.i,e.g.currentTime&&e.g.currentTime!=0?e.g.currentTime:t))}function ry(e){e.o=!0,e.h.s(e.g,"seeking",function(){return e.m()}),e.u(e.g.currentTime)}function oy(e){var t=this;this.g=e,this.m=10,this.j=this.l=this.i=0,this.h=new oe(function(){0>=t.i||t.g.currentTime!=t.l||t.g.currentTime===t.j?t.h.stop():(t.g.currentTime=t.j,t.i--)})}oy.prototype.release=function(){this.h&&(this.h.stop(),this.h=null),this.g=null};function sy(e,t){e.l=e.g.currentTime,e.j=t,e.i=e.m,e.g.currentTime=t,e.h.Ba(.1)}function ay(e){this.h=e,this.j=!1,this.g=null,this.i=new Ae}f=ay.prototype,f.ready=function(){function e(){if(t.g==null||t.g==0&&t.h.duration!=1/0)t.j=!0;else{var n=t.h.currentTime,i=t.g;0>t.g&&(i=Math.max(0,n+t.g)),n!=i?(t.i.sa(t.h,"seeking",function(){t.j=!0}),t.h.currentTime=i):t.j=!0}}var t=this;go(this.h,HTMLMediaElement.HAVE_CURRENT_DATA,this.i,function(){e()})},f.release=function(){this.i&&(this.i.release(),this.i=null),this.h=null},f.Df=function(e){this.g=this.j?this.g:e},f.le=function(){return(this.j?this.h.currentTime:this.g)||0},f.lh=function(){return 0},f.kh=function(){return 0},f.Zh=function(){};function uy(e,t,n,i,r,o){var s=this;this.i=e,this.g=t.presentationTimeline,this.C=t.minBufferTime||0,this.l=n,this.A=r,this.u=null,this.o=Px(e,n,o),this.j=new Jh(e,t.presentationTimeline,n,this.o,o),this.h=new ty(e,function(){e:{var a=s.j;a.j=!0,a.u=!1;var u=Zh(s.h);if(a=cy(s,u),.001<Math.abs(a-u)){if(u=!1,!Gt()||Gt()&&nu())u=!0;else{var l=Date.now()/1e3,c=Gt()&&ke("Fuchsia")?3:1;(!s.u||s.u<l-c)&&(s.u=l,u=!0)}if(u){ny(s.h,a),a=void 0;break e}}s.A(),a=void 0}return a},function(a){var u=s.j;u.g.seeking&&!u.j&&(u.j=!0,u.i=a)},function(){var a=i;return a==null?a=1/0>s.g.getDuration()?s.g.dc():s.g.Wb():0>a&&(a=s.g.Wb()+a),ly(s,hy(s,a))}),this.m=new oe(function(){if(s.i.readyState!=0&&!s.i.paused){var a=Zh(s.h),u=s.g.dc(),l=s.g.Wb();3>l-u&&(u=l-3),a<u&&(a=cy(s,a),s.i.currentTime=a)}})}f=uy.prototype,f.ready=function(){this.m.Ba(.25)},f.release=function(){this.h&&(this.h.release(),this.h=null),this.j&&(this.j.release(),this.j=null),this.m&&(this.m.stop(),this.m=null),this.i=this.h=this.g=this.l=null,this.A=function(){}},f.Df=function(e){ny(this.h,e)},f.le=function(){var e=Zh(this.h);return 0<this.i.readyState&&!this.i.paused?hy(this,e):e},f.lh=function(){return this.o?this.o.o:0},f.kh=function(){return this.j.G},f.Zh=function(){this.j.Hg()};function ly(e,t){var n=e.g.getDuration();return t>=n?n-e.l.durationBackoff:t}function cy(e,t){var n=Math.max(e.C,e.l.rebufferingGoal),i=e.l.safeSeekOffset,r=e.g.dc(),o=e.g.Wb(),s=e.g.getDuration();3>o-r&&(r=o-3);var a=e.g.Ld(n),u=e.g.Ld(i);return n=e.g.Ld(n+i),t>=s?ly(e,t):t>o?o:t<r?Bh(e.i.buffered,u)?u:n:t>=a||Bh(e.i.buffered,t)?t:n}function hy(e,t){var n=e.g.dc();return t<n?n:(e=e.g.Wb(),t>e?e:t)}function Px(e,t,n){if(!t.stallEnabled)return null;var i=t.stallSkip;return t=new Zv(new Rx(e),t.stallThreshold,n),kx(t,function(){i?e.currentTime+=i:(e.pause(),e.play())}),t}function we(e){this.g=e,this.m=null,this.i=0,this.o=!1}f=we.prototype,f.getNumReferences=function(){return this.g.length},f.getNumEvicted=function(){return this.i},f.release=function(){this.o||(this.g=[],this.m&&this.m.stop(),this.m=null)},f.ck=function(){this.o=!0},f.Ub=function(e){for(var t=g(this.g),n=t.next();!n.done;n=t.next())e(n.value)};function qn(e){return e.g[0]||null}f.find=function(e){for(var t=this.g.length-1,n=t;0<=n;--n){var i=this.g[n],r=n<t?this.g[n+1].startTime:i.endTime;if(e>=i.startTime&&e<r)return n+this.i}return this.g.length&&e<this.g[0].startTime?this.i:null},f.get=function(e){return this.g.length==0?null:(e-=this.i,0>e||e>=this.g.length?null:this.g[e])},f.offset=function(e){if(!this.o)for(var t=g(this.g),n=t.next();!n.done;n=t.next())n.value.offset(e)},f.Qe=function(e){if(!this.o&&e.length){var t=Math.round(1e3*e[0].startTime)/1e3;this.g=this.g.filter(function(n){return Math.round(1e3*n.startTime)/1e3<t}),this.g.push.apply(this.g,X(e))}},f.Td=function(e,t){var n=this;e=e.filter(function(i){return i.endTime>t&&(n.g.length==0||i.endTime>n.g[0].startTime)}),this.Qe(e),this.Ya(t)},f.Ya=function(e){if(!this.o){var t=this.g.length;this.g=this.g.filter(function(n){return n.endTime>e}),this.i+=t-this.g.length}},f.hd=function(e,t,n){if(n=n===void 0?!1:n,!this.o){for(;this.g.length&&this.g[this.g.length-1].startTime>=t;)this.g.pop();for(;this.g.length&&this.g[0].endTime<=e;)this.g.shift(),n||this.i++;this.g.length!=0&&(e=this.g[this.g.length-1],t=new ie(e.startTime,t,e.H,e.$a,e.La,e.ma,e.timestampOffset,e.appendWindowStart,e.appendWindowEnd,e.g,e.tilesLayout,e.C,e.h,e.status,e.aesKey),t.mimeType=e.mimeType,t.codecs=e.codecs,t.i=e.i,this.g[this.g.length-1]=t)}},f.mf=function(e,t){var n=this;this.o||(this.m&&this.m.stop(),this.m=new oe(function(){var i=t();i?n.g.push.apply(n.g,X(i)):(n.m.stop(),n.m=null)}),this.m.Ba(e))},we.prototype[Symbol.iterator]=function(){return this.cc(0)},we.prototype.cc=function(e,t,n){t=t===void 0?!1:t,n=n===void 0?!1:n;var i=this.find(e);if(i==null)return null;var r=this.get(i);n?i++:i--;var o=-1;if(r&&0<r.g.length)for(var s=r.g.length-1;0<=s;--s){var a=r.g[s];if(e>=a.startTime&&e<a.endTime){if(!t){for(;s&&!a.l;)s--,a=r.g[s];if(!a.l)return ci("No independent partial segment found!"),null}n?i--:i++,o=s-1;break}}return new pn(this,i,o,n)};function ed(e,t,n){return e=new ie(e,e+t,function(){return n},0,null,null,e,e,e+t),new we([e])}G("shaka.media.SegmentIndex",we),we.forSingleSegment=ed,we.prototype.getIteratorForTime=we.prototype.cc,we.prototype.updateEvery=we.prototype.mf,we.prototype.fit=we.prototype.hd,we.prototype.evict=we.prototype.Ya,we.prototype.mergeAndEvict=we.prototype.Td,we.prototype.offset=we.prototype.offset,we.prototype.get=we.prototype.get,we.prototype.find=we.prototype.find,we.prototype.markImmutable=we.prototype.ck,we.prototype.release=we.prototype.release,we.prototype.getNumEvicted=we.prototype.getNumEvicted,we.prototype.getNumReferences=we.prototype.getNumReferences;function pn(e,t,n,i){this.i=e,this.h=t,this.g=n,this.reverse=i}f=pn.prototype,f.yd=function(e){this.reverse=e},f.Yi=function(){return this.h},f.current=function(){var e=this.i.get(this.h);return e&&0<e.g.length&&e.u&&this.g>=e.g.length&&(this.h++,this.g=0,e=this.i.get(this.h)),e&&0<e.g.length?e.g[this.g]:e},f.next=function(){var e=this.i.get(this.h);return this.reverse?e&&0<e.g.length?(this.g--,0>this.g&&(this.h--,this.g=(e=this.i.get(this.h))&&0<e.g.length?e.g.length-1:0)):(this.h--,this.g=0):e&&0<e.g.length?(this.g++,e.u&&this.g==e.g.length&&(this.h++,this.g=0)):(this.h++,this.g=0),e=this.current(),{value:e,done:!e}},f.Og=function(){var e=this.current();if(e.o&&!e.l&&(e=this.i.get(this.h))&&0<e.g.length)for(var t=e.g[this.g];t.l&&!(0>=this.g);)this.g--,t=e.g[this.g]},G("shaka.media.SegmentIterator",pn),pn.prototype.resetToLastIndependent=pn.prototype.Og,pn.prototype.next=pn.prototype.next,pn.prototype.current=pn.prototype.current,pn.prototype.currentPosition=pn.prototype.Yi,pn.prototype.setReverse=pn.prototype.yd;function Xe(){we.call(this,[]),this.h=[]}pe(Xe,we),f=Xe.prototype,f.clone=function(){var e=new Xe;return e.h=this.h.slice(),e.i=this.i,e},f.release=function(){for(var e=g(this.h),t=e.next();!t.done;t=e.next())t.value.release();this.h=[]},f.Ub=function(e){for(var t=g(this.h),n=t.next();!n.done;n=t.next())n.value.Ub(e)},f.find=function(e){for(var t=this.i,n=g(this.h),i=n.next();!i.done;i=n.next()){i=i.value;var r=i.find(e);if(r!=null)return r+t;t+=i.getNumEvicted()+i.getNumReferences()}return null},f.get=function(e){for(var t=this.i,n=g(this.h),i=n.next();!i.done;i=n.next()){i=i.value;var r=i.get(e-t);if(r)return r;r=i.getNumReferences(),t+=i.getNumEvicted()+r}return null},f.offset=function(){},f.Qe=function(){},f.Ya=function(e){for(var t=g(this.h),n=t.next();!n.done;n=t.next())n.value.Ya(e);for(;1<this.h.length&&this.h[0].getNumReferences()==0;)e=this.h.shift(),this.i+=e.getNumEvicted(),e.release()},f.Td=function(){},f.hd=function(){},f.mf=function(){},G("shaka.media.MetaSegmentIndex",Xe),Xe.prototype.updateEvery=Xe.prototype.mf,Xe.prototype.fit=Xe.prototype.hd,Xe.prototype.mergeAndEvict=Xe.prototype.Td,Xe.prototype.evict=Xe.prototype.Ya,Xe.prototype.merge=Xe.prototype.Qe,Xe.prototype.offset=Xe.prototype.offset,Xe.prototype.get=Xe.prototype.get,Xe.prototype.find=Xe.prototype.find,Xe.prototype.forEachTopLevelReference=Xe.prototype.Ub,Xe.prototype.release=Xe.prototype.release;function Vs(e){var t=this;this.g=e,this.j=!1,this.i=this.g.Be(),this.h=new oe(function(){t.g.Yh(.25*t.i)})}Vs.prototype.release=function(){this.set(this.Kc()),this.h&&(this.h.stop(),this.h=null),this.g=null},Vs.prototype.set=function(e){this.i=e,dy(this)},Vs.prototype.Kc=function(){return this.g.Kc()};function dy(e){e.h.stop();var t=e.j?0:e.i;if(0<=t)try{e.g.Be()!=t&&e.g.Zg(t);return}catch{}e.h.Ba(.25),e.g.Be()!=0&&e.g.Zg(0)}function fy(e){var t=this;this.h=e,this.g=new Set,this.i=new oe(function(){py(t,!1)}).Ba(.25)}fy.prototype.release=function(){this.i.stop();for(var e=g(this.g),t=e.next();!t.done;t=e.next())t.value.release();this.g.clear()};function py(e,t){for(var n=g(e.g),i=n.next();!i.done;i=n.next())i.value.j(e.h.currentTime,t)}function Dx(){this.g=null,this.h=[]}function td(e,t){var n=0;e.g&&e.g.state==t&&(n+=e.g.duration),e=g(e.h);for(var i=e.next();!i.done;i=e.next())i=i.value,n+=i.state==t?i.duration:0;return n}function Nx(e){function t(o){return{timestamp:o.timestamp,state:o.state,duration:o.duration}}for(var n=[],i=g(e.h),r=i.next();!r.done;r=i.next())n.push(t(r.value));return e.g&&n.push(t(e.g)),n}function _x(){this.i=this.h=null,this.g=[]}function nd(e,t,n){e.i!=t&&(e.i=t,e.g.push({timestamp:Date.now()/1e3,id:t.id,type:"text",fromAdaptation:n,bandwidth:null}))}function _u(){this.Gc=this.Th=this.u=this.A=this.K=this.C=this.o=this.j=this.J=this.G=this.i=this.S=this.V=this.N=this.O=this.P=this.l=this.m=NaN,this.L=0,this.H=this.I=NaN,this.g=new Dx,this.h=new _x}function Uu(e,t,n,i){this.m=e,this.i=t,this.l=n,this.h=new Map,this.j=new Map,this.g=null,this.o=i}function Ux(e,t){e.l=t,e=g(e.h.values());for(var n=e.next();!n.done;n=e.next())n.value.g=t}function Hs(e,t,n){if(n=n===void 0?!1:n,e.i.segmentIndex&&(e.g||(e.g=e.i.segmentIndex.cc(t,!0,e.o)),e.g)){for(n&&e.g.next();e.h.size<e.m&&(t=e.g.next().value,!!t);)n=!0,t.isPreload()&&t.La!=null&&(n=!1),t.uc()==2&&(n=!1),t.Lc()&&(n=!1),n&&t.ma&&gy(e,t.ma),n&&!e.h.has(t)&&(n=new rd(e.l),yy(n,t,e.i),e.h.set(t,n));id(e)}}function gy(e,t){if(e.i.segmentIndex&&!t.Lc()&&!Array.from(e.j.keys()).some(function(i){return bh(i,t)})){var n=new rd(e.l);yy(n,t,e.i),e.j.set(t,n)}}function my(e,t){t=g(t.keys());for(var n=t.next();!n.done;n=t.next())(n=n.value)&&zs(e,n)}function Wn(e){my(e,e.h),my(e,e.j),e.g=null}Uu.prototype.Ya=function(e,t){t=t===void 0?!1:t;for(var n=g(this.h.keys()),i=n.next();!i.done;i=n.next())i=i.value,e>i.endTime&&zs(this,i);t&&id(this)},Uu.prototype.yd=function(e){this.o=e,this.g&&this.g.yd(e)};function id(e){for(var t=Array.from(e.h.keys()),n=g(e.j.keys()),i=n.next(),r={};!i.done;r={wg:void 0},i=n.next())r.wg=i.value,t.some(function(o){return function(s){return bh(s.ma,o.wg)}}(r))||zs(e,r.wg)}function vy(e,t){e.m=t;for(var n=Array.from(e.h.keys());n.length>t;){var i=n.pop();i&&zs(e,i)}id(e)}function Ox(e,t){t&&t!==e.i&&(Wn(e),e.i=t)}function zs(e,t){var n=e.h;t instanceof Kt&&(n=e.j),e=n.get(t),n.delete(t),e&&e.abort()}function rd(e){this.g=e,this.We=this.dh=null}function yy(e,t,n){var i=new Uint8Array(0);e.We=e.g(t,n,function(r){return k(function(o){if(o.g==1)return 0<i.byteLength?i=Je(i,r):i=r,e.dh?T(o,e.dh(i),3):o.B(0);i=new Uint8Array(0),H(o)})})}rd.prototype.abort=function(){this.We&&this.We.abort()};function od(e){Se.call(this);var t=this;this.g=new Set,this.i=e,this.h=new oe(function(){for(var n=t.i(),i=g(t.g),r=i.next();!r.done;r=i.next())r=r.value,r.endTime<n.start&&(t.g.delete(r),r=new V("regionremove",new Map([["region",r]])),t.dispatchEvent(r))}).Ba(2)}pe(od,Se),od.prototype.release=function(){this.g.clear(),this.h.stop(),Se.prototype.release.call(this)};function Ou(e){Se.call(this),this.g=new Map,this.h=e}pe(Ou,Se),Ou.prototype.release=function(){this.g.clear(),Se.prototype.release.call(this)};function jx(e,t){var n=e.g.get(t);return n||(n={Xd:[],Rf:null,contentType:t},e.g.set(t,n)),n}function bx(e,t,n){var i=jx(e,t.contentType);Fx(e,i),e={pd:t,position:n},i=i.Xd,t=i.findIndex(function(r){return r.position>=n}),0<=t?i.splice(t,i[t].position==n?1:0,e):i.push(e)}Ou.prototype.j=function(e){for(var t=g(this.g.values()),n=t.next();!n.done;n=t.next()){n=n.value;var i=n.Rf;e:{for(var r=n.Xd,o=r.length-1;0<=o;o--){var s=r[o];if(s.position<=e){r=s.pd;break e}}r=null}o=r&&!(i===r||i&&r&&i.bandwidth==r.bandwidth&&i.audioSamplingRate==r.audioSamplingRate&&i.codecs==r.codecs&&i.contentType==r.contentType&&i.frameRate==r.frameRate&&i.height==r.height&&i.mimeType==r.mimeType&&i.channelsCount==r.channelsCount&&i.pixelAspectRatio==r.pixelAspectRatio&&i.width==r.width),s=r&&i&&r.label&&i.label&&i.label!==r.label;var a=r&&i&&r.language&&i.language&&i.language!==r.language;i=r&&i&&r.roles&&i.roles&&!Ts(i.roles,r.roles),(s||a||i)&&Ty(this,e,r.contentType)&&(n.Rf=r,i=new V("audiotrackchange",new Map([["quality",r],["position",e]])),this.dispatchEvent(i)),o&&Ty(this,e,r.contentType)&&(n.Rf=r,JSON.stringify(r),n=new V("qualitychange",new Map([["quality",r],["position",e]])),this.dispatchEvent(n))}};function Ty(e,t,n){return!!((e=e.h()[n])&&0<e.length&&(n=e[e.length-1].end,t>=e[0].start&&t<n))}function Fx(e,t){if((e=e.h()[t.contentType])&&0<e.length){var n=e[0].start,i=e[e.length-1].end,r=t.Xd;t.Xd=r.filter(function(o,s){return!(o.position<=n&&s+1<r.length&&r[s+1].position<=n||o.position>=i)})}else t.Xd=[]}function ju(e){var t={bandwidth:e.bandwidth||0,audioSamplingRate:null,codecs:e.codecs,contentType:e.type,frameRate:null,height:null,mimeType:e.mimeType,channelsCount:null,pixelAspectRatio:null,width:null,label:null,roles:e.roles,language:null};return e.type=="video"&&(t.frameRate=e.frameRate||null,t.height=e.height||null,t.pixelAspectRatio=e.pixelAspectRatio||null,t.width=e.width||null),e.type=="audio"&&(t.audioSamplingRate=e.audioSamplingRate,t.channelsCount=e.channelsCount,t.label=e.label||null,t.language=e.language),t}function bu(e){var t=nn(e),n=t.split("/")[0];return e=rn(e),{type:n,mimeType:t,codecs:e,language:null,height:null,width:null,channelCount:null,sampleRate:null,closedCaptions:new Map,ce:null,colorGamut:null,frameRate:null}}function Bx(e,t){function n(A){y=A.name;var x=A.reader;x.skip(24);var I=x.za(),C=x.za();x.skip(50),h=String(I),c=String(C),A.reader.Fa()&&ge(A)}function i(A){var x=Gv(A.reader);d=x.channelCount,p=x.sampleRate,r(A.name)}function r(A){switch(A=A.toLowerCase(),A){case"avc1":case"avc3":s.push(A+".42E01E"),u=!0;break;case"hev1":case"hvc1":s.push(A+".1.6.L93.90"),u=!0;break;case"dvh1":case"dvhe":s.push(A+".05.04"),u=!0;break;case"vp09":s.push(A+".00.10.08"),u=!0;break;case"av01":s.push(A+".0.01M.08"),u=!0;break;case"mp4a":o.push("mp4a.40.2"),a=!0;break;case"ac-3":case"ec-3":case"ac-4":case"opus":case"flac":o.push(A),a=!0}}var o=[],s=[],a=!1,u=!1,l=null,c=null,h=null,d=null,p=null,m=null,v=null,y;if(new Ue().box("moov",ge).box("trak",ge).box("mdia",ge).W("mdhd",function(A){l=ku(A.reader,A.version).language}).box("minf",ge).box("stbl",ge).W("stsd",Xi).box("mp4a",function(A){var x=Gv(A.reader);d=x.channelCount,p=x.sampleRate,A.reader.Fa()?ge(A):r(A.name)}).box("esds",function(A){A=A.reader;for(var x="mp4a",I,C;A.Fa();){I=A.Z();for(var L=A.Z();L&128;)L=A.Z();if(I==3)A.za(),L=A.Z(),L&128&&A.za(),L&64&&A.skip(A.Z()),L&32&&A.za();else if(I==4)C=A.Z(),A.skip(12);else if(I==5)break}C&&(x+="."+bs(C),I==5&&A.Fa()&&(I=A.Z(),C=(I&248)>>3,C===31&&A.Fa()&&(C=32+((I&7)<<3)+((A.Z()&224)>>5)),x+="."+C)),o.push(x),a=!0}).box("ac-3",i).box("ec-3",i).box("ac-4",i).box("Opus",i).box("fLaC",i).box("avc1",n).box("avc3",n).box("hev1",n).box("hvc1",n).box("dva1",n).box("dvav",n).box("dvh1",n).box("dvhe",n).box("vp09",n).box("av01",n).box("avcC",function(A){var x=y||"";switch(y){case"dvav":x="avc3";break;case"dva1":x="avc1"}A=A.reader,A.skip(1),A=x+"."+bs(A.Z())+bs(A.Z())+bs(A.Z()),s.push(A),u=!0}).box("hvcC",function(A){var x=y||"";switch(y){case"dvh1":x="hvc1";break;case"dvhe":x="hev1"}var I=A.reader;I.skip(1),A=I.Z();var C=["","A","B","C"][A>>6],L=A&31,P=I.U(),M=(A&32)>>5?"H":"L";A=[I.Z(),I.Z(),I.Z(),I.Z(),I.Z(),I.Z()],I=I.Z();for(var D=0,N=0;32>N&&(D|=P&1,N!=31);N++)D<<=1,P>>=1;for(x=x+("."+C+L)+("."+bs(D,!0)),x+="."+M+I,C="",L=A.length;L--;)((M=A[L])||C)&&(C="."+M.toString(16).toUpperCase()+C);x+=C,s.push(x),u=!0}).box("dvcC",function(A){var x=y||"";switch(y){case"hvc1":x="dvh1";break;case"hev1":x="dvhe";break;case"avc1":x="dva1";break;case"avc3":x="dvav";break;case"av01":x="dav1"}var I=A.reader;I.skip(2),A=I.Z(),I=I.Z(),s.push(x+"."+qt(A>>1&127)+"."+qt(A<<5&32|I>>3&31)),u=!0}).box("dvvC",function(A){var x=y||"";switch(y){case"hvc1":x="dvh1";break;case"hev1":x="dvhe";break;case"avc1":x="dva1";break;case"avc3":x="dvav";break;case"av01":x="dav1"}var I=A.reader;I.skip(2),A=I.Z(),I=I.Z(),s.push(x+"."+qt(A>>1&127)+"."+qt(A<<5&32|I>>3&31)),u=!0}).W("vpcC",function(A){var x=y||"",I=A.reader;A=I.Z();var C=I.Z();I=I.Z()>>4&15,s.push(x+"."+qt(A)+"."+qt(C)+"."+qt(I)),u=!0}).box("av1C",function(A){var x=y||"";switch(y){case"dav1":x="av01"}var I=A.reader;I.skip(1),A=I.Z(),I=I.Z();var C=A>>>5,L=(I&64)>>6;s.push(x+"."+C+"."+qt(A&31)+(I>>>7?"H":"M")+"."+qt(C===2&&L?(I&32)>>5?12:10:L?10:8)+"."+((I&16)>>4)+"."+((I&8)>>3)+((I&4)>>2)+(I&3)+"."+qt(1)+"."+qt(1)+"."+qt(1)+".0"),u=!0}).box("enca",Nh).box("encv",zt).box("sinf",ge).box("frma",function(A){A=Vv(A.reader).codec,r(A)}).box("colr",function(A){s=s.map(function(C){if(C.startsWith("av01.")){var L=A.reader,P=L.Oa(),M=L.Qb(4),D=String.fromCharCode(M[0]);if(D+=String.fromCharCode(M[1]),D+=String.fromCharCode(M[2]),D+=String.fromCharCode(M[3]),D==="nclx"){M=L.za(),D=L.za();var N=L.za(),b=L.Z()>>7,_=C.split(".");_.length==10&&(_[6]=qt(M),_[7]=qt(D),_[8]=qt(N),_[9]=String(b),C=_.join("."))}L.seek(P)}return C});var x=lx(A.reader),I=x.colorGamut;m=x.ce,v=I}).parse(e||t,!0),!o.length&&!s.length)return null;var E=a&&!u,S=new Map;if(u){var w=new tn("video/mp4");for(e&&w.init(e),w.i(t),e=g(w.j()),t=e.next();!t.done;t=e.next())t=t.value,S.set(t,t);w.g()}return{type:E?"audio":"video",mimeType:E?"audio/mp4":"video/mp4",codecs:sd(o.concat(s)).join(", "),language:l,height:c,width:h,channelCount:d,sampleRate:p,closedCaptions:S,ce:m,colorGamut:v,frameRate:null}}function sd(e){var t=new Set,n=[];e=g(e);for(var i=e.next();!i.done;i=e.next()){i=i.value;var r=qi(i);t.has(r)||(n.push(i),t.add(r))}return t=ch("audio",n),i=ch("video",n),e=ch(me,n),i=Gx(i),t=t.concat(i).concat(e),n.length&&!t.length?n:t}function Gx(e){if(1>=e.length)return e;var t=e.find(function(n){return n.startsWith("dvav.")||n.startsWith("dva1.")||n.startsWith("dvh1.")||n.startsWith("dvhe.")||n.startsWith("dav1.")||n.startsWith("dvc1.")||n.startsWith("dvi1.")});return t?rt('video/mp4; codecs="'+t+'"')?[t]:e.filter(function(n){return n!=t}):e}function Vx(e){var t=null;return new Ue().box("moov",ge).box("trak",ge).box("mdia",ge).box("minf",ge).box("stbl",ge).W("stsd",Xi).box("encv",zt).box("enca",Nh).box("sinf",ge).box("schi",ge).W("tenc",function(n){n=n.reader,n.Z(),n.Z(),n.Z(),n.Z(),t=pi(n.Qb(16))}).parse(e,!0),t}function ad(e,t,n){var i,r,o,s,a;return k(function(u){if(u.g==1)return i=t,i.cryptoKey?u.B(2):T(u,i.fetchKey(),3);if(r=i.iv,!r)for(r=fe(new ArrayBuffer(16)),o=i.firstMediaSequenceNumber+n,s=r.byteLength-1;0<=s;s--)r[s]=o&255,o>>=8;return t.blockCipherMode=="CBC"?a={name:"AES-CBC",iv:r}:a={name:"AES-CTR",counter:r,length:64},u.return(O.crypto.subtle.decrypt(a,i.cryptoKey,e))})}function xr(e,t,n,i,r){return e=ct(e,i,r),(t!=0||n!=null)&&(e.headers.Range=n?"bytes="+t+"-"+n:"bytes="+t+"-"),e}function Sy(e,t){var n=this;this.g=t,this.l=e,this.h=null,this.I=new Map,this.C=1,this.u=this.j=null,this.L=0,this.J=!1,this.i=new Map,this.H=!1,this.N=null,this.A=!1,this.m=new ao(function(){return Hx(n)}),this.O=Date.now()/1e3,this.o=new Map,this.K={projection:null,hfov:null},this.S=0,this.P=1/0,this.G=null}f=Sy.prototype,f.destroy=function(){return this.m.destroy()};function Hx(e){var t,n,i,r,o,s,a;return k(function(u){if(u.g==1){for(t=[],n=g(e.i.values()),i=n.next();!i.done;i=n.next())r=i.value,Ks(r),t.push(qs(r)),r.ba&&(Wn(r.ba),r.ba=null);for(o=g(e.o.values()),s=o.next();!s.done;s=o.next())a=s.value,Wn(a);return T(u,Promise.all(t),2)}e.i.clear(),e.o.clear(),e.g=null,e.l=null,e.h=null,H(u)})}f.configure=function(e){if(this.h=e,this.N=new iv({maxAttempts:Math.max(e.retryParameters.maxAttempts,2),baseDelay:e.retryParameters.baseDelay,backoffFactor:e.retryParameters.backoffFactor,fuzzFactor:e.retryParameters.fuzzFactor,timeout:0,stallTimeout:0,connectionTimeout:0},!0),e.disableAudioPrefetch){var t=this.i.get("audio");t&&t.ba&&(Wn(t.ba),t.ba=null),t=g(this.o.keys());for(var n=t.next();!n.done;n=t.next())n=n.value,Wn(this.o.get(n)),this.o.delete(n)}for(e.disableTextPrefetch&&(t=this.i.get(me))&&t.ba&&(Wn(t.ba),t.ba=null),e.disableVideoPrefetch&&(t=this.i.get("video"))&&t.ba&&(Wn(t.ba),t.ba=null),t=g(this.i.keys()),n=t.next();!n.done;n=t.next())n=this.i.get(n.value),n.ba?(vy(n.ba,e.segmentPrefetchLimit),0<e.segmentPrefetchLimit||(Wn(n.ba),n.ba=null)):0<e.segmentPrefetchLimit&&(n.ba=ld(this,n.stream));e.disableAudioPrefetch||$x(this)};function zx(e,t,n){e.l.presentationTimeline.T()||(e.S=t,e.P=n)}f.start=function(e){var t=this;return k(function(n){if(n.g==1)return T(n,Yx(t,e||new Map),2);_e(t.m),t.H=!0,H(n)})};function Kx(e,t){var n,i,r,o,s,a;k(function(u){switch(u.g){case 1:return n=it,e.L++,i=e.L,Z(u,2),T(u,$v(e.g.oa,n.Na),4);case 4:he(u,3);break;case 2:r=ee(u),e.g&&e.g.onError(r);case 3:o=ot(t.mimeType,t.codecs),Pu(e.g.oa,o,e.l.sequenceMode,t.external),s=e.g.oa.Y,(s.isTextVisible()||e.h.alwaysStreamText)&&e.L==i&&(a=Ay(e,t),e.i.set(n.Na,a),gn(e,a,0)),H(u)}})}function qx(e){var t=e.i.get(me);t&&(Ks(t),qs(t).catch(function(){}),e.G=e.i.get(me),e.i.delete(me)),e.u=null}function ud(e,t){for(var n=0>e.g.Va(),i=g(e.i.values()),r=i.next();!r.done;r=i.next())r=r.value,r.ua&&r.ua.yd(n),r.ba&&r.ba.yd(n);for(i=g(e.o.values()),r=i.next();!r.done;r=i.next())r.value.yd(n);(n=e.i.get("video"))&&(i=n.stream)&&(t?(t=i.trickModeVideo)&&!n.Bc&&(mo(e,t,!1,0,!1),n.Bc=i):(t=n.Bc)&&(n.Bc=null,mo(e,t,!0,0,!1)))}function Ey(e,t,n,i,r,o){n=n===void 0?!1:n,i=i===void 0?0:i,r=r===void 0?!1:r,o=o===void 0?!1:o,e.j=t,e.H&&(t.video&&mo(e,t.video,n,i,r,o),t.audio&&mo(e,t.audio,n,i,r,o))}function Fu(e,t){k(function(n){if(n.g==1)return e.G=null,e.u=t,e.H?t.segmentIndex?n.B(2):T(n,t.createSegmentIndex(),2):n.return();mo(e,t,!0,0,!1),H(n)})}function Wx(e,t){for(var n=g(e.I.entries()),i=n.next();!i.done;i=n.next()){var r=g(i.value);i=r.next().value,r=r.next().value,i.includes(t.type)&&(r(),e.I.delete(i))}}function mo(e,t,n,i,r,o){var s=e.i.get(t.type);s||t.type!=me?s&&(s.Bc&&(t.trickModeVideo?(s.Bc=t,t=t.trickModeVideo):s.Bc=null),s.stream!=t||r)&&(e.o.has(t)?s.ba=e.o.get(t):s.ba&&Ox(s.ba,t),t.type==me&&(r=ot(t.mimeType,t.codecs),Pu(e.g.oa,r,e.l.sequenceMode,t.external)),!e.o.has(s.stream)&&s.stream.closeSegmentIndex&&(s.fb?(r="("+s.type+":"+s.stream.id+")",e.I.has(r)||e.I.set(r,s.stream.closeSegmentIndex)):s.stream.closeSegmentIndex()),s.stream=t,s.ua=null,s.nh=!!o,n?s.Ed?s.vf=!0:s.fb?(s.Fc=!0,s.ue=i,s.vf=!0):(Ks(s),pd(e,s,!0,i).catch(function(a){e.g&&e.g.onError(a)})):s.fb||s.Sb||gn(e,s,0),Xx(e,s).catch(function(a){e.g&&e.g.onError(a)})):Kx(e,t)}function Xx(e,t){var n,i;return k(function(r){if(r.g==1)return t.Bb?(n=t.stream,i=t.Bb,n.segmentIndex?r.B(2):T(r,n.createSegmentIndex(),2)):r.return();if(t.Bb!=i||t.stream!=n)return r.return();var o=e.g.Kd(),s=Gs(e.g.oa,t.type),a=t.stream.segmentIndex.find(t.jb?t.jb.endTime:o),u=a==null?null:t.stream.segmentIndex.get(a);a=u&&u.La?u.La-u.$a:null,u&&!a&&(a=(u.endTime-u.getStartTime())*(t.stream.bandwidth||0)/8),a?((u=u.ma)&&(a+=(u.La?u.La-u.$a:null)||0),u=e.g.getBandwidthEstimate(),o=8*a/u<(s||0)-o-Math.max(e.l.minBufferTime||0,e.h.rebufferingGoal)||t.Bb.h.g>a):o=!1,o&&t.Bb.abort(),H(r)})}f.wd=function(){if(this.g)for(var e=this.g.Kd(),t=g(this.i.keys()),n=t.next();!n.done;n=t.next()){var i=n.value;n=this.i.get(i);var r=this.g.oa;if(i==me?(r=r.g,r=r.g==null||r.h==null?!1:e>=r.g&&e<r.h):(r=ho(r,i),r=Bh(r,e)),!r){if(n.ba&&(n.ba.g=null),n.type==="audio"){r=g(this.o.values());for(var o=r.next();!o.done;o=r.next())o.value.g=null}n.ua=null,(Gs(this.g.oa,i)!=null||n.fb)&&Bu(this,n),n.Bb&&(n.Bb.abort(),n.Bb=null),i===me&&(i=this.g.oa,i.H&&i.H.g()),n.wd=!0}}};function Bu(e,t){t.Ed||t.Fc||(t.fb?(t.Fc=!0,t.ue=0):Wh(e.g.oa,t.type)==null?t.Sb==null&&gn(e,t,0):(Ks(t),pd(e,t,!1,0).catch(function(n){e.g&&e.g.onError(n)})))}function Yx(e,t){var n,i,r,o,s,a,u,l,c,h;return k(function(d){if(d.g==1){if(n=it,!e.j)throw new R(2,5,5006);return i=new Map,r=new Set,e.j.audio&&(i.set(n.ia,e.j.audio),r.add(e.j.audio)),e.j.video&&(i.set(n.xa,e.j.video),r.add(e.j.video)),e.u&&(i.set(n.Na,e.u),r.add(e.u)),o=e.g.oa,T(d,o.init(i,e.l.sequenceMode,e.l.type,e.l.ignoreManifestTimestampsInSegmentsMode),2)}for(_e(e.m),e.updateDuration(),s=g(i.keys()),a=s.next();!a.done;a=s.next())u=a.value,l=i.get(u),e.i.has(u)||(c=Ay(e,l),t.has(l.id)&&(h=t.get(l.id),Ux(h,function(p,m,v){return Gu(p,m,v||null,e.h.retryParameters,e.g.ic)}),c.ba=h),e.i.set(u,c),gn(e,c,0));H(d)})}function Ay(e,t){return{stream:t,type:t.type,ua:null,ba:ld(e,t),jb:null,Sc:null,Ne:null,Me:null,Le:null,Bc:null,endOfStream:!1,fb:!1,Sb:null,Fc:!1,ue:0,vf:!1,Ed:!1,wd:!0,Mg:!1,Nd:!1,Bb:null}}function ld(e,t){if(t.type==="video"&&e.h.disableVideoPrefetch||t.type==="audio"&&e.h.disableAudioPrefetch||t.type===me&&(t.mimeType=="application/cea-608"||t.mimeType=="application/cea-708")||t.type===me&&e.h.disableTextPrefetch)return null;if(e.o.has(t))return e.o.get(t);var n=e.i.get(t.type);return(n=n&&n.ba)&&t===n.i?n:0<e.h.segmentPrefetchLimit?new Uu(e.h.segmentPrefetchLimit,t,function(i,r,o){return Gu(i,r,o||null,e.h.retryParameters,e.g.ic)},0>e.g.Va()):null}function $x(e){for(var t=e.h.segmentPrefetchLimit,n=e.h.prefetchAudioLanguages,i=g(e.l.variants),r=i.next(),o={};!r.done;o={Eb:void 0},r=i.next())if(o.Eb=r.value,o.Eb.audio)if(e.o.has(o.Eb.audio)){if(r=e.o.get(o.Eb.audio),vy(r,t),!(0<t&&n.some(function(a){return function(u){return zr(a.Eb.audio.language,u)}}(o)))){var s=e.i.get(o.Eb.audio.type);r!==(s&&s.ba)&&Wn(r),e.o.delete(o.Eb.audio)}}else 0>=t||!n.some(function(a){return function(u){return zr(a.Eb.audio.language,u)}}(o))||!(r=ld(e,o.Eb.audio))||(o.Eb.audio.segmentIndex||o.Eb.audio.createSegmentIndex(),e.o.set(o.Eb.audio,r))}f.updateDuration=function(){var e=this.l.presentationTimeline.getDuration();1/0>e?this.g.oa.vb(e):this.g.oa.vb(this.h.infiniteLiveStreamDuration?1/0:Math.pow(2,32))};function Jx(e,t){var n,i,r,o,s,a;return k(function(u){switch(u.g){case 1:if(_e(e.m),t.fb||t.Sb==null||t.Ed)return u.return();if(t.Sb=null,!t.Fc){u.B(2);break}return T(u,pd(e,t,t.vf,t.ue),3);case 3:return u.return();case 2:if(Wx(e,t),t.stream.segmentIndex){u.B(4);break}return n=t.stream,Z(u,5),T(u,t.stream.createSegmentIndex(),7);case 7:he(u,6);break;case 5:return i=ee(u),T(u,gd(e,t,i),8);case 8:return u.return();case 6:if(n!=t.stream)return n.closeSegmentIndex&&n.closeSegmentIndex(),t.fb||t.Sb||gn(e,t,0),u.return();case 4:Z(u,9),r=Qx(e,t),r!=null&&(gn(e,t,r),t.Nd=!1),he(u,10);break;case 9:return o=ee(u),T(u,gd(e,t,o),11);case 11:return u.return();case 10:if(s=Array.from(e.i.values()),!e.H||!s.every(function(l){return l.endOfStream})){u.B(0);break}return T(u,e.g.oa.endOfStream(),13);case 13:_e(e.m),a=e.g.oa.getDuration(),a!=0&&a<e.l.presentationTimeline.getDuration()&&e.l.presentationTimeline.vb(a),H(u)}})}function Qx(e,t){if(dd(t))return yx(e.g.oa,t.stream.originalId||""),null;if(t.type==me&&Tx(e.g.oa),!e.g.oa.aa&&t.type!=me)return e.h.updateIntervalSeconds/2;var n=e.g.Kd();if(t.type==="audio")for(var i=g(e.o.keys()),r=i.next();!r.done;r=i.next())r=e.o.get(r.value),r.Ya(n,!0),Hs(r,n);i=t.jb?t.jb.endTime:n;var o=mx(e.g.oa,t.type,n),s=Math.max(1,Math.max(e.l.minBufferTime||0,e.h.rebufferingGoal,e.h.bufferingGoal)*e.C),a=e.l.presentationTimeline.getDuration()-i;if(r=Gs(e.g.oa,t.type),1e-6>a&&r)return t.endOfStream=!0,t.type=="video"&&(e=e.i.get(me))&&dd(e)&&(e.endOfStream=!0),null;if(t.endOfStream=!1,o>=s)return e.h.updateIntervalSeconds/2;if(s=!t.ua,r=Zx(e,t,n,r),!r)return e.h.updateIntervalSeconds;o=!1,s&&t.nh&&(o=!0,t.nh=!1),s=1/0,a=Array.from(e.i.values()),a=g(a);for(var u=a.next();!u.done;u=a.next())u=u.value,dd(u)||u.ua&&!u.ua.current()||(s=Math.min(s,u.jb?u.jb.endTime:n));return i>=s+e.l.presentationTimeline.h?e.h.updateIntervalSeconds:(t.ba&&t.ua&&!e.o.has(t.stream)&&(t.ba.Ya(r.startTime),Hs(t.ba,r.startTime)),eI(e,t,n,r,o).catch(function(){}),null)}function Zx(e,t,n,i){if(t.ua)return t.ua.current();if(t.jb||i)return n=t.jb?t.jb.endTime:i,e=0>e.g.Va(),t.stream.segmentIndex&&(t.ua=t.stream.segmentIndex.cc(n,!1,e)),t.ua&&t.ua.next().value;i=e.l.sequenceMode?0:e.h.inaccurateManifestTolerance;var r=Math.max(n-i,0);e=0>e.g.Va();var o=null;return i&&(t.stream.segmentIndex&&(t.ua=t.stream.segmentIndex.cc(r,!1,e)),o=t.ua&&t.ua.next().value),o||(t.stream.segmentIndex&&(t.ua=t.stream.segmentIndex.cc(n,!1,e)),o=t.ua&&t.ua.next().value),o}function eI(e,t,n,i,r){var o,s,a,u,l,c,h,d,p,m,v,y,E,S,w,A;return k(function(x){switch(x.g){case 1:if(o=it,s=t.stream,a=t.ua,t.fb=!0,Z(x,2),i.uc()==2)throw new R(1,1,1011);return T(x,iI(e,t,i,r),4);case 4:return _e(e.m),e.A?x.return():(u=s.mimeType=="video/mp4"||s.mimeType=="audio/mp4",l=O.ReadableStream,e.h.lowLatencyMode&&e.l.isLowLatency&&l&&u&&(e.l.type!="HLS"||i.m)?(d=new Uint8Array(0),m=p=!1,y=function(I){var C,L,P;return k(function(M){switch(M.g){case 1:if(p||(m=!0,_e(e.m),e.A))return M.return();if(Z(M,2),d=tI(d,I),C=!1,L=0,new Ue().box("mdat",function(D){L=D.size+D.start,C=!0}).parse(d,!1,!0),!C){M.B(4);break}return P=d.subarray(0,L),d=d.subarray(L),T(M,cd(e,t,n,s,i,P,!0,r),5);case 5:t.ba&&t.ua&&Hs(t.ba,i.startTime,!0);case 4:he(M,0);break;case 2:v=ee(M),H(M)}})},T(x,fd(e,t,i,y),9)):(c=fd(e,t,i),T(x,c,7)));case 7:return h=x.h,_e(e.m),e.A?x.return():(_e(e.m),t.Fc?(t.fb=!1,gn(e,t,0),x.return()):T(x,cd(e,t,n,s,i,h,!1,r),6));case 9:if(E=x.h,v)throw v;if(m){x.B(10);break}return p=!0,_e(e.m),e.A?x.return():t.Fc?(t.fb=!1,gn(e,t,0),x.return()):T(x,cd(e,t,n,s,i,E,!1,r),10);case 10:t.ba&&t.ua&&Hs(t.ba,i.startTime,!0);case 6:if(_e(e.m),e.A)return x.return();t.jb=i,a.next(),t.fb=!1,t.Mg=!1,S=e.g.oa.Vb(),w=S[t.type],JSON.stringify(w),t.Fc||e.g.Hg(i,t.stream),gn(e,t,0),he(x,0);break;case 2:if(A=ee(x),_e(e.m,A),e.A)return x.return();if(t.fb=!1,A.code==7001)t.fb=!1,Ks(t),gn(e,t,0),x.B(0);else if(t.type==o.Na&&e.h.ignoreTextStreamFailures)e.i.delete(o.Na),x.B(0);else return A.code==3017?T(x,nI(e,t,A),0):(t.Nd=!0,A.category==1&&t.ba&&zs(t.ba,i),A.severity=2,T(x,gd(e,t,A),0))}})}function tI(e,t){var n=new Uint8Array(e.length+t.length);return n.set(e),n.set(t,e.length),n}function nI(e,t,n){var i,r,o,s;return k(function(a){if(a.g==1){if(i=Array.from(e.i.values()),i.some(function(u){return u!=t&&u.Mg}))return a.B(2);if(r=e.h.maxDisabledTime===0&&n.code==1011?1:e.h.maxDisabledTime,e.g.disableStream(t.stream,r))return a.return();if(o=Math.round(100*e.C),20<o)e.C-=.2;else if(4<o)e.C-=.04;else return t.Nd=!0,e.A=!0,e.g.onError(n),a.return();return t.Mg=!0,s=e.g.Kd(),T(a,hd(e,t,s),2)}gn(e,t,4),H(a)})}function iI(e,t,n,i){var r,o,s,a,u,l,c,h,d,p,m,v,y,E,S,w;return k(function(A){switch(A.g){case 1:if(r=it,o=t.jb==null&&t.Sc==null,s=[],a=Math.max(0,Math.max(n.appendWindowStart,e.S)-.1),u=Math.min(n.appendWindowEnd,e.P)+.01,l=n.codecs||t.stream.codecs,c=qi(l),h=nn(n.mimeType||t.stream.mimeType),d=n.timestampOffset,d==t.Ne&&a==t.Me&&u==t.Le&&c==t.Ag&&h==t.Bg){A.B(2);break}if(p=t.Ag&&t.Bg&&Cx(e.g.oa,t.type,h,l),!p){A.B(3);break}if(m=null,t.type===r.xa?m=e.i.get(r.ia):t.type===r.ia&&(m=e.i.get(r.xa)),!m){A.B(3);break}return T(A,qs(m).catch(function(){}),5);case 5:m.Sc=null,Bu(e,m);case 3:return T(A,wy(e,t,d,a,u,n,c,h),2);case 2:return bh(n.ma,t.Sc)||(t.Sc=n.ma,n.l&&n.ma&&(v=fd(e,t,n.ma),y=function(){var x,I,C,L,P,M,D;return k(function(N){switch(N.g){case 1:return Z(N,2),T(N,v,4);case 4:return x=N.h,_e(e.m),I=null,C=new Map,L={projection:null,hfov:null},P=new Ue,P.box("moov",ge).box("trak",ge).box("mdia",ge).W("mdhd",function(b){I=ku(b.reader,b.version).timescale}).box("hdlr",function(b){switch(b=b.reader,b.skip(8),b.Uc()){case"soun":C.set(r.ia,I);break;case"vide":C.set(r.xa,I)}I=null}).box("minf",ge).box("stbl",ge).W("stsd",Xi).box("encv",zt).box("avc1",zt).box("avc3",zt).box("hev1",zt).box("hvc1",zt).box("dvav",zt).box("dva1",zt).box("dvh1",zt).box("dvhe",zt).box("dvc1",zt).box("dvi1",zt).box("vexu",ge).box("proj",ge).W("prji",function(b){b=b.reader.Uc(),L.projection=b}).box("hfov",function(b){b=b.reader.U()/1e3,L.hfov=b}).parse(x),rI(e,L),C.has(t.type)?n.ma.timescale=C.get(t.type):I!=null&&(n.ma.timescale=I),M=t.stream.closedCaptions&&0<t.stream.closedCaptions.size,T(N,e.g.rh(t.type,x),5);case 5:return T(N,Du(e.g.oa,t.type,x,null,t.stream,M,t.wd,i),6);case 6:he(N,0);break;case 2:throw D=ee(N),t.Sc=null,D}})},E=n.startTime,o&&(S=Gs(e.g.oa,t.type),S!=null&&(E=S)),e.g.fk(E,n.ma),s.push(y()))),e.l.sequenceMode&&(w=t.jb?t.jb.i:null,n.i!=w&&s.push(Ex(e.g.oa,t.type,n.startTime))),T(A,Promise.all(s),0)}})}function wy(e,t,n,i,r,o,s,a){var u,l,c,h;return k(function(d){if(d.g==1)return u=it,l=new Map,e.j.audio&&l.set(u.ia,e.j.audio),e.j.video&&l.set(u.xa,e.j.video),Z(d,2),t.Me=i,t.Le=r,s&&(t.Ag=s),a&&(t.Bg=a),t.Ne=n,c=e.l.sequenceMode||e.l.type=="HLS",T(d,Sx(e.g.oa,t.type,n,i,r,c,o.mimeType||t.stream.mimeType,o.codecs||t.stream.codecs,l),4);if(d.g!=2)return he(d,0);throw h=ee(d),t.Me=null,t.Le=null,t.Ag=null,t.Bg=null,t.Ne=null,h})}function cd(e,t,n,i,r,o,s,a){s=s===void 0?!1:s,a=a===void 0?!1:a;var u,l,c,h,d,p,m,v;return k(function(y){switch(y.g){case 1:return u=i.closedCaptions&&0<i.closedCaptions.size,c=i.emsgSchemeIdUris!=null&&0<i.emsgSchemeIdUris.length||e.h.dispatchAllEmsgBoxes,h=e.h.parsePrftBox&&!e.J,d=i.mimeType=="video/mp4"||i.mimeType=="audio/mp4",p=null,r.ma&&(p=r.ma.timescale),m=d&&p&&i.type==="video"&&e.l.type=="DASH"&&e.h.shouldFixTimestampOffset,(c||h||m)&&(l=new Ue),c&&l.W("emsg",function(E){var S=i.emsgSchemeIdUris;if(E.version===0)var w=E.reader.Uc(),A=E.reader.Uc(),x=E.reader.U(),I=E.reader.U(),C=E.reader.U(),L=E.reader.U(),P=r.startTime+I/x;else x=E.reader.U(),P=E.reader.ud()/x+r.timestampOffset,I=P-r.startTime,C=E.reader.U(),L=E.reader.U(),w=E.reader.Uc(),A=E.reader.Uc();E=E.reader.Qb(E.reader.getLength()-E.reader.Oa()),(S&&S.includes(w)||e.h.dispatchAllEmsgBoxes)&&(w=="urn:mpeg:dash:event:2012"?e.g.gk():(S=P+C/x,x=new Map().set("detail",{startTime:P,endTime:S,schemeIdUri:w,value:A,timescale:x,presentationTimeDelta:I,eventDuration:C,id:L,messageData:E}),x=new V("emsg",x),x.cancelable=!0,e.g.onEvent(x),!x.defaultPrevented&&(w=="https://aomedia.org/emsg/ID3"||w=="https://developer.apple.com/streaming/emsg-id3")&&(w=wr(E),w.length)&&e.g.onMetadata([{cueTime:P,data:E,frames:w,dts:P,pts:P}],0,S)))}),h&&l.W("prft",function(E){if(!e.J&&r.ma.timescale){var S=E.reader,w=E.version;S.U(),E=S.U();var A=S.U();E=1e3*E+A/Math.pow(2,32)*1e3,w===0?S=S.U():(w=S.U(),S=S.U(),S=w*Math.pow(2,32)+S),E=new Date(new Date(Date.UTC(1900,0,1,0,0,0)).getTime()+E).getTime(),S=new Map().set("detail",{wallClockTime:E,programStartDate:new Date(E-S/r.ma.timescale*1e3)}),S=new V("prft",S),e.g.onEvent(S),e.J=!0}}),m&&l.box("moof",ge).box("traf",ge).W("tfdt",function(E){var S,w,A,x,I,C;return k(function(L){return S=Mu(E.reader,E.version),w=S.baseMediaDecodeTime,w?(A=-w/p,x=Number(t.Ne)||0,x<A?(I=t.Me,C=t.Le,T(L,wy(e,t,A,I,C,r),0)):L.B(0)):L.return()})}),(c||h||m)&&l.parse(o,!1,s),T(y,hd(e,t,n),2);case 2:return _e(e.m),v=t.wd,t.wd=!1,T(y,e.g.rh(t.type,o),3);case 3:return T(y,Du(e.g.oa,t.type,o,r,i,u,v,a,s),4);case 4:_e(e.m),H(y)}})}function hd(e,t,n){var i,r,o,s,a;return k(function(u){if(u.g==1)return i=t.stream.segmentIndex,i instanceof Xe&&i.Ya(e.l.presentationTimeline.dc()),r=Math.max(e.h.bufferBehind*e.C,e.l.presentationTimeline.h),o=Wh(e.g.oa,t.type),o==null?(e.G==t&&(e.G=null),u.return()):(s=n-o,a=s-r,a<=e.h.evictionGoal?u.return():T(u,e.g.oa.remove(t.type,o,o+a),2));if(u.g!=4)return _e(e.m),e.G?T(u,hd(e,e.G,n),4):u.B(0);_e(e.m),H(u)})}function dd(e){return e&&e.type==me&&(e.stream.mimeType=="application/cea-608"||e.stream.mimeType=="application/cea-708")}function fd(e,t,n,i){var r,o,s,a,u;return k(function(l){switch(l.g){case 1:if(r=n.Lc())return l.return(r);if(o=null,t.ba){var c=t.ba,h=c.h;n instanceof Kt&&(h=c.j),h.has(n)?(c=h.get(n),i&&(c.dh=i),o=c.We):o=null}return o||(o=Gu(n,t.stream,i||null,e.h.retryParameters,e.g.ic)),s=0,t.ua&&(s=t.ua.h),t.Bb=o,T(l,o.promise,2);case 2:if(a=l.h,t.Bb=null,u=a.data,!n.aesKey){l.B(3);break}return T(l,ad(u,n.aesKey,s),4);case 4:u=l.h;case 3:return l.return(u)}})}function Gu(e,t,n,i,r,o){o=o===void 0?!1:o;var s=e instanceof ie?e:void 0,a=s?1:0;return e=xr(e.R(),e.$a,e.La,i,n),e.contentType=t.type,r.request(Pn,e,{type:a,stream:t,segment:s,isPreload:o})}function pd(e,t,n,i){var r,o;return k(function(s){if(s.g==1)return t.Fc=!1,t.vf=!1,t.ue=0,t.Ed=!0,t.jb=null,t.ua=null,t.ba&&!e.o.has(t.stream)&&Wn(t.ba),i?(r=e.g.Kd(),o=e.g.oa.getDuration(),T(s,e.g.oa.remove(t.type,r+i,o),3)):T(s,$v(e.g.oa,t.type),4);if(s.g!=3)return _e(e.m),n?T(s,e.g.oa.flush(t.type),3):s.B(3);_e(e.m),t.Ed=!1,t.endOfStream=!1,t.fb||t.Sb||gn(e,t,0),H(s)})}function gn(e,t,n){var i=t.type;(i!=me||e.i.has(i))&&(t.Sb=new cs(function(){var r;return k(function(o){if(o.g==1)return Z(o,2),T(o,Jx(e,t),4);if(o.g!=2)return he(o,0);r=ee(o),e.g&&e.g.onError(r),H(o)})}).X(n))}function Ks(e){e.Sb!=null&&(e.Sb.stop(),e.Sb=null)}function qs(e){return k(function(t){return e.Bb?T(t,e.Bb.abort(),0):t.B(0)})}function gd(e,t,n){var i;return k(function(r){if(r.g==1)return T(r,rv(e.N),2);if(_e(e.m),n.category===1&&n.code!=1003){if(t.Bc)return ud(e,!1),r.return();i=e.h.maxDisabledTime===0&&n.code==1011?1:e.h.maxDisabledTime,n.handled=e.g.disableStream(t.stream,i),n.handled&&(n.severity=1)}(!n.handled||n.code!=1011)&&e.g.onError(n),n.handled||e.h.failureCallback(n),H(r)})}function xy(e){var t,n,i,r,o,s;return k(function(a){return a.g==1?(t=Date.now()/1e3,n=e.h.minTimeBetweenRecoveries,!e.h.allowMediaSourceRecoveries||t-e.O<n?a.return(!1):(e.O=t,i=it,(r=e.i.get(i.ia))&&(r.Sc=null,Bu(e,r),qs(r).catch(function(){}),r.ua&&r.ua.Og()),(o=e.i.get(i.xa))&&(o.Sc=null,Bu(e,o),qs(o).catch(function(){}),o.ua&&o.ua.Og()),s=new Map,e.j.audio&&s.set(i.ia,e.j.audio),e.j.video&&s.set(i.xa,e.j.video),T(a,Qv(e.g.oa,s),2))):a.return(!0)})}function rI(e,t){if(e.K.projection!=t.projection||e.K.hfov!=t.hfov){if(t.projection!=null||t.hfov!=null){var n=new Map().set("detail",t);n=new V("spatialvideoinfo",n)}else n=new V("nospatialvideoinfo");n.cancelable=!0,e.g.onEvent(n),e.K=t}}function Vu(){}function Ws(e,t,n,i,r){var o=r in i,s=o?n.constructor==Object&&Object.keys(i).length==0:n.constructor==Object&&Object.keys(n).length==0,a=o||s,u=!0,l;for(l in t){var c=r+"."+l,h=o?i[r]:n[l];a||l in n?t[l]===void 0?h===void 0||a?delete e[l]:e[l]=Qn(h):s?e[l]=t[l]:h.constructor==Object&&t[l]&&t[l].constructor==Object?(e[l]||(e[l]=Qn(h)),c=Ws(e[l],t[l],h,i,c),u=u&&c):typeof t[l]!=typeof h||t[l]==null||typeof t[l]!="function"&&t[l].constructor!=h.constructor?(ci("Invalid config, wrong type for "+c),u=!1):(typeof n[l]=="function"&&n[l].length!=t[l].length&&de("Unexpected number of arguments for "+c),e[l]=t[l]):(ci("Invalid config, unrecognized key "+c),u=!1)}return u}function Xs(e,t){for(var n={},i=n,r=0,o=0;r=e.indexOf(".",r),!(0>r);)(r==0||e[r-1]!="\\")&&(o=e.substring(o,r).replace(/\\\./g,"."),i[o]={},i=i[o],o=r+1),r+=1;return i[e.substring(o).replace(/\\\./g,".")]=t,n}function vo(e,t){return e&&t}function Iy(e,t){function n(s){for(var a=g(Object.keys(s)),u=a.next();!u.done;u=a.next())u=u.value,o(s[u])&&Object.keys(s[u]).length===0||r(s[u])||typeof s[u]=="function"?delete s[u]:o(s[u])&&(n(s[u]),Object.keys(s[u]).length===0&&delete s[u])}function i(s,a){return Object.keys(s).reduce(function(u,l){var c=s[l];return a.hasOwnProperty(l)?o(c)&&o(a[l])?(c=i(c,a[l]),(0<Object.keys(c).length||!o(c))&&(u[l]=c)):r(c)&&r(a[l])||Number.isNaN(c)&&Number.isNaN(a[l])||c!==a[l]&&(u[l]=c):u[l]=c,u},{})}function r(s){return Array.isArray(s)&&s.length===0}function o(s){return s&&typeof s=="object"&&!Array.isArray(s)}return e=i(e,t),n(e),e}G("shaka.util.ConfigUtils",Vu),Vu.getDifferenceFromConfigObjects=Iy,Vu.convertToConfigObject=Xs,Vu.mergeConfigObjects=Ws;function mn(){}function Cy(e){return e=fi(e),new $e(e).bc}function Ys(e,t,n){function i(a){Bt(o).setUint32(s,a.byteLength,!0),s+=4,o.set(fe(a),s),s+=a.byteLength}if(!n||!n.byteLength)throw new R(2,6,6015);var r;typeof t=="string"?r=ah(t,!0):r=t,e=fi(e),e=ah(e,!0);var o=new Uint8Array(12+e.byteLength+r.byteLength+n.byteLength),s=0;return i(e),i(r),i(n),o}function My(e,t,n){return t!=="skd"?e:(t=n.serverCertificate,n=fi(e).split("skd://").pop(),Ys(e,n,t))}function md(e,t){e===2&&(t.headers["Content-Type"]="application/octet-stream")}G("shaka.util.FairPlayUtils",mn),mn.commonFairPlayResponse=function(e,t){if(e===2){try{var n=ze(t.data)}catch{return}e=!1,n=n.trim(),n.substr(0,5)==="<ckc>"&&n.substr(-6)==="</ckc>"&&(n=n.slice(5,-6),e=!0);try{var i=JSON.parse(n);i.ckc&&(n=i.ckc,e=!0),i.CkcMessage&&(n=i.CkcMessage,e=!0),i.License&&(n=i.License,e=!0)}catch{}e&&(t.data=dn(fn(n)))}},mn.expressplayFairPlayRequest=function(e,t){md(e,t)},mn.conaxFairPlayRequest=function(e,t){md(e,t)},mn.ezdrmFairPlayRequest=function(e,t){md(e,t)},mn.verimatrixFairPlayRequest=function(e,t){e===2&&(e=fe(t.body),e=lr(e),t.headers["Content-Type"]="application/x-www-form-urlencoded",t.body=Hn("spc="+e))},mn.expressplayInitDataTransform=function(e,t,n){return My(e,t,n)},mn.conaxInitDataTransform=function(e,t,n){if(t!=="skd")return e;t=n.serverCertificate,n=fi(e).split("skd://").pop().split("?").shift(),n=O.atob(n);var i=new ArrayBuffer(2*n.length);i=nm(i);for(var r=0,o=n.length;r<o;r++)i[r]=n.charCodeAt(r);return Ys(e,i,t)},mn.ezdrmInitDataTransform=function(e,t,n){return t!=="skd"?e:(t=n.serverCertificate,n=fi(e).split(";").pop(),Ys(e,n,t))},mn.verimatrixInitDataTransform=function(e,t,n){return My(e,t,n)},mn.initDataTransform=Ys,mn.defaultGetContentId=Cy,mn.isFairPlaySupported=function(){var e;return k(function(t){return t.g==1?(e={initDataTypes:["cenc","sinf","skd"],videoCapabilities:[{contentType:'video/mp4; codecs="avc1.42E01E"'}]},Z(t,2),T(t,navigator.requestMediaKeySystemAccess("com.apple.fps",[e]),4)):t.g!=2?t.return(!0):(ee(t),t.return(!1))})};function vd(){}function yo(){var e=1/0;navigator.connection&&navigator.connection.saveData&&(e=360);var t={retryParameters:Kn(),servers:{},clearKeys:{},advanced:{},delayLicenseRequestUntilPlayed:!1,persistentSessionOnlinePlayback:!1,persistentSessionsMetadata:[],initDataTransform:function(c,h,d){return iu()&&h=="skd"&&(h=d.serverCertificate,d=Cy(c),c=Ys(c,d,h)),c},logLicenseExchange:!1,updateExpirationTime:1,preferredKeySystems:[],keySystemsMapping:{},parseInbandPsshEnabled:Vn(),minHdcpVersion:"",ignoreDuplicateInitData:!Za()};(Vn()||Mn())&&t.preferredKeySystems.push("com.microsoft.playready");var n="reload",i=!1;!Gi()||Za()||fs()||ke("Tizen 4")||ke("Tizen 5")||ke("Tizen 6")||eu()||Jn()&&nh()===53||Jn()&&nh()===68||Mn()||ps()||!(!Gt()||Gt()&&nu()||Gt()&&ke("Fuchsia"))||rh()&&ds()||(n="smooth",i=!0),i={retryParameters:Kn(),availabilityWindowOverride:NaN,disableAudio:!1,disableVideo:!1,disableText:!1,disableThumbnails:!1,defaultPresentationDelay:0,segmentRelativeVttTiming:!1,raiseFatalErrorOnManifestUpdateRequestFailure:!1,continueLoadingWhenPaused:!0,dash:{clockSyncUri:"",ignoreDrmInfo:!1,disableXlinkProcessing:!1,xlinkFailGracefully:!1,ignoreMinBufferTime:!1,autoCorrectDrift:!0,initialSegmentLimit:1e3,ignoreSuggestedPresentationDelay:!1,ignoreEmptyAdaptationSet:!1,ignoreMaxSegmentDuration:!1,keySystemsByURI:{"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:e2719d58-a985-b3c9-781a-b030af78d30e":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:79f0049a-4098-8642-ab92-e65be0885f95":"com.microsoft.playready"},manifestPreprocessor:Hu,manifestPreprocessorTXml:zu,sequenceMode:!1,enableAudioGroups:!1,multiTypeVariantsAllowed:i,useStreamOnceInPeriodFlattening:!1,updatePeriod:-1,enableFastSwitching:!0},hls:{ignoreTextStreamFailures:!1,ignoreImageStreamFailures:!1,defaultAudioCodec:"mp4a.40.2",defaultVideoCodec:"avc1.42E01E",ignoreManifestProgramDateTime:!1,ignoreManifestProgramDateTimeForTypes:[],mediaPlaylistFullMimeType:'video/mp2t; codecs="avc1.42E01E, mp4a.40.2"',liveSegmentsDelay:3,sequenceMode:!(fs()||Za()||eu()||Mn()),ignoreManifestTimestampsInSegmentsMode:!1,disableCodecGuessing:!1,disableClosedCaptionsDetection:!1,allowLowLatencyByteRangeOptimization:!0},mss:{manifestPreprocessor:Hu,manifestPreprocessorTXml:zu,sequenceMode:!1,keySystemsBySystemId:{"9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","79f0049a-4098-8642-ab92-e65be0885f95":"com.microsoft.playready"}}};var r={retryParameters:Kn(),failureCallback:function(c){return vo([c])},rebufferingGoal:2,bufferingGoal:10,bufferBehind:30,evictionGoal:1,ignoreTextStreamFailures:!1,alwaysStreamText:!1,startAtSegmentBoundary:!1,gapDetectionThreshold:.5,gapPadding:.01,gapJumpTimerTime:.25,durationBackoff:1,safeSeekOffset:5,stallEnabled:!0,stallThreshold:1,stallSkip:.1,useNativeHlsForFairPlay:!0,inaccurateManifestTolerance:2,lowLatencyMode:!1,autoLowLatencyMode:!1,forceHTTP:!1,forceHTTPS:!1,minBytesForProgressEvents:16e3,preferNativeHls:!1,updateIntervalSeconds:1,dispatchAllEmsgBoxes:!1,observeQualityChanges:!1,maxDisabledTime:30,parsePrftBox:!1,segmentPrefetchLimit:0,prefetchAudioLanguages:[],disableAudioPrefetch:!1,disableTextPrefetch:!1,disableVideoPrefetch:!1,liveSync:{enabled:!1,targetLatency:.5,targetLatencyTolerance:.5,maxPlaybackRate:1.1,minPlaybackRate:.95,panicMode:!1,panicThreshold:60,dynamicTargetLatency:{enabled:!1,stabilityThreshold:60,rebufferIncrement:.5,maxAttempts:10,maxLatency:4,minLatency:1}},allowMediaSourceRecoveries:!0,minTimeBetweenRecoveries:5,vodDynamicPlaybackRate:!1,vodDynamicPlaybackRateLowBufferRate:.95,vodDynamicPlaybackRateBufferRatio:.5,infiniteLiveStreamDuration:!1,preloadNextUrlWindow:30,loadTimeout:30,clearDecodingCache:Mn()||ps(),dontChooseCodecs:!1,shouldFixTimestampOffset:Jn()||Cn()};(Jn()||Cn()||Gt()||tu())&&(r.stallSkip=0),Cn()&&(r.gapPadding=2);var o={trackSelectionCallback:function(c){return k(function(h){return h.return(c)})},downloadSizeCallback:function(c){var h;return k(function(d){return d.g==1?navigator.storage&&navigator.storage.estimate?T(d,navigator.storage.estimate(),3):d.return(!0):(h=d.h,d.return(h.usage+c<.95*h.quota))})},progressCallback:function(c,h){return vo([c,h])},usePersistentLicense:!0,numberOfParallelDownloads:5};e={enabled:!0,useNetworkInformation:!0,defaultBandwidthEstimate:1e6,switchInterval:8,bandwidthUpgradeTarget:.85,bandwidthDowngradeTarget:.95,restrictions:{minWidth:0,maxWidth:1/0,minHeight:0,maxHeight:e,minPixels:0,maxPixels:1/0,minFrameRate:0,maxFrameRate:1/0,minBandwidth:0,maxBandwidth:1/0,minChannelsCount:0,maxChannelsCount:1/0},advanced:{minTotalBytes:128e3,minBytes:16e3,fastHalfLife:2,slowHalfLife:5},restrictToElementSize:!1,restrictToScreenSize:!1,ignoreDevicePixelRatio:!1,clearBufferSwitch:!1,safeMarginSwitch:0,cacheLoadThreshold:20,minTimeToSwitch:ar()?.5:0,preferNetworkInformationBandwidth:!1},n={codecSwitchingStrategy:n,addExtraFeaturesToSourceBuffer:function(c){return vo([c],"")},forceTransmux:!1,insertFakeEncryptionInInit:!0,modifyCueCallback:function(c,h){return vo([c,h])}};var s=!1,a=!1,u=!0;oh()&&(a=s=!0,u=!1);var l={drm:t,manifest:i,streaming:r,mediaSource:n,offline:o,abrFactory:function(){return new qe},abr:e,autoShowText:3,preferredAudioLanguage:"",preferredAudioLabel:"",preferredTextLanguage:"",preferredVariantRole:"",preferredTextRole:"",preferredAudioChannelCount:2,preferredVideoHdrLevel:"AUTO",preferredVideoLayout:"",preferredVideoLabel:"",preferredVideoCodecs:[],preferredAudioCodecs:[],preferForcedSubs:!1,preferSpatialAudio:!1,preferredDecodingAttributes:[],restrictions:{minWidth:0,maxWidth:1/0,minHeight:0,maxHeight:1/0,minPixels:0,maxPixels:1/0,minFrameRate:0,maxFrameRate:1/0,minBandwidth:0,maxBandwidth:1/0,minChannelsCount:0,maxChannelsCount:1/0},playRangeStart:0,playRangeEnd:1/0,textDisplayer:{captionsUpdatePeriod:.25},textDisplayFactory:function(){return null},cmcd:{enabled:!1,sessionId:"",contentId:"",rtpSafetyFactor:5,useHeaders:!1,includeKeys:[]},cmsd:{enabled:!0,applyMaximumSuggestedBitrate:!0,estimatedThroughputWeightRatio:.5},lcevc:{enabled:!1,dynamicPerformanceScaling:!0,logLevel:0,drawLogo:!1},ads:{customPlayheadTracker:s,skipPlayDetection:a,supportsMultipleMediaElements:u}};return o.trackSelectionCallback=function(c){return k(function(h){return h.return(oI(c,l.preferredAudioLanguage,l.preferredVideoHdrLevel))})},l}function $i(e,t,n){var i={".drm.keySystemsMapping":"",".drm.servers":"",".drm.clearKeys":"",".drm.advanced":{distinctiveIdentifierRequired:!1,persistentStateRequired:!1,videoRobustness:"",audioRobustness:"",sessionType:"",serverCertificate:new Uint8Array(0),serverCertificateUri:"",individualizationServer:"",headers:{}}};return Ws(e,t,n||yo(),i,"")}function oI(e,t,n){var i=n;i=="AUTO"&&(i=O.matchMedia("(color-gamut: p3)").matches?"PQ":"SDR");var r=e.filter(function(a){return!(a.type!="variant"||a.hdr&&a.hdr!=i)});n=[];var o=ru(t,r.map(function(a){return a.language}));o&&(n=r.filter(function(a){return Ce(a.language)==o})),n.length==0&&(n=r.filter(function(a){return a.primary})),n.length==0&&(r.map(function(a){return a.language}),n=r);var s=n.filter(function(a){return a.height&&480>=a.height});for(s.length&&(s.sort(function(a,u){return u.height-a.height}),n=s.filter(function(a){return a.height==s[0].height})),t=[],n.length&&(r=Math.floor(n.length/2),n.sort(function(a,u){return a.bandwidth-u.bandwidth}),t.push(n[r])),e=g(e),n=e.next();!n.done;n=e.next())n=n.value,n.type!=me&&n.type!="image"||t.push(n);return t}function Hu(e){return vo([e],e)}function zu(e){return vo([e],e)}G("shaka.util.PlayerConfiguration",vd),vd.mergeConfigObjects=$i,vd.createDefault=yo;function Mi(e,t,n,i){Se.call(this),this.O=e,this.V=t,this.Ia=i.networkingEngine,this.C=n,this.o=null,this.Da=0,this.bb=i.ed,this.H=i.Zj,this.hb=i.$j,this.g=i.config,this.j=this.I=this.h=null,this.ka=!1,this.J=i.kk,this.ra=!1,this.l=null,this.aa=!1,this.i=this.G=null,this.$=!1,this.N=new Map,this.ya=!1,this.Ha=i.jk,this.Y=new _u,this.ha=new De,this.m=new De,this.P=null,this.u=!1,this.Ta=i.Vi,this.na=null,this.Ja=i.Ui,this.S=!1,this.L=[],this.K=[],this.A=!0}pe(Mi,Se);function $s(e,t,n){(e=t?e.K:e.L)?e.push(n):n()}function sI(e){if(e.K)for(var t=g(e.K),n=t.next();!n.done;n=t.next())n=n.value,n();e.K=null}function ky(e,t){if(e.P=t,e.S=!0,e.L){t=g(e.L);for(var n=t.next();!n.done;n=t.next())n=n.value,n()}e.L=null}f=Mi.prototype,f.getStartTime=function(){return this.C},f.kd=function(){return this.O},f.lg=function(){return this.h};function aI(e){return e.$=!0,e.i}function uI(e){return e.ra=!0,e.J}f.getStats=function(){return this.Y};function lI(e){return e.aa=!0,e.l}function cI(e){return e.ya=!0,e.N}f.start=function(){var e=this;(function(){var t;return k(function(n){switch(n.g){case 1:return T(n,Promise.resolve(),2);case 2:return Z(n,3),T(n,hI(e),5);case 5:return Js(e),T(n,dI(e),6);case 6:if(Js(e),e.o||(e.o=new io(e.g.preferredAudioLanguage,e.g.preferredVariantRole,e.g.preferredAudioChannelCount,e.g.preferredVideoHdrLevel,e.g.preferSpatialAudio,e.g.preferredVideoLayout,e.g.preferredAudioLabel,e.g.preferredVideoLabel,e.g.mediaSource.codecSwitchingStrategy,e.g.manifest.dash.enableAudioGroups)),e.Ja){var i=e.g.abrFactory;e.G=i,e.i=i(),e.i.configure(e.g.abr)}if(e.Ta){i=e.h.presentationTimeline.T();var r=Tu(e.h.variants);r=e.o.create(r),e.i.configure(e.g.abr),e.i.setVariants(Array.from(r.values())),(r=e.i.chooseVariant())&&(e.na=r,r.video&&Ry(e,r.video,i),r.audio&&Ry(e,r.audio,i))}return T(n,void 0,7);case 7:Js(e),e.m.resolve(),he(n,0);break;case 3:t=ee(n),e.m.reject(t),H(n)}})})()},f.dispatchEvent=function(e){return this.P?this.P.dispatchEvent(e):Se.prototype.dispatchEvent.call(this,e)},f.onError=function(e){e.severity===2&&(this.m.reject(e),this.destroy());var t=new Map().set("detail",e);t=new V("error",t),this.dispatchEvent(t),t.defaultPrevented&&(e.handled=!0)};function Js(e){if(e.u)throw new R(2,7,7003)}function yd(e,t){e.dispatchEvent(new V("onstatechange",new Map().set("state",t)))}function hI(e){var t,n,i,r;return k(function(o){switch(o.g){case 1:if(yd(e,"manifest-parser"),e.j||(e.I=Dv(e.O,e.V),e.j=e.I(),e.j.configure(e.g.manifest,function(){return e.A})),t=Date.now()/1e3,yd(e,"manifest"),e.h){o.B(2);break}return T(o,e.j.start(e.O,e.hb),3);case 3:e.h=o.h;case 2:return e.ha.resolve(),n=new V("manifestparsed",void 0),T(o,Promise.resolve(),4);case 4:if(e.dispatchEvent(n),e.h.variants.length==0)throw new R(2,4,4036);fI(e.h),i=Date.now()/1e3,r=i-t,e.Y.J=r,H(o)}})}function dI(e){var t,n,i,r,o;return k(function(s){switch(s.g){case 1:if(yd(e,"drm-engine"),e.Da=Date.now()/1e3,e.l=e.bb(),e.H.g=e.l,e.l.configure(e.g.drm,function(){return e.A}),t=kv(e.H,e.h),!t){s.B(2);break}return n=new V("trackschanged",void 0),T(s,Promise.resolve(),3);case 3:Js(e),e.dispatchEvent(n);case 2:return i=Tu(e.h.variants),T(s,mv(e.l,i,e.h.offlineSessionIds),4);case 4:return Js(e),T(s,Mv(e.H,e.h),5);case 5:if(r=s.h,!r){s.B(0);break}return o=new V("trackschanged",void 0),T(s,Promise.resolve(),7);case 7:e.dispatchEvent(o),H(s)}})}f.configure=function(e,t){e=Xs(e,t),$i(this.g,e)},f.getConfiguration=function(){return Qn(this.g)};function Ry(e,t,n){var i,r,o,s,a;k(function(u){if(u.g==1)return i=e.g.streaming.segmentPrefetchLimit||2,r=new Uu(i,t,function(l,c,h){return Gu(l,c,h||null,e.g.streaming.retryParameters,e.Ia,e.A)},!1),e.N.set(t.id,r),T(u,t.createSegmentIndex(),2);o=e.C||0,(a=(s=t.segmentIndex.cc(o))?s.current():null)||(a=qn(t.segmentIndex)),a&&(n?a.ma&&gy(r,a.ma):Hs(r,a.startTime)),H(u)})}f.Sk=function(){return this.m},f.destroy=function(){var e=this,t,n,i;return k(function(r){switch(r.g){case 1:if(e.u=!0,!e.j||e.ka){r.B(2);break}return T(r,e.j.stop(),2);case 2:if(!e.i||e.$){r.B(4);break}return T(r,e.i.stop(),4);case 4:if(e.J&&!e.ra&&e.J.release(),!e.l||e.aa){r.B(6);break}return T(r,e.l.destroy(),6);case 6:if(0<e.N.size&&!e.ya)for(t=g(e.N.values()),n=t.next();!n.done;n=t.next())i=n.value,Wn(i);H(r)}})};function fI(e){function t(n){return n.video&&n.audio||n.video&&n.video.codecs.includes(",")}e.variants.some(t)&&(e.variants=e.variants.filter(t))}G("shaka.media.PreloadManager",Mi),Mi.prototype.destroy=Mi.prototype.destroy,Mi.prototype.waitForFinish=Mi.prototype.Sk;function Ku(e,t){Se.call(this);var n=this;this.i=e,this.l=t,this.g=new Map,this.m=[{bd:null,$c:To,Oc:function(i,r){return Ir(n,"enter",i,r)}},{bd:Qs,$c:To,Oc:function(i,r){return Ir(n,"enter",i,r)}},{bd:Zs,$c:To,Oc:function(i,r){return Ir(n,"enter",i,r)}},{bd:To,$c:Qs,Oc:function(i,r){return Ir(n,"exit",i,r)}},{bd:To,$c:Zs,Oc:function(i,r){return Ir(n,"exit",i,r)}},{bd:Qs,$c:Zs,Oc:function(i,r){return Ir(n,"skip",i,r)}},{bd:Zs,$c:Qs,Oc:function(i,r){return Ir(n,"skip",i,r)}}],this.h=new Ae,this.h.s(this.i,"regionremove",function(i){n.g.delete(i.region)})}pe(Ku,Se),Ku.prototype.release=function(){this.i=null,this.g.clear(),this.h.release(),this.h=null,Se.prototype.release.call(this)},Ku.prototype.j=function(e,t){if(!this.l||e!=0){this.l=!1;for(var n=g(this.i.g),i=n.next();!i.done;i=n.next()){i=i.value;var r=this.g.get(i),o=e<i.startTime?Qs:e>i.endTime?Zs:To;this.g.set(i,o);for(var s=g(this.m),a=s.next();!a.done;a=s.next())a=a.value,a.bd==r&&a.$c==o&&a.Oc(i,t)}}};function Ir(e,t,n,i){t=new V(t,new Map([["region",n],["seeking",i]])),e.dispatchEvent(t)}var Qs=1,To=2,Zs=3;function qu(e,t,n){var i,r,o,s,a,u,l;return k(function(c){switch(c.g){case 1:var h=new $e(e).mb.split("/").pop().split(".");return i=h.length==1?"":h.pop().toLowerCase(),(r=pI[i])?c.return(r):(o=0,s=ct([e],n),Z(c,2),s.method="HEAD",T(c,t.request(o,s).promise,4));case 4:a=c.h,r=a.headers["content-type"],he(c,3);break;case 2:if(u=ee(c),!u||u.code!=1002&&u.code!=1001){c.B(3);break}return s.method="GET",T(c,t.request(o,s).promise,6);case 6:l=c.h,r=l.headers["content-type"];case 3:return c.return(r?r.toLowerCase().split(";").shift():"")}})}var pI={mp4:"video/mp4",m4v:"video/mp4",m4a:"audio/mp4",webm:"video/webm",weba:"audio/webm",mkv:"video/webm",ts:"video/mp2t",ogv:"video/ogg",ogg:"audio/ogg",mpg:"video/mpeg",mpeg:"video/mpeg",m3u8:"application/x-mpegurl",mpd:"application/dash+xml",ism:"application/vnd.ms-sstr+xml",mp3:"audio/mpeg",aac:"audio/aac",flac:"audio/flac",wav:"audio/wav",sbv:"text/x-subviewer",srt:"text/srt",vtt:"text/vtt",webvtt:"text/vtt",ttml:"application/ttml+xml",lrc:"application/x-subtitle-lrc",ssa:"text/x-ssa",ass:"text/x-ssa",jpg:"image/jpeg",png:"image/png",svg:"image/svg+xml",webp:"image/webp",avif:"image/avif"};function Ly(e,t){if(e.lineBreak)return`
`;if(e.nestedCues.length)return e.nestedCues.map(function(s){return Ly(s,e)}).join("");if(!e.payload)return e.payload;var n=[],i=e.fontWeight>=Qr,r=e.fontStyle==Zr,o=e.textDecoration.includes(yi);return i&&n.push(["b"]),r&&n.push(["i"]),o&&n.push(["u"]),r=e.color,r==""&&t&&(r=t.color),i="",(r=Py(r))&&(i+="."+r),r=e.backgroundColor,r==""&&t&&(r=t.backgroundColor),(t=Py(r))&&(i+=".bg_"+t),i&&n.push(["c",i]),n.reduceRight(function(s,a){var u=g(a);return a=u.next().value,u=u.next().value,"<"+a+(u===void 0?"":u)+">"+s+"</"+a+">"},e.payload)}function Py(e){e=e.toLowerCase();var t=e.replace(/\s/g,"").match(/^rgba?\((\d+),(\d+),(\d+),?([^,\s)]+)?/i);switch(t?e="#"+(parseInt(t[1],10)|256).toString(16).slice(1)+(parseInt(t[2],10)|256).toString(16).slice(1)+(parseInt(t[3],10)|256).toString(16).slice(1):e.startsWith("#")&&7<e.length&&(e=e.slice(0,7)),e){case"white":case"#fff":case"#ffffff":return"white";case"lime":case"#0f0":case"#00ff00":return"lime";case"cyan":case"#0ff":case"#00ffff":return"cyan";case"red":case"#f00":case"#ff0000":return"red";case"yellow":case"#ff0":case"#ffff00":return"yellow";case"magenta":case"#f0f":case"#ff00ff":return"magenta";case"blue":case"#00f":case"#0000ff":return"blue";case"black":case"#000":case"#000000":return"black"}return null}function Td(e,t){var n=[];e=g(Dy(e));for(var i=e.next();!i.done;i=e.next())if(i=i.value,i.isContainer)n.push.apply(n,X(Td(i.nestedCues,i)));else{var r=i.clone();r.nestedCues=[],r.payload=Ly(i,t),n.push(r)}return n}function Dy(e){var t=[];e=g(e);for(var n=e.next(),i={};!n.done;i={Of:void 0},n=e.next())i.Of=n.value,t.some(function(r){return function(o){return fu(r.Of,o)}}(i))||t.push(i.Of);return t}function gI(e){function t(i){for(var r=5381,o=i.length;o;)r=33*r^i.charCodeAt(--o);return(r>>>0).toString()}if(e.startTime>=e.endTime)return null;var n=new VTTCue(e.startTime,e.endTime,e.payload);n.id=t(e.startTime.toString())+t(e.endTime.toString())+t(e.payload),n.lineAlign=e.lineAlign,n.positionAlign=e.positionAlign,e.size&&(n.size=e.size);try{n.align=e.textAlign}catch{}return e.textAlign=="center"&&n.align!="center"&&(n.align="middle"),e.writingMode=="vertical-lr"?n.vertical="lr":e.writingMode=="vertical-rl"&&(n.vertical="rl"),e.lineInterpretation==1&&(n.snapToLines=!1),e.line!=null&&(n.line=e.line),e.position!=null&&(n.position=e.position),n}function mI(e){if(e.endTime===1/0||e.endTime<e.startTime)return null;var t=new je(e.startTime,e.endTime,e.text);return t.line=typeof e.line=="number"?e.line:null,e.lineAlign&&(t.lineAlign=e.lineAlign),t.lineInterpretation=e.snapToLines?Cs:1,t.position=typeof e.position=="number"?e.position:null,e.positionAlign&&(t.positionAlign=e.positionAlign),t.size=e.size,t.textAlign=e.align,e.vertical==="lr"?t.writingMode="vertical-lr":e.vertical==="rl"&&(t.writingMode="vertical-rl"),e.region&&(t.region.id=e.region.id,t.region.height=e.region.lines,t.region.heightUnits=2,t.region.regionAnchorX=e.region.regionAnchorX,t.region.regionAnchorY=e.region.regionAnchorY,t.region.scroll=e.region.scroll,t.region.viewportAnchorX=e.region.viewportAnchorX,t.region.viewportAnchorY=e.region.viewportAnchorY,t.region.viewportAnchorUnits=Ht,t.region.width=e.region.width,t.region.widthUnits=Ht),pu(t),t}function Xt(e,t){this.g=null;for(var n=g(Array.from(e.textTracks)),i=n.next();!i.done;i=n.next())i=i.value,i.kind!=="metadata"&&i.kind!=="chapters"&&(i.mode="disabled",i.label==t&&(this.g=i));this.g||(this.g=e.addTextTrack("subtitles",t)),this.g.mode="hidden"}f=Xt.prototype,f.configure=function(){},f.remove=function(e,t){return this.g?(Ny(this.g,function(n){return n.startTime<t&&n.endTime>e}),!0):!1},f.append=function(e){var t=Td(e),n=[];e=this.g.cues?Array.from(this.g.cues):[],t=g(t);for(var i=t.next(),r={};!i.done;r={md:void 0},i=t.next())r.md=i.value,!e.some(function(o){return function(s){return s.startTime==o.md.startTime&&s.endTime==o.md.endTime&&s.text==o.md.payload}}(r))&&r.md.payload&&(i=gI(r.md))&&n.push(i);for(e=n.slice().sort(function(o,s){return o.startTime!=s.startTime?o.startTime-s.startTime:o.endTime!=s.endTime?o.endTime-s.startTime:"line"in VTTCue.prototype?n.indexOf(s)-n.indexOf(o):n.indexOf(o)-n.indexOf(s)}),e=g(e),t=e.next();!t.done;t=e.next())this.g.addCue(t.value)},f.destroy=function(){return this.g&&(Ny(this.g,function(){return!0}),this.g.mode="disabled"),this.g=null,Promise.resolve()},f.isTextVisible=function(){return this.g.mode=="showing"},f.setTextVisibility=function(e){this.g.mode=e?"showing":"hidden"};function Ny(e,t){var n=e.mode;e.mode=n=="showing"?"showing":"hidden";for(var i=g(Array.from(e.cues)),r=i.next();!r.done;r=i.next())(r=r.value)&&t(r)&&e.removeCue(r);e.mode=n}G("shaka.text.SimpleTextDisplayer",Xt),Xt.prototype.setTextVisibility=Xt.prototype.setTextVisibility,Xt.prototype.isTextVisible=Xt.prototype.isTextVisible,Xt.prototype.destroy=Xt.prototype.destroy,Xt.prototype.append=Xt.prototype.append,Xt.prototype.remove=Xt.prototype.remove,Xt.prototype.configure=Xt.prototype.configure;function Yt(){}f=Yt.prototype,f.configure=function(){},f.remove=function(){},f.append=function(){},f.destroy=function(){},f.isTextVisible=function(){return!1},f.setTextVisibility=function(){},G("shaka.text.StubTextDisplayer",Yt),Yt.prototype.setTextVisibility=Yt.prototype.setTextVisibility,Yt.prototype.isTextVisible=Yt.prototype.isTextVisible,Yt.prototype.destroy=Yt.prototype.destroy,Yt.prototype.append=Yt.prototype.append,Yt.prototype.remove=Yt.prototype.remove,Yt.prototype.configure=Yt.prototype.configure;function _y(){}function z(e){return document.createElement(e)}function Ze(){var e=document.createElement("button");return e.setAttribute("type","button"),e}function ni(e){for(;e.firstChild;)e.removeChild(e.firstChild)}G("shaka.util.Dom",_y),_y.removeAllChildren=ni;function $t(e,t,n){var i=this;this.m=!1,this.h=[],this.A=e,this.u=t,this.l=null,this.g=z("div"),this.g.classList.add("shaka-text-container"),this.g.style.textAlign="center",this.g.style.display="flex",this.g.style.flexDirection="column",this.g.style.alignItems="center",this.g.style.justifyContent="flex-end",this.u.appendChild(this.g),n&&n.captionsUpdatePeriod||Ke("UITextDisplayer w/ config","Please migrate to initializing UITextDisplayer with a config."),this.G=new oe(function(){i.A.paused||So(i)}).Ba(n&&n.captionsUpdatePeriod?n.captionsUpdatePeriod:.25),this.i=new Map,this.j=new Ae,this.j.s(document,"fullscreenchange",function(){So(i,!0)}),this.j.s(this.A,"seeking",function(){So(i,!0)}),this.j.s(this.A,"resize",function(){var r=i.A,o=r.videoWidth;r=r.videoHeight,o&&r?i.l=o/r:i.l=null}),this.o=null,"ResizeObserver"in O&&(this.o=new ResizeObserver(function(){So(i,!0)}),this.o.observe(this.g)),this.C=new Map}f=$t.prototype,f.configure=function(e){this.G&&this.G.Ba(e.captionsUpdatePeriod)},f.append=function(e){var t=[].concat(X(this.h));e=g(Dy(e));for(var n=e.next(),i={};!n.done;i={Pf:void 0},n=e.next())i.Pf=n.value,t.some(function(r){return function(o){return fu(o,r.Pf)}}(i))||this.h.push(i.Pf);So(this)},f.destroy=function(){return this.g&&(this.u.removeChild(this.g),this.g=null,this.m=!1,this.h=[],this.G&&this.G.stop(),this.i.clear(),this.j&&(this.j.release(),this.j=null),this.o&&(this.o.disconnect(),this.o=null)),Promise.resolve()},f.remove=function(e,t){if(!this.g)return!1;var n=this.h.length;return this.h=this.h.filter(function(i){return i.startTime<e||i.endTime>=t}),So(this,n>this.h.length),!0},f.isTextVisible=function(){return this.m},f.setTextVisibility=function(e){this.m=e};function vI(e,t){for(;t!=null;){if(t==e.g)return!0;t=t.parentElement}return!1}function Uy(e,t,n,i,r){var o=!1,s=[],a=[];t=g(t);for(var u=t.next();!u.done;u=t.next()){u=u.value,r.push(u);var l=e.i.get(u),c=u.startTime<=i&&u.endTime>i,h=l?l.Mi:null;l&&(s.push(l.Qf),l.Wc&&s.push(l.Wc),c||(o=!0,e.i.delete(u),l=null)),c&&(a.push(u),l?vI(e,h)||(o=!0):(yI(e,u,r),l=e.i.get(u),h=l.Mi,o=!0)),0<u.nestedCues.length&&h&&Uy(e,u.nestedCues,h,i,r),r.pop()}if(o){for(i=g(s),r=i.next();!r.done;r=i.next())r=r.value,r.parentElement&&r.parentElement.removeChild(r);for(a.sort(function(d,p){return d.startTime!=p.startTime?d.startTime-p.startTime:d.endTime-p.endTime}),a=g(a),i=a.next();!i.done;i=a.next())i=e.i.get(i.value),i.Wc?(i.Wc.contains(n)&&i.Wc.removeChild(n),n.appendChild(i.Wc),i.Wc.appendChild(i.Qf)):n.appendChild(i.Qf)}}function So(e,t){if(e.g){var n=e.A.currentTime;if(!e.m||t!==void 0&&t){t=g(e.C.values());for(var i=t.next();!i.done;i=t.next())ni(i.value);ni(e.g),e.i.clear(),e.C.clear()}e.m&&Uy(e,e.h,e.g,n,[])}}function yI(e,t,n){var i=1<n.length,r=i?"span":"div";t.lineBreak&&(r="br"),t.rubyTag&&(r=t.rubyTag),i=!i&&0<t.nestedCues.length;var o=z(r);if(r!="br"&&SI(e,o,t,n,i),n=null,t.region&&t.region.id){var s=t.region,a=e.l===4/3?2.5:1.9;if(n=s.id+"_"+s.width+"x"+s.height+(s.heightUnits==Ht?"%":"px")+"-"+s.viewportAnchorX+"x"+s.viewportAnchorY+(s.viewportAnchorUnits==Ht?"%":"px"),e.C.has(n))n=e.C.get(n);else{r=z("span");var u=s.heightUnits==Ht?"%":"px",l=s.widthUnits==Ht?"%":"px",c=s.viewportAnchorUnits==Ht?"%":"px";r.id="shaka-text-region---"+n,r.classList.add("shaka-text-region"),r.style.position="absolute";var h=s.height,d=s.width;s.heightUnits===2&&(h=5.33*s.height,u="%"),s.widthUnits===2&&(d=s.width*a,l="%"),r.style.height=h+u,r.style.width=d+l,s.viewportAnchorUnits===2?(a=s.viewportAnchorY/75*100,u=s.viewportAnchorX/(e.l===4/3?160:210)*100,a-=s.regionAnchorY*h/100,u-=s.regionAnchorX*d/100,r.style.top=a+"%",r.style.left=u+"%"):(r.style.top=s.viewportAnchorY-s.regionAnchorY*h/100+c,r.style.left=s.viewportAnchorX-s.regionAnchorX*d/100+c),s.heightUnits!==0&&s.widthUnits!==0&&s.viewportAnchorUnits!==0&&(s=Math.max(0,Math.min(100-(parseInt(r.style.width.slice(0,-1),10)||0),parseInt(r.style.left.slice(0,-1),10)||0)),r.style.top=Math.max(0,Math.min(100-(parseInt(r.style.height.slice(0,-1),10)||0),parseInt(r.style.top.slice(0,-1),10)||0))+"%",r.style.left=s+"%"),r.style.display="flex",r.style.flexDirection="column",r.style.alignItems="center",r.style.justifyContent=t.displayAlign=="before"?"flex-start":t.displayAlign=="center"?"center":"flex-end",e.C.set(n,r),n=r}}r=o,i&&(r=z("span"),r.classList.add("shaka-text-wrapper"),r.style.backgroundColor=t.backgroundColor,r.style.lineHeight="normal",o.appendChild(r)),e.i.set(t,{Qf:o,Mi:r,Wc:n})}function TI(e){var t=e.direction,n=e.positionAlign;return e=e.textAlign,n!==gu?n:e==="left"||e==="start"&&t===Is||e==="end"&&t==="rtl"?"line-left":e==="right"||e==="start"&&t==="rtl"||e==="end"&&t===Is?"line-right":"center"}function SI(e,t,n,i,r){var o=t.style,s=n.nestedCues.length==0,a=1<i.length;o.whiteSpace="pre-wrap";var u=n.payload.replace(/\s+$/g,function(c){return" ".repeat(c.length)});if(o.webkitTextStrokeColor=n.textStrokeColor,o.webkitTextStrokeWidth=n.textStrokeWidth,o.color=n.color,o.direction=n.direction,o.opacity=n.opacity,o.paddingLeft=Sd(n.linePadding,n,e.u),o.paddingRight=Sd(n.linePadding,n,e.u),o.textCombineUpright=n.textCombineUpright,o.textShadow=n.textShadow,n.backgroundImage)o.backgroundImage="url('"+n.backgroundImage+"')",o.backgroundRepeat="no-repeat",o.backgroundSize="contain",o.backgroundPosition="center",n.backgroundColor&&(o.backgroundColor=n.backgroundColor),o.width="100%",o.height="100%";else{if(n.nestedCues.length)var l=t;else l=z("span"),t.appendChild(l);n.border&&(l.style.border=n.border),r||((t=EI(i,function(c){return c.backgroundColor}))?l.style.backgroundColor=t:u&&(l.style.backgroundColor="rgba(0, 0, 0, 0.8)")),u&&(l.textContent=u)}a&&!i[i.length-1].isContainer?o.display="inline":(o.display="flex",o.flexDirection="column",o.alignItems="center",n.textAlign=="left"||n.textAlign=="start"?(o.width="100%",o.alignItems="start"):(n.textAlign=="right"||n.textAlign=="end")&&(o.width="100%",o.alignItems="end"),o.justifyContent=n.displayAlign=="before"?"flex-start":n.displayAlign=="center"?"center":"flex-end"),s||(o.margin="0"),o.fontFamily=n.fontFamily,o.fontWeight=n.fontWeight.toString(),o.fontStyle=n.fontStyle,o.letterSpacing=n.letterSpacing,o.fontSize=Sd(n.fontSize,n,e.u),i=n.line,i!=null&&(s=n.lineInterpretation,s==Cs&&(s=1,a=16,e.l&&1>e.l&&(a=32),i=0>i?100+i/a*100:i/a*100),s==1&&(o.position="absolute",n.writingMode==vr?(o.width="100%",n.lineAlign==yr?o.top=i+"%":n.lineAlign=="end"&&(o.bottom=100-i+"%")):n.writingMode=="vertical-lr"?(o.height="100%",n.lineAlign==yr?o.left=i+"%":n.lineAlign=="end"&&(o.right=100-i+"%")):(o.height="100%",n.lineAlign==yr?o.right=i+"%":n.lineAlign=="end"&&(o.left=100-i+"%")))),o.lineHeight=n.lineHeight,e=TI(n),e=="line-left"?(o.cssFloat="left",n.position!==null&&(o.position="absolute",n.writingMode==vr?(o.left=n.position+"%",o.width="auto"):o.top=n.position+"%")):e=="line-right"?(o.cssFloat="right",n.position!==null&&(o.position="absolute",n.writingMode==vr?(o.right=100-n.position+"%",o.width="auto"):o.bottom=n.position+"%")):n.position!==null&&n.position!=50&&(o.position="absolute",n.writingMode==vr?(o.left=n.position+"%",o.width="auto"):o.top=n.position+"%"),o.textAlign=n.textAlign,o.textDecoration=n.textDecoration.join(" "),o.writingMode=n.writingMode,"writingMode"in document.documentElement.style&&o.writingMode==n.writingMode||(o.webkitWritingMode=n.writingMode),n.size&&(n.writingMode==vr?o.width=n.size+"%":o.height=n.size+"%")}function Sd(e,t,n){var i=(i=new RegExp(/(\d*\.?\d+)([a-z]+|%+)/).exec(e))?{value:Number(i[1]),unit:i[2]}:null;if(!i)return e;var r=i.value;switch(i.unit){case"%":return r/100*n.clientHeight/t.cellResolution.rows+"px";case"c":return n.clientHeight*r/t.cellResolution.rows+"px";default:return e}}function EI(e,t){for(var n=e.length-1;0<=n;n--){var i=t(e[n]);if(i||i===0)return i}return null}G("shaka.text.UITextDisplayer",$t),$t.prototype.setTextVisibility=$t.prototype.setTextVisibility,$t.prototype.isTextVisible=$t.prototype.isTextVisible,$t.prototype.remove=$t.prototype.remove,$t.prototype.destroy=$t.prototype.destroy,$t.prototype.append=$t.prototype.append,$t.prototype.configure=$t.prototype.configure;function AI(e,t){function n(o){for(var s=o,a=g(t),u=a.next();!u.done;u=a.next())u=u.value,u.end&&u.start<o&&(s+=u.end-u.start);return o=Math.floor(s/3600),a=Math.floor(s/60%60),u=Math.floor(s%60),s=Math.floor(1e3*s%1e3),(10>o?"0":"")+o+":"+(10>a?"0":"")+a+":"+(10>u?"0":"")+u+"."+(100>s?10>s?"00":"0":"")+s}var i=Td(e);e=`WEBVTT

`,i=g(i);for(var r=i.next();!r.done;r=i.next())r=r.value,e+=n(r.startTime)+" --> "+n(r.endTime)+function(o){var s=[];switch(o.textAlign){case"left":s.push("align:left");break;case"right":s.push("align:right");break;case vi:s.push("align:middle");break;case"start":s.push("align:start");break;case"end":s.push("align:end")}switch(o.writingMode){case"vertical-lr":s.push("vertical:lr");break;case"vertical-rl":s.push("vertical:rl")}return s.length?" "+s.join(" "):""}(r)+`
`,e+=r.payload+`

`;return e}G("shaka.text.WebVttGenerator",function(){});function Oy(e,t){this.h=e,this.g=t,this.i=void 0,this.l=!1,this.o=!0,this.j=this.m=!1}Oy.prototype.configure=function(e){this.g=e};function wI(e){e.l=!1,e.o=!0,e.m=!1,e.j=!1}function xI(e,t){e.j=t,e.j?e.i==Qu?e.i=Zu:e.i==el&&(e.i=tl):e.i==Zu?e.i=Qu:e.i==tl&&(e.i=el)}function II(e,t,n){try{if(!e.g.enabled)return t;var i=Ed(e);e:{switch(n.toLowerCase()){case"audio/mp4":case"audio/webm":case"audio/ogg":case"audio/mpeg":case"audio/aac":case"audio/flac":case"audio/wav":var r=Xu;break e;case"video/webm":case"video/mp4":case"video/mpeg":case"video/mp2t":r=$u;break e;case"application/x-mpegurl":case"application/vnd.apple.mpegurl":case"application/dash+xml":case"video/vnd.mpeg.dash.mpd":case"application/vnd.ms-sstr+xml":r=by;break e}r=void 0}i.ot=r,i.su=!0;var o=Wu(i);return Ad(t,o)}catch(s){return or("CMCD_SRC_ERROR","Could not generate src CMCD data.",s),t}}function Ed(e){return e.g.sessionId||(e.g.sessionId=O.crypto.randomUUID()),{v:1,sf:e.i,sid:e.g.sessionId,cid:e.g.contentId,mtp:e.h.getBandwidthEstimate()/1e3}}function Eo(e,t,n){n=n===void 0?{}:n;var i=i===void 0?e.g.useHeaders:i;if(e.g.enabled){Object.assign(n,Ed(e)),n.pr=e.h.Va();var r=n.ot===Yu||n.ot===$u;if(e.m&&r&&(n.bs=!0,n.su=!0,e.m=!1),n.su==null&&(n.su=e.o),e=CI(e,n),i)i=LI(e),Object.keys(i).length&&Object.assign(t.headers,i);else{var o=Wu(e);o&&(t.uris=t.uris.map(function(s){return Ad(s,o)}))}}}function CI(e,t){var n=e.g.includeKeys;return n.length?Object.keys(t).reduce(function(i,r){return n.includes(r)&&(i[r]=t[r]),i},{}):t}function MI(e){if(e.type===0)return PI;if(e=e.stream){var t=e.type;if(t=="video")return e.codecs&&e.codecs.includes(",")?$u:Yu;if(t=="audio")return Xu;if(t=="text")return e.mimeType==="application/mp4"?Ju:wd}}function kI(e,t){if(t=e.h.Vb()[t],!t.length)return NaN;var n=e.h.getCurrentTime();return(e=t.find(function(i){return i.start<=n&&i.end>=n}))?1e3*(e.end-n):NaN}function jy(e,t){if(t=e.h.Vb()[t],!t.length)return 0;var n=e.h.getCurrentTime();return(e=t.find(function(i){return i.start<=n&&i.end>=n}))?1e3*(e.end-n):0}function RI(e,t){var n=e.h.Jb();if(!n.length)return NaN;e=n[0],n=g(n);for(var i=n.next();!i.done;i=n.next())i=i.value,i.type==="variant"&&i.bandwidth>e.bandwidth&&(e=i);switch(t){case Yu:return e.videoBandwidth||NaN;case Xu:return e.audioBandwidth||NaN;default:return e.bandwidth}}function Wu(e){function t(h){return 100*n(h/100)}function n(h){return Math.round(h)}function i(h){return!Number.isNaN(h)&&h!=null&&h!==""&&h!==!1}var r=[],o={br:n,d:n,bl:t,dl:t,mtp:t,nor:function(h){return encodeURIComponent(h)},rtp:t,tb:n},s=Object.keys(e||{}).sort();s=g(s);for(var a=s.next();!a.done;a=s.next()){a=a.value;var u=e[a];if(i(u)&&(a!=="v"||u!==1)&&(a!="pr"||u!==1)){var l=o[a];l&&(u=l(u)),l=typeof u;var c=void 0;c=l==="string"&&a!=="ot"&&a!=="sf"&&a!=="st"?a+"="+JSON.stringify(u):l==="boolean"?a:l==="symbol"?a+"="+u.description:a+"="+u,r.push(c)}}return r.join(",")}function LI(e){var t=Object.keys(e),n={},i=["Object","Request","Session","Status"],r=[{},{},{},{}],o={br:0,d:0,ot:0,tb:0,bl:1,dl:1,mtp:1,nor:1,nrr:1,su:1,cid:2,pr:2,sf:2,sid:2,st:2,v:2,bs:3,rtp:3};t=g(t);for(var s=t.next();!s.done;s=t.next())s=s.value,r[o[s]!=null?o[s]:1][s]=e[s];for(e=0;e<r.length;e++)(o=Wu(r[e]))&&(n["CMCD-"+i[e]]=o);return n}function Ad(e,t){return!t||e.includes("offline:")?e:(e=new $e(e),e.g.set("CMCD",t),e.toString())}var by="m",Xu="a",Yu="v",$u="av",PI="i",wd="c",Ju="tt",Qu="d",Zu="ld",el="h",tl="lh";G("shaka.util.CmcdManager.StreamingFormat",{DASH:Qu,ul:Zu,HLS:el,vl:tl,Il:"s",OTHER:"o"});function vn(e){this.h=e,this.g=null}f=vn.prototype,f.configure=function(e){this.h=e},f.Jh=function(){return this.h.enabled&&this.h.applyMaximumSuggestedBitrate&&this.g&&this.g.has(Gy)?1e3*this.g.get(Gy):null},f.Ih=function(){return this.h.enabled&&this.g&&this.g.has(By)?1e3*this.g.get(By):null},f.yj=function(){return this.h.enabled&&this.g&&this.g.has(Vy)?this.g.get(Vy):null},f.zj=function(){return this.h.enabled&&this.g&&this.g.has(Hy)?this.g.get(Hy):null},f.getBandwidthEstimate=function(e){var t=this.Ih();if(!t)return e;var n=this.h.estimatedThroughputWeightRatio;return 0<n&&1>=n?e*(1-n)+t*n:e};function Fy(e){return e?e.toLowerCase()==="false"?!1:/^[-0-9]/.test(e)?parseInt(e,10):e.replace(/["]+/g,""):!0}G("shaka.util.CmsdManager",vn),vn.prototype.getBandwidthEstimate=vn.prototype.getBandwidthEstimate,vn.prototype.getRoundTripTime=vn.prototype.zj,vn.prototype.getResponseDelay=vn.prototype.yj,vn.prototype.getEstimatedThroughput=vn.prototype.Ih,vn.prototype.getMaxBitrate=vn.prototype.Jh;var By="etp",Gy="mb",Vy="rd",Hy="rtt";function zy(){this.g=null,this.h=[]}function xd(e,t){return k(function(n){if(n.g==1)return e.g?T(n,new Promise(function(i){return e.h.push(i)}),2):n.B(2);e.g=t,H(n)})}zy.prototype.release=function(){0<this.h.length?this.h.shift()():this.g=null};function j(e,t,n){t=t===void 0?null:t,Se.call(this);var i=this;this.m=sl,this.h=null,this.wf=t,this.ra=!1,this.ge=new Ae,this.Wd=new Ae,this.l=new Ae,this.Ta=new Ae,this.hb=new Ae,this.I=this.K=this.C=this.H=null,this.je=0,this.Y=new zy,this.na=this.zf=this.aa=this.i=this.bb=this.J=this.j=this.zc=this.N=this.mh=this.ha=this.P=this.Ac=this.O=this.xf=this.L=this.Mb=null,this.Ha=!1,this.Da=this.o=null,this.Af=1e9,this.be=[],this.V=NaN,this.g=ki(this),this.S=null,this.ke=-1,this.Ja=null,this.ka={width:1/0,height:1/0},this.uf=new Oh(this.g,this.ka,null),this.ee=[],this.A=null,this.Ia=new io(this.g.preferredAudioLanguage,this.g.preferredVariantRole,this.g.preferredAudioChannelCount,this.g.preferredVideoHdrLevel,this.g.preferSpatialAudio,this.g.preferredVideoLayout,this.g.preferredAudioLabel,this.g.preferredVideoLabel,this.g.mediaSource.codecSwitchingStrategy,this.g.manifest.dash.enableAudioGroups),this.Kb=this.g.preferredTextLanguage,this.ae=this.g.preferredTextRole,this.Zd=this.g.preferForcedSubs,this.Yd=[],n&&n(this),this.P=KI(this),this.ha=new vn(this.g.cmsd),this.H=Zy(this),this.H.Xg(this.g.streaming.forceHTTP),this.H.Yg(this.g.streaming.forceHTTPS),this.H.m=this.g.streaming.minBytesForProgressEvents,this.ec=this.$=this.u=null,this.Ef=!1,this.Cf=new oe(function(){return k(function(r){if(r.g==1)return i.$?T(r,i.$b(i.ec,!0),3):r.B(0);if(r.g!=4)return T(r,i.load(i.$),4);i.Ef?i.ec.pause():i.ec.play(),i.$=null,i.Ef=!1,H(r)})}),al&&(this.u=al(),this.u.configure(this.g.ads),this.hb.s(this.u,"ad-content-pause-requested",function(r){var o;return k(function(s){if(s.g==1)return i.Cf.stop(),i.$?s.B(0):(i.ec=i.h,i.Ef=i.h.ended,o=r.saveLivePosition||!1,T(s,i.Ch(!0,o),3));i.$=s.h,H(s)})}),this.hb.s(this.u,"ad-content-resume-requested",function(r){if(r=r.offset||0,i.$){var o=i.$;o.C&&r&&(o.C+=r)}i.Cf.X(.1)}),this.hb.s(this.u,"ad-content-attach-requested",function(){return k(function(r){return i.h||!i.ec?r.B(0):T(r,i.$b(i.ec,!0),0)})})),this.ge.s(O,"online",function(){Dd(i),i.Pg()}),this.yf=new oe(function(){for(var r=Date.now()/1e3,o=!1,s=!0,a=g(i.i.variants),u=a.next();!u.done;u=a.next())u=u.value,0<u.disabledUntilTime&&u.disabledUntilTime<=r&&(u.disabledUntilTime=0,o=!0),0<u.disabledUntilTime&&(s=!1);s&&i.yf.stop(),o&&wo(i,!1,void 0,!1,!1)}),this.ya=null,e&&(Ke("Player w/ mediaElement","Please migrate from initializing Player with a mediaElement; use the attach method instead."),this.$b(e,!0)),this.G=null}pe(j,Se);function nl(e){e.N!=null&&(Kv(e.N),e.N.release(),e.N=null)}function DI(e,t){t.lcevc.enabled?(nl(e),e.N==null&&(e.N=new Bs(e.h,e.mh,t.lcevc),e.K&&(e.K.P=e.N))):nl(e)}function Ve(e,t){return new V(e,t)}f=j.prototype,f.destroy=function(){var e=this,t;return k(function(n){switch(n.g){case 1:return e.m==Nn?n.return():(nl(e),t=e.detach(),e.m=Nn,T(n,t,2));case 2:return T(n,e.Sf(),3);case 3:if(e.ge&&(e.ge.release(),e.ge=null),e.Wd&&(e.Wd.release(),e.Wd=null),e.l&&(e.l.release(),e.l=null),e.Ta&&(e.Ta.release(),e.Ta=null),e.hb&&(e.hb.release(),e.hb=null),e.Da=null,e.g=null,e.A=null,e.wf=null,e.P=null,e.ha=null,!e.H){n.B(4);break}return T(n,e.H.destroy(),5);case 5:e.H=null;case 4:e.o&&(e.o.release(),e.o=null),Se.prototype.release.call(e),H(n)}})};function Ky(){if(O.Promise||de("A Promise implementation or polyfill is required"),!(O.Promise&&O.Uint8Array&&Array.prototype.forEach)||ke("Trident/"))return!1;var e=Bi();return e&&9>e||!(O.MediaKeys&&O.navigator&&O.navigator.requestMediaKeySystemAccess&&O.MediaKeySystemAccess&&O.MediaKeySystemAccess.prototype.getConfiguration)?!1:Gn()?!0:hs("application/x-mpegurl")}function Ao(e,t){e.dispatchEvent(Ve("onstatechange",new Map().set("state",t)))}f.$b=function(e,t){t=t===void 0?!0:t;var n=this,i,r,o;return k(function(s){switch(s.g){case 1:if(n.m==Nn)throw new R(2,7,7e3);if(i=n.h&&n.h==e,!n.h||n.h==e){s.B(2);break}return T(s,n.detach(),2);case 2:return T(s,Id(n,"attach"),4);case 4:if(s.h)return s.return();if(Z(s,5,6),i||(Ao(n,"attach"),r=function(){var a=Nd(n,!1);a&&xo(n,a)},n.Wd.s(e,"error",r),n.h=e),!t||!Gn()||n.K){s.B(6);break}return T(s,Cd(n),6);case 6:Zt(s),n.Y.release(),en(s,0);break;case 5:return o=ee(s),T(s,n.detach(),10);case 10:throw o}})},f.oh=function(e){this.mh=e},f.detach=function(e){e=e===void 0?!1:e;var t=this;return k(function(n){if(n.g==1){if(t.m==Nn)throw new R(2,7,7e3);return T(n,t.nc(!1,e),2)}if(n.g!=3)return T(n,Id(t,"detach"),3);if(n.h)return n.return();try{t.h&&(t.Wd.Za(),t.h=null),Ao(t,"detach"),t.u&&!e&&t.u.release()}finally{t.Y.release()}H(n)})};function Id(e,t){var n;return k(function(i){return i.g==1?(n=++e.je,T(i,xd(e.Y,t),2)):n!=e.je?(e.Y.release(),i.return(!0)):i.return(!1)})}f.nc=function(e,t){e=e===void 0?!0:e,t=t===void 0?!1:t;var n=this,i,r,o,s,a,u,l,c,h,d;return k(function(p){switch(p.g){case 1:return n.m!=Nn&&(n.m=sl),T(p,Id(n,"unload"),2);case 2:return p.h?p.return():(ui(p,3),n.Ha=!1,Ao(n,"unload"),e&&!Gn()&&(e=!1),nl(n),i=n.Yd.map(function(m){return m()}),n.Yd=[],T(p,Promise.all(i),5));case 5:if(n.dispatchEvent(Ve("unloading")),n.Ac&&(n.Ac.release(),n.Ac=null),n.h&&(n.l.Za(),n.Ta.Za()),n.yf.stop(),n.Mb&&(n.Mb.release(),n.Mb=null),n.xf&&(n.xf.stop(),n.xf=null),!n.J){p.B(6);break}return T(p,n.J.stop(),7);case 7:n.J=null,n.bb=null;case 6:if(!n.o){p.B(8);break}return T(p,n.o.stop(),8);case 8:if(!n.j){p.B(10);break}return T(p,n.j.destroy(),11);case 11:n.j=null;case 10:if(n.L&&(n.L.release(),n.L=null),n.I&&(n.I.release(),n.I=null),!iu("webkit")||!n.C){p.B(12);break}return T(p,n.C.destroy(),13);case 13:n.C=null;case 12:if(!n.K){p.B(14);break}return T(p,n.K.destroy(),15);case 15:n.K=null;case 14:if(n.u&&!t&&n.u.onAssetUnload(),n.$&&!t&&(n.$.destroy(),n.$=null),t||n.Cf.stop(),n.P&&wI(n.P),n.ha&&(n.ha.g=null),!n.G){p.B(16);break}return T(p,n.G.destroy(),17);case 17:n.G=null;case 16:if(n.h&&ni(n.h),n.h&&n.h.src&&(n.h.removeAttribute("src"),n.h.load()),!n.C){p.B(18);break}return T(p,n.C.destroy(),19);case 19:n.C=null;case 18:if(n.ya&&n.aa!=n.ya.kd()&&(n.ya.u||n.ya.destroy(),n.ya=null),n.aa=null,n.zf=null,n.O=null,n.i){for(r=g(n.i.variants),o=r.next();!o.done;o=r.next())for(s=o.value,a=g([s.audio,s.video]),u=a.next();!u.done;u=a.next())(l=u.value)&&l.segmentIndex&&l.segmentIndex.release();for(c=g(n.i.textStreams),h=c.next();!h.done;h=c.next())d=h.value,d.segmentIndex&&d.segmentIndex.release()}n.g.streaming.clearDecodingCache&&($m={},Qa.clear()),n.i=null,n.A=new _u,n.ie=null,n.Ja=null,n.S=null,n.ke=-1,n.be=[],n.V=NaN,Ld(n);case 3:Zt(p),n.Y.release(),en(p,4);break;case 4:if(e&&Gn()&&!n.K&&n.h)return T(p,Cd(n),0);p.B(0)}})},f.Rk=function(e){this.na=e},f.load=function(e,t,n){t=t===void 0?null:t;var i=this,r,o,s,a,u,l,c,h,d,p,m,v,y;return k(function(E){switch(E.g){case 1:if(i.m==Nn)throw new R(2,7,7e3);return r=null,o="",e instanceof Mi?(r=e,o=r.kd()||""):o=e||"",T(E,xd(i.Y,"load"),2);case 2:if(i.Y.release(),!i.h)throw new R(2,7,7002);if(!i.aa){E.B(3);break}return i.aa=o,T(E,i.nc(!1),3);case 3:if(s=++i.je,a=function(){return k(function(S){if(S.g==1)return i.je==s?S.B(0):r?T(S,r.destroy(),3):S.B(3);throw new R(2,7,7e3)})},u=function(S,w){return k(function(A){switch(A.g){case 1:return ui(A,2),T(A,xd(i.Y,w),4);case 4:return T(A,a(),5);case 5:return T(A,S(),6);case 6:return T(A,a(),7);case 7:r&&i.g&&(r.g=i.g);case 2:Zt(A),i.Y.release(),en(A,0)}})},Z(E,5,6),t==null&&r&&(t=r.getStartTime()),i.na=t,i.Ha=!1,i.dispatchEvent(Ve("loading")),r){n=r.V,E.B(8);break}if(n){E.B(8);break}return T(E,u(function(){return k(function(S){if(S.g==1)return T(S,Yy(i,o),2);n=S.h,H(S)})},"guessMimeType_"),8);case 8:if(l=!!r,r){ky(r,i),i.A=r.getStats(),E.B(11);break}return T(E,Wy(i,o,t,n,!0),12);case 12:(r=E.h)?(r.A=!1,ky(r,i),i.A=r.getStats(),r.start(),r.m.catch(function(){})):i.A=new _u;case 11:return c=!r,h=Date.now()/1e3,i.A=r?r.getStats():new _u,i.aa=o,i.zf=n||null,c?T(E,u(function(){return k(function(S){return T(S,OI(i,n),0)})},"initializeSrcEqualsDrmInner_"),21):T(E,u(function(){return k(function(S){if(S.g==1)return T(S,Promise.race([r.ha,r.m]),2);i.bb=r.I;var w=r;w.ka=!0,i.J=w.j,i.i=r.lg(),H(S)})},"waitForFinish"),15);case 15:if(i.K){E.B(16);break}return T(E,u(function(){return k(function(S){return T(S,Cd(i),0)})},"initializeMediaSourceEngineInner_"),16);case 16:return T(E,u(function(){return k(function(S){return T(S,r.m,0)})},"waitForFinish"),18);case 18:return i.g=r.getConfiguration(),i.uf=r.H,i.J&&i.J.setMediaElement&&i.h&&i.J.setMediaElement(i.h),i.Ac=uI(r),i.zc=r.Ha,(d=r.o)&&(i.Ia=d),l&&i.h&&i.h.nodeName==="AUDIO"&&(NI(i),i.configure("manifest.disableVideo",!0)),i.C=lI(r),T(E,u(function(){return k(function(S){return T(S,i.C.$b(i.h),0)})},"drmEngine_.attach"),19);case 19:return!(p=r.G)||i.Da&&i.Da==p||(i.o=aI(r),i.Da=r.G,typeof i.o.setMediaElement!="function"&&(Ke("AbrManager w/o setMediaElement","Please use an AbrManager with setMediaElement function."),i.o.setMediaElement=function(){}),typeof i.o.setCmsdManager!="function"&&(Ke("AbrManager w/o setCmsdManager","Please use an AbrManager with setCmsdManager function."),i.o.setCmsdManager=function(){}),typeof i.o.trySuggestStreams!="function"&&(Ke("AbrManager w/o trySuggestStreams","Please use an AbrManager with trySuggestStreams function."),i.o.trySuggestStreams=function(){})),m=cI(r),v=r.na,T(E,u(function(){return k(function(S){return T(S,UI(i,h,v,m),0)})},"loadInner_"),20);case 20:sI(r),E.B(14);break;case 21:return T(E,u(function(){return k(function(S){return T(S,jI(i,h,n),0)})},"srcEqualsInner_"),14);case 14:i.dispatchEvent(Ve("loaded"));case 6:if(Zt(E),!r){E.B(23);break}return T(E,r.destroy(),23);case 23:i.ya=null,en(E,0);break;case 5:if(y=ee(E),!y||y.code==7e3){E.B(25);break}return T(E,i.nc(!1),25);case 25:throw y}})};function NI(e){for(var t=g(e.i.variants),n=t.next();!n.done;n=t.next())n=n.value,n.video&&(n.video.closeSegmentIndex(),n.video=null),n.bandwidth=n.audio&&n.audio.bandwidth?n.audio.bandwidth:0;e.i.variants=e.i.variants.filter(function(i){return i.audio})}f.Nk=function(e,t){e=e===void 0?!0:e,t=t===void 0?!1:t;var n=this,i;return k(function(r){return r.g==1?T(r,qy(n),2):r.g!=3?(i=r.h,T(r,n.nc(e,t),3)):r.return(i)})},f.Ch=function(e,t){e=e===void 0?!1:e,t=t===void 0?!1:t;var n=this,i;return k(function(r){return r.g==1?T(r,qy(n,t),2):r.g!=3?(i=r.h,T(r,n.detach(e),3)):r.return(i)})};function qy(e,t){t=t===void 0?!1:t;var n,i;return k(function(r){if(r.g==1)return n=null,e.i&&e.J&&e.bb&&e.aa?(i=e.h.currentTime,e.T()&&!t&&(i=null),T(r,Xy(e,e.aa,i,e.zf,!0,!1,!1),3)):r.B(2);if(r.g!=2){n=r.h,e.ee.push(n),e.J&&e.J.setMediaElement&&e.J.setMediaElement(null);var o=n,s=e.J,a=e.bb;o.h=e.i,o.j=s,o.I=a,o=n,s=e.Da,o.i=e.o,o.G=s,n.o=e.Ia,n.start(),e.i=null,e.J=null,e.bb=null,e.o=null,e.Da=null}return r.return(n)})}f.preload=function(e,t,n){t=t===void 0?null:t;var i=this,r;return k(function(o){return o.g==1?T(o,Wy(i,e,t,n),2):((r=o.h)?r.start():xo(i,new R(2,7,7005)),o.return(r))})},f.Sf=function(){var e=this,t,n,i,r;return k(function(o){for(t=[],n=g(e.ee),i=n.next();!i.done;i=n.next())r=i.value,r.u||t.push(r.destroy());return e.ee=[],T(o,Promise.all(t),0)})};function Wy(e,t,n,i,r){r=r===void 0?!1:r;var o,s,a;return k(function(u){return u.g==1?i?u.B(2):T(u,Yy(e,t),3):(u.g!=2&&(i=u.h),_I(e,i)?u.return(null):(o=!1,s=!0,r&&(e.o&&e.Da==e.g.abrFactory&&(s=!1),e.h&&e.h.nodeName==="AUDIO"&&(o=!0)),a=Xy(e,t,n,i||null,!r,o,s),a=r?a.then(function(l){return l.A=!1,l}):a.then(function(l){return e.ee.push(l),l}),u.return(a)))})}function Xy(e,t,n,i,r,o,s){r=r===void 0?!0:r,o=o===void 0?!1:o,s=s===void 0?!0:s;var a,u,l,c,h,d,p,m,v,y,E,S,w,A,x;return k(function(I){return I.g==1?(a=null,u=Qn(e.g),o&&(u.manifest.disableVideo=!0),l=function(){return a.S&&a.u?null:a},c=function(){return l()?l().getConfiguration():e.g},h=function(C,L){l()?a.configure(C,L):e.configure(C,L)},e.ka.width!=1/0||e.ka.height!=1/0?I.B(2):T(I,om(),3)):(I.g!=2&&(d=I.h,e.ka.width=d.width,e.ka.height=d.height),p=new Oh(u,e.ka,null),m={networkingEngine:e.H,filter:function(C){var L,P;return k(function(M){if(M.g==1)return T(M,Mv(p,C),2);if(M.g!=4)return L=M.h,L?(P=Ve("trackschanged"),T(M,Promise.resolve(),4)):M.B(0);a.dispatchEvent(P),H(M)})},makeTextStreamsForClosedCaptions:function(C){return XI(e,C)},onTimelineRegionAdded:function(C){var L=a.J;e:{for(var P=g(L.g),M=P.next();!M.done;M=P.next())if(M=M.value,M.schemeIdUri==C.schemeIdUri&&M.id==C.id&&M.startTime==C.startTime&&M.endTime==C.endTime){P=M;break e}P=null}P==null&&(L.g.add(C),C=new V("regionadd",new Map([["region",C]])),L.dispatchEvent(C))},onEvent:function(C){return a.dispatchEvent(C)},onError:function(C){return a.onError(C)},isLowLatencyMode:function(){return c().streaming.lowLatencyMode},isAutoLowLatencyMode:function(){return c().streaming.autoLowLatencyMode},enableLowLatencyMode:function(){h("streaming.lowLatencyMode",!0)},updateDuration:function(){e.j&&a.S&&e.j.updateDuration()},newDrmInfo:function(C){var L=a.l,P=L?L.g:null;P&&L.A&&jh(p,P.keySystem,C)},onManifestUpdated:function(){var C=new Map().set("isLive",e.T());a.dispatchEvent(Ve("manifestupdated",C)),$s(a,!1,function(){e.u&&e.u.onManifestUpdated(e.T())})},getBandwidthEstimate:function(){return e.o.getBandwidthEstimate()},onMetadata:function(C,L,P,M){var D=C;C=="com.apple.hls.interstitial"&&(D="com.apple.quicktime.HLS",C={startTime:L,endTime:P,values:M},e.u)&&e.u.onHLSInterstitialMetadata(e,e.h,C),M=g(M),C=M.next();for(var N={};!C.done;N={Lg:void 0},C=M.next())N.Lg=C.value,N.Lg.name!="ID"&&$s(a,!1,function(b){return function(){Md(e,L,P,D,b.Lg)}}(N))},disableStream:function(C){return e.disableStream(C,e.g.streaming.maxDisabledTime)},addFont:function(C,L){return e.addFont(C,L)}},v=new od(function(){return e.Ga()}),v.addEventListener("regionadd",function(C){var L=C.region;ta(e,"timelineregionadded",L,a),$s(a,!1,function(){e.u&&(e.u.onDashTimedMetadata(L),e.u.onDASHInterstitialMetadata(e,e.h,L))})}),y=null,u.streaming.observeQualityChanges&&(y=new Ou(function(){return e.Vb()}),y.addEventListener("qualitychange",function(C){d0(e,C.quality,C.position)}),y.addEventListener("audiotrackchange",function(C){d0(e,C.quality,C.position,!0)})),E=!0,S={ic:e.H,onError:function(C){return a.onError(C)},Ve:function(C){$s(a,!0,function(){e:{var L=C,P=Ve("keystatuschanged");e.dispatchEvent(P);var M=Object.keys(L);M.length==1&&M[0]==""&&(M=["00"],L={"00":L[""]}),P=M.length==1&&M[0]=="00";var D=!1;if(M.length){M=g(e.i.variants);for(var N=M.next();!N.done;N=M.next()){N=N.value;var b=[];N.audio&&b.push(N.audio),N.video&&b.push(N.video),b=g(b);for(var _=b.next();!_.done;_=b.next()){var U=_.value;if(_=N.allowedByKeySystem,U.keyIds.size){N.allowedByKeySystem=!0,U=g(U.keyIds);for(var F=U.next();!F.done;F=U.next())F=F.value,((F=L[P?"00":F])||e.C.H)&&(N.allowedByKeySystem=N.allowedByKeySystem&&!!F&&!Pv.includes(F))}_!=N.allowedByKeySystem&&(D=!0)}}}if(D&&(Ut(e),!Mr(e)))break e;(L=e.j.j)&&!L.allowedByKeySystem&&wo(e)}})},onExpirationUpdated:function(C,L){var P=Ve("expirationupdated");a.dispatchEvent(P),(P=a.j)&&P.onExpirationUpdated&&P.onExpirationUpdated(C,L)},onEvent:function(C){a.dispatchEvent(C),C.type=="drmsessionupdate"&&E&&(E=!1,C=Date.now()/1e3-a.Da,(e.A||a.getStats()).j=C,e.N&&Kv(e.N))}},w=Zy(e,l),av(e.H,w),A=function(){return e.ed(S)},x={config:u,$j:m,kk:v,jk:y,ed:A,Zj:p,networkingEngine:w,Vi:r,Ui:s},a=new Mi(t,i,n,x),I.return(a))})}function Yy(e,t){var n,i;return k(function(r){return r.g==1?(n=e.g.manifest.retryParameters,T(r,qu(t,e.H,n),2)):(i=r.h,i=="application/x-mpegurl"&&ar()&&(i="application/vnd.apple.mpegurl"),r.return(i))})}function _I(e,t){if(!Gn())return!0;if(t){if((e.h||rm()).canPlayType(t)=="")return!1;if(!(Gn()&&t in Dn))return!0;if(Nm(t))return ar()&&(e.g.drm.servers["com.apple.fps"]||e.g.drm.servers["com.apple.fps.1_0"])?e.g.streaming.useNativeHlsForFairPlay:e.g.streaming.preferNativeHls}return!1}function $y(e){var t=e.g.textDisplayFactory;t!==e.ie&&(e.G=t(),e.G.configure?e.G.configure(e.g.textDisplayer):Ke("Text displayer w/ configure",'Text displayer should have a "configure" method!'),e.ie=t,e.G.setTextVisibility(e.ra))}function Cd(e){var t,n,i;return k(function(r){if(r.g==1)return Ao(e,"media-source"),$y(e),t=zI(e.h,e.G,{oj:function(){return e.keySystem()},onMetadata:function(o,s,a){Qy(e,o,s,a)}},e.N),t.configure(e.g.mediaSource),n=e.g.manifest,i=n.segmentRelativeVttTiming,t.ha=i,T(r,t.K,2);e.K=t,H(r)})}function Jy(e,t,n){function i(){return Pd(e)}e.l.s(t,"playing",i),e.l.s(t,"pause",i),e.l.s(t,"ended",i),e.l.s(t,"ratechange",function(){var r=e.h.playbackRate;r!=0&&(e.L&&e.L.set(r),r=Ve("ratechange"),e.dispatchEvent(r))}),t.remote&&(e.l.s(t.remote,"connect",function(){return Ut(e)}),e.l.s(t.remote,"connecting",function(){return Ut(e)}),e.l.s(t.remote,"disconnect",function(){return k(function(r){if(r.g==1)return e.j&&t.remote.state=="disconnected"?T(r,xy(e.j),2):r.B(2);Ut(e),H(r)})})),t.audioTracks&&(e.l.s(t.audioTracks,"addtrack",function(){return Ut(e)}),e.l.s(t.audioTracks,"removetrack",function(){return Ut(e)}),e.l.s(t.audioTracks,"change",function(){return Ut(e)})),t.textTracks&&(e.l.s(t.textTracks,"addtrack",function(r){if(r.track)switch(r=r.track,r.kind){case"metadata":BI(e,r);break;case"chapters":GI(e,r);break;default:Ut(e)}}),e.l.s(t.textTracks,"removetrack",function(){return Ut(e)}),e.l.s(t.textTracks,"change",function(){return Ut(e)})),t.preload!="none"&&e.l.sa(t,"loadedmetadata",function(){e.A.G=Date.now()/1e3-n})}function UI(e,t,n,i){var r,o,s,a,u,l,c,h,d,p,m,v,y,E,S,w,A,x,I,C,L;return k(function(P){switch(P.g){case 1:Ao(e,"load"),r=e.h,e.L=new Vs({Be:function(){return r.playbackRate},Kc:function(){return r.defaultPlaybackRate},Zg:function(M){r.playbackRate=M},Yh:function(M){r.currentTime+=M}}),Jy(e,r,t),DI(e,e.g),e.Kb=e.g.preferredTextLanguage,e.ae=e.g.preferredTextRole,e.Zd=e.g.preferForcedSubs,_d(e.i.presentationTimeline,e.g.playRangeStart,e.g.playRangeEnd),e.o.init(function(M,D,N){e.i&&e.j&&M!=e.j.j&&rl(e,M,!0,D===void 0?!1:D,N===void 0?0:N)}),e.o.setMediaElement(r),e.o.setCmsdManager(e.ha),e.j=qI(e),e.j.configure(e.g.streaming),e.m=Ct,e.dispatchEvent(Ve("streaming")),o=n;case 2:for((a=e.j.j)||o||(o=Mr(e)?e.o.chooseVariant():null),u=[],s=a||o,l=g([s.video,s.audio]),c=l.next();!c.done;c=l.next())(h=c.value)&&!h.segmentIndex&&u.push(h.createSegmentIndex());if(!(0<u.length)){P.B(4);break}return T(P,Promise.all(u),4);case 4:if(!s||s.disabledUntilTime!=0){P.B(2);break}if(e.J&&e.J.onInitialVariantChosen&&e.J.onInitialVariantChosen(s),e.i.isLowLatency&&!e.g.streaming.lowLatencyMode&&de("Low-latency live stream detected, but low-latency streaming mode is not enabled in Shaka Player. Set streaming.lowLatencyMode configuration to true, and see https://bit.ly/3clctcj for details."),e.P&&xI(e.P,e.i.isLowLatency&&e.g.streaming.lowLatencyMode),_d(e.i.presentationTimeline,e.g.playRangeStart,e.g.playRangeEnd),zx(e.j,e.g.playRangeStart,e.g.playRangeEnd),d=function(M){e.I=VI(e,M),e.Mb=HI(e,M),e0(e,r,Math.max(e.i.minBufferTime,e.g.streaming.rebufferingGoal))},e.g.streaming.startAtSegmentBoundary||(p=e.na,p==null&&e.i.startTime&&(p=e.i.startTime),d(p)),a){P.B(7);break}if(!e.g.streaming.startAtSegmentBoundary){P.B(8);break}return m=e.i.presentationTimeline,v=e.na||e.h.currentTime,e.na==null&&e.i.startTime&&(v=e.i.startTime),y=m.dc(),E=m.Wb(),v<y?v=y:v>E&&(v=E),T(P,YI(o,v),9);case 9:S=P.h,d(S);case 8:rl(e,o,!0,!1,0);case 7:return e.I.ready(),w=e.vc().find(function(M){return M.active}),w||((A=Ls(e.i.textStreams,e.Kb,e.ae,e.Zd)[0]||null)&&nd(e.A.h,A,!0),o&&(A?($I(e,o.audio,A)&&(e.ra=!0),e.ra&&e.G.setTextVisibility(!0),c0(e)):e.ra=!1),A&&(e.g.streaming.alwaysStreamText||e.Rc())&&Fu(e.j,A)),T(P,e.j.start(i),10);case 10:e.g.abr.enabled&&(e.o.enable(),h0(e)),Ut(e),Mr(e),e.i.variants.some(function(M){return M.primary}),((x=e.T())&&(e.g.streaming.liveSync&&e.g.streaming.liveSync.enabled||e.i.serviceDescription||e.g.streaming.liveSync.panicMode)||e.g.streaming.vodDynamicPlaybackRate)&&(I=function(){return a0(e)},e.l.s(r,"timeupdate",I)),x||(C=function(){return il(e)},e.l.s(r,"timeupdate",C),il(e),e.i.nextUrl&&(0<e.g.streaming.preloadNextUrlWindow&&(L=function(){var M;return k(function(D){if(D.g==1)return M=e.h.duration-e.h.currentTime,isNaN(M)||!(M<=e.g.streaming.preloadNextUrlWindow)?D.B(0):(e.l.Ma(r,"timeupdate",L),T(D,e.preload(e.i.nextUrl),4));e.ya=D.h,H(D)})},e.l.s(r,"timeupdate",L)),e.l.s(r,"ended",function(){e.load(e.ya||e.i.nextUrl)}))),e.u&&e.u.onManifestUpdated(x),e.Ha=!0,H(P)}})}function OI(e,t){var n,i,r,o,s;return k(function(a){return a.g==1?(n=it,i=Date.now()/1e3,r=!0,e.C=e.ed({ic:e.H,onError:function(u){xo(e,u)},Ve:function(){},onExpirationUpdated:function(){var u=Ve("expirationupdated");e.dispatchEvent(u)},onEvent:function(u){e.dispatchEvent(u),u.type=="drmsessionupdate"&&r&&(r=!1,e.A.j=Date.now()/1e3-i)}}),e.C.configure(e.g.drm),o={id:0,language:"und",disabledUntilTime:0,primary:!1,audio:null,video:null,bandwidth:100,allowedByApplication:!0,allowedByKeySystem:!0,decodingInfos:[]},s={id:0,originalId:null,groupId:null,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:null,mimeType:t?nn(t):"",codecs:t?rn(t):"",encrypted:!0,drmInfos:[],keyIds:new Set,language:"und",originalLanguage:null,label:null,type:n.xa,primary:!1,trickModeVideo:null,emsgSchemeIdUris:null,roles:[],forced:!1,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null,accessibilityPurpose:null,external:!1,fastSwitching:!1,fullMimeTypes:new Set},s.fullMimeTypes.add(ot(s.mimeType,s.codecs)),t.startsWith("audio/")?(s.type=n.ia,o.audio=s):o.video=s,e.C.Y=!0,T(a,mv(e.C,[o],[]),2)):T(a,e.C.$b(e.h),0)})}function jI(e,t,n){var i,r,o,s,a,u,l,c,h,d;return k(function(p){if(p.g==1)return Ao(e,"src-equals"),i=e.h,e.I=new ay(i),r=!1,e.Yd.push(function(){r=!0}),e.na!=null&&e.I.Df(e.na),e.L=new Vs({Be:function(){return i.playbackRate},Kc:function(){return i.defaultPlaybackRate},Zg:function(m){i.playbackRate=m},Yh:function(m){i.currentTime+=m}}),o=e.g.streaming.rebufferingGoal,e0(e,i,o),i.textTracks&&($y(e),e.l.s(i,"enterpictureinpicture",function(){var m=ea(e).find(function(v){return v.mode!=="disabled"});m&&(m.mode="showing")}),e.l.s(i,"leavepictureinpicture",function(){var m=ea(e).find(function(v){return v.mode!=="disabled"});m&&(m.mode="hidden")})),Jy(e,i,t),s=II(e.P,e.aa,n),!s.includes("#t=")&&(0<e.g.playRangeStart||isFinite(e.g.playRangeEnd))&&(s+="#t=",0<e.g.playRangeStart&&(s+=e.g.playRangeStart),isFinite(e.g.playRangeEnd)&&(s+=","+e.g.playRangeEnd)),i.src=s,e.K&&O.ManagedMediaSource&&(i.disableRemotePlayback=!1),(Cn()||Jn())&&i.load(),i.preload!="none"&&!i.autoplay&&Nm(n)&&Bi()&&i.load(),e.m=yt,e.dispatchEvent(Ve("streaming")),a=new De,go(i,HTMLMediaElement.HAVE_METADATA,e.l,function(){e.I.ready(),a.resolve()}),go(i,HTMLMediaElement.HAVE_CURRENT_DATA,e.l,function(){var m,v,y,E,S;return k(function(w){if(w.g==1)return bI(e),m=ea(e),m.find(function(A){return A.mode!="disabled"})?(0<m.length&&(e.ra=!0,e.G.setTextVisibility(!0)),w.B(2)):T(w,new Promise(function(A){e.l.sa(i.textTracks,"change",A),new oe(A).X(1)}),2);if(r)return w.return();for(v=!1,y=g(m),E=y.next();!E.done;E=y.next())S=E.value,S.mode!=="disabled"&&(v?(S.mode="disabled",de("Found more than one enabled text track, disabling it",S)):(i0(e,S),v=!0));FI(e),H(w)})}),i.error?a.reject(Nd(e)):i.preload=="none"&&(de('With <video preload="none">, the browser will not load anything until play() is called. We are unable to measure load latency in a meaningful way, and we cannot provide track info yet. Please do not use preload="none" with Shaka Player.'),a.resolve()),e.l.sa(i,"error",function(){a.reject(Nd(e))}),u=new Promise(function(m,v){new oe(v).X(e.g.streaming.loadTimeout)}),T(p,Promise.race([a,u]),2);((l=e.T())&&(e.g.streaming.liveSync&&e.g.streaming.liveSync.enabled||e.g.streaming.liveSync.panicMode)||e.g.streaming.vodDynamicPlaybackRate)&&(c=function(){return a0(e)},e.l.s(i,"timeupdate",c)),l||(h=function(){return il(e)},e.l.s(i,"timeupdate",h),il(e)),e.u&&(e.u.onManifestUpdated(l),l&&(d=e.Ga().end,e.l.s(i,"progress",function(){var m=e.Ga().end;d!=m&&(e.u.onManifestUpdated(e.T()),d=m)}))),e.Ha=!0,H(p)})}function bI(e){var t=e.g.preferredAudioLanguage;t!=""&&e.Rg(t,e.g.preferredVariantRole)}function FI(e){var t=e.g.preferredTextLanguage;t!=""&&e.Sg(t,e.g.preferredTextRole,e.g.preferForcedSubs)}function BI(e,t){if(t.kind=="metadata"){t.mode="hidden",e.l.s(t,"cuechange",function(){if(t.activeCues)for(var i=g(t.activeCues),r=i.next();!r.done;r=i.next())r=r.value,Md(e,r.startTime,r.endTime,r.type,r.value),e.u&&e.u.onCueMetadataChange(r.value);if(t.cues){i=[],r=g(t.cues);for(var o=r.next(),s={};!o.done;s={qc:void 0},o=r.next())s.qc=o.value,s.qc.type=="com.apple.quicktime.HLS"&&s.qc.startTime!=null&&(o=i.find(function(a){return function(u){return u.startTime==a.qc.startTime&&u.endTime==a.qc.endTime}}(s)),o||(o={startTime:s.qc.startTime,endTime:s.qc.endTime,values:[]},i.push(o)),o.values.push(s.qc.value));for(i=g(i),r=i.next();!r.done;r=i.next())r=r.value,r.values.some(function(a){return a.key=="X-ASSET-URI"||a.key=="X-ASSET-LIST"})&&e.u&&(r.values.push({key:"CUE",description:"",data:r.startTime!=0||e.T()?"ONCE":"ONCE,PRE",mimeType:null,pictureType:null}),e.u.onHLSInterstitialMetadata(e,e.h,r))}});var n=new oe(function(){var i=WI(e);i=g(i);for(var r=i.next();!r.done;r=i.next())r.value.mode="hidden"}).Sa().X(.5);e.Yd.push(function(){n.stop()})}}function Qy(e,t,n,i){t=g(t);for(var r=t.next();!r.done;r=t.next())if(r=r.value,r.data&&typeof r.cueTime=="number"&&r.frames){var o=r.cueTime+n,s=i;s&&o>s&&(s=o);for(var a=g(r.frames),u=a.next();!u.done;u=a.next())Md(e,o,s,"org.id3",u.value);e.u&&e.u.onHlsTimedMetadata(r,o)}}function Md(e,t,n,i,r){t=new Map().set("startTime",t).set("endTime",n).set("metadataType",i).set("payload",r),e.dispatchEvent(Ve("metadata",t))}function GI(e,t){if(t&&t.kind=="chapters"){t.mode="hidden";var n=new oe(function(){t.mode="hidden"}).Sa().X(.5);e.Yd.push(function(){n.stop()})}}f.qk=function(){for(var e=this.Y;e.g;)e.release()},f.ed=function(e){return new Cu(e)};function Zy(e,t){function n(r){t()?t().dispatchEvent(r):e.dispatchEvent(r)}function i(r){t()?$s(t(),!0,r):r()}return t||(t=function(){return null}),new Fe(function(r,o,s,a){var u=t()?t().i:e.o;u&&u.segmentDownloaded(r,o,s,a)},function(r,o,s){o=new Map().set("headers",r).set("request",o).set("requestType",s),n(Ve("downloadheadersreceived",o)),i(function(){if(e.ha){var a=e.ha;if(a.h.enabled){var u=r["cmsd-static"];if(u)try{var l=new Map,c=u.split(",");for(u=0;u<c.length;u++){var h=c[u].split("=");l.set(h[0],Fy(h[1]))}}catch{}if(l=r["cmsd-dynamic"]){try{var d=new Map,p=l.split(";");for(l=1;l<p.length;l++){var m=p[l].split("=");d.set(m[0],Fy(m[1]))}var v=d}catch{v=null}v&&(a.g=v)}}}})},function(r,o,s,a){r=new Map().set("request",r).set("error",o).set("httpResponseCode",s).set("aborted",a),n(Ve("downloadfailed",r))},function(r,o,s){i(function(){var a=e.P,u=s;if(u=u===void 0?{}:u,a.g.enabled)if(o.method==="HEAD")Eo(a,o);else switch(r){case 0:try{if(a.g.enabled){if(u.type){e:{switch(u.type){case 4:var l=a.j?Zu:Qu;break e;case 3:case 2:l=a.j?tl:el;break e;case 5:l="s";break e}l=void 0}a.i=l}Eo(a,o,{ot:by,su:!a.l})}}catch(_){or("CMCD_MANIFEST_ERROR","Could not generate manifest CMCD data.",_)}break;case Pn:try{if(a.g.enabled){var c=u.segment;l=0,c&&(l=c.endTime-c.startTime);var h={d:1e3*l,st:a.h.T()?"l":"v"};h.ot=MI(u);var d=h.ot===Yu||h.ot===Xu||h.ot===$u||h.ot===Ju,p=u.stream;if(p){var m=a.h.Va();if(d&&(h.bl=kI(a,p.type),h.ot!==Ju)){var v=jy(a,p.type);h.dl=m?v/Math.abs(m):v}if(p.bandwidth&&(h.br=p.bandwidth/1e3),p.segmentIndex&&c){var y=p.segmentIndex.cc(c.endTime,!0,0>m);if(y){var E=y.next().value;if(E&&E!=c){if(!Ts(c.R(),E.R())){var S=E.R()[0],w=o.uris[0],A=new URL(S),x=new URL(w);if(A.origin!==x.origin)var I=S;else{for(var C=A.pathname.split("/").slice(1),L=x.pathname.split("/").slice(1,-1);C[0]===L[0];)C.shift(),L.shift();for(;L.length;)L.shift(),C.unshift("..");I=C.join("/")}h.nor=I}if((E.$a||E.La)&&(c.$a!=E.$a||c.La!=E.La)){var P=E.$a+"-";E.La&&(P+=E.La),h.nrr=P}}}var M=a.h.Va()||1,D=jy(a,p.type)||500,N=p.bandwidth,b=N?N*(c.endTime-c.startTime)/1e3/(D/M/1e3)*a.g.rtpSafetyFactor:NaN;isNaN(b)||(h.rtp=b)}}d&&h.ot!==Ju&&(h.tb=RI(a,h.ot)/1e3),Eo(a,o,h)}}catch(_){or("CMCD_SEGMENT_ERROR","Could not generate segment CMCD data.",_)}break;case 2:case 5:case 6:Eo(a,o,{ot:"k"});break;case 4:Eo(a,o,{ot:"o"})}})},function(r,o,s,a){(r=t()?t().j:e.J)&&r.banLocation&&r.banLocation(a)},function(r,o){if(o.data){o=o.data.byteLength;var s=t()?t().getStats():e.A;s&&(s.Gc=isNaN(s.Gc)?o:s.Gc+o,r===0&&(s.Th=o))}})}function VI(e,t){return new uy(e.h,e.i,e.g.streaming,t,function(){e.Mb&&py(e.Mb,!0),e.j&&e.j.wd(),e.O&&Cr(e)},function(n){return e.dispatchEvent(n)})}function HI(e,t){t=new Ku(e.Ac,e.T()||0<t),t.addEventListener("enter",function(i){ta(e,"timelineregionenter",i.region)}),t.addEventListener("exit",function(i){ta(e,"timelineregionexit",i.region)}),t.addEventListener("skip",function(i){var r=i.region;i.seeking||(ta(e,"timelineregionenter",r),ta(e,"timelineregionexit",r))});var n=new fy(e.h);return n.g.add(t),e.zc&&n.g.add(e.zc),n}function e0(e,t,n){e.O=new Nw,e.O.g=ro,nv(e.O,n,Math.min(.5,n/2)),Ld(e),e.xf=new oe(function(){Cr(e)}).Ba(.25),e.l.s(t,"waiting",function(){return Cr(e)}),e.l.s(t,"stalled",function(){return Cr(e)}),e.l.s(t,"canplaythrough",function(){return Cr(e)}),e.l.s(t,"progress",function(){return Cr(e)})}function Cr(e){switch(e.m){case yt:if(e.h.ended)var t=!0;else{var n=Fh(e.h.buffered);t=n!=null&&n>=e.h.duration-1}break;case Ct:e:if(e.h.ended||Yv(e.K))t=!0;else{if(e.i.presentationTimeline.T()){n=e.i.presentationTimeline.tc();var i=Fh(e.h.buffered);if(i!=null&&i>=n){t=!0;break e}}t=!1}break;default:t=!1}i=Ov(e.h.buffered,e.h.currentTime),n=e.O;var r=t,o=n.i.get(n.g);t=n.g,i=r||i>=o?Ps:ro,n.g=i,(t=t!=i)&&i===Ps&&(n.h=Date.now()),t&&Ld(e)}function zI(e,t,n,i){return new Wv(e,t,n,i)}function KI(e){return new Oy({getBandwidthEstimate:function(){return e.o?e.o.getBandwidthEstimate():NaN},Vb:function(){return e.Vb()},getCurrentTime:function(){return e.h?e.h.currentTime:0},Va:function(){return e.Va()},Gb:function(){return e.Gb()},Jb:function(){return e.Jb()},T:function(){return e.T()}},e.g.cmcd)}function qI(e){return new Sy(e.i,{Kd:function(){return e.I?e.I.le():0},getBandwidthEstimate:function(){return e.o.getBandwidthEstimate()},Va:function(){return e.Va()},oa:e.K,ic:e.H,onError:function(t){return xo(e,t)},onEvent:function(t){return e.dispatchEvent(t)},gk:function(){e.J&&e.J.update&&e.J.update()},Hg:function(t,n){var i=t.startTime;t=t.endTime;var r=n.type;if(n=n.codecs.includes(","),r!=me){if(e.I){e.I.Zh();var o=Wh(e.K,r);!e.T()&&e.h.paused&&o!=null&&0<o&&e.I.le()<o&&e.I.Df(o)}Cr(e)}i=new Map().set("start",i).set("end",t).set("contentType",r).set("isMuxed",n),e.dispatchEvent(Ve("segmentappended",i))},fk:function(t,n){(n=n.pd)&&e.zc&&bx(e.zc,n,t)},rh:function(t,n){var i=e.C;if(i.h.parseInbandPsshEnabled&&!i.H&&["audio","video"].includes(t)){t=new gv(fe(n)),n=0;for(var r=g(t.data),o=r.next();!o.done;o=r.next())n+=o.value.length;if(n==0)i=Promise.resolve();else{for(n=new Uint8Array(n),r=0,t=g(t.data),o=t.next();!o.done;o=t.next())o=o.value,n.set(o,r),r+=o.length;Ns(i,"cenc",n),i=i.m}}else i=Promise.resolve();return i},onMetadata:function(t,n,i){Qy(e,t,n,i)},disableStream:function(t,n){return e.disableStream(t,n)}})}f.configure=function(e,t){if(arguments.length==2&&typeof e=="string"&&(e=Xs(e,t)),e.streaming&&"forceTransmuxTS"in e.streaming&&(Ke("streaming.forceTransmuxTS configuration","Please Use mediaSource.forceTransmux instead."),e.mediaSource.mediaSource=e.streaming.forceTransmuxTS,delete e.streaming.forceTransmuxTS),e.streaming&&"forceTransmux"in e.streaming&&(Ke("streaming.forceTransmux configuration","Please Use mediaSource.forceTransmux instead."),e.mediaSource.mediaSource=e.streaming.forceTransmux,delete e.streaming.forceTransmux),e.streaming&&"useNativeHlsOnSafari"in e.streaming&&(Ke("streaming.useNativeHlsOnSafari configuration","Please Use streaming.useNativeHlsForFairPlay or streaming.preferNativeHls instead."),e.streaming.preferNativeHls=e.streaming.useNativeHlsOnSafari&&ar(),delete e.streaming.useNativeHlsOnSafari),e.streaming&&typeof e.streaming.liveSync=="boolean"){Ke("streaming.liveSync","Please Use streaming.liveSync.enabled instead.");var n=e.streaming.liveSync;e.streaming.liveSync={},e.streaming.liveSync.enabled=n}if(e.streaming&&!(e.streaming.liveSync&&"targetLatency"in e.streaming.liveSync)&&("liveSyncMinLatency"in e.streaming||"liveSyncMaxLatency"in e.streaming)){n=e.streaming.liveSyncMinLatency||0;var i=Math.abs((e.streaming.liveSyncMaxLatency||1)-n)/2;e.streaming.liveSync=e.streaming.liveSync||{},e.streaming.liveSync.targetLatency=n+i,e.streaming.liveSync.targetLatencyTolerance=i}if(e.streaming&&"liveSyncMaxLatency"in e.streaming&&(Ke("streaming.liveSyncMaxLatency","Please Use streaming.liveSync.targetLatency and streaming.liveSync.targetLatencyTolerance instead. Or, set the values in your DASH manifest"),delete e.streaming.liveSyncMaxLatency),e.streaming&&"liveSyncMinLatency"in e.streaming&&(Ke("streaming.liveSyncMinLatency","Please Use streaming.liveSync.targetLatency and streaming.liveSync.targetLatencyTolerance instead. Or, set the values in your DASH manifest"),delete e.streaming.liveSyncMinLatency),e.streaming&&"liveSyncTargetLatency"in e.streaming&&(Ke("streaming.liveSyncTargetLatency","Please Use streaming.liveSync.targetLatency instead."),e.streaming.liveSync=e.streaming.liveSync||{},e.streaming.liveSync.targetLatency=e.streaming.liveSyncTargetLatency,delete e.streaming.liveSyncTargetLatency),e.streaming&&"liveSyncTargetLatencyTolerance"in e.streaming&&(Ke("streaming.liveSyncTargetLatencyTolerance","Please Use streaming.liveSync.targetLatencyTolerance instead."),e.streaming.liveSync=e.streaming.liveSync||{},e.streaming.liveSync.targetLatencyTolerance=e.streaming.liveSyncTargetLatencyTolerance,delete e.streaming.liveSyncTargetLatencyTolerance),e.streaming&&"liveSyncPlaybackRate"in e.streaming&&(Ke("streaming.liveSyncPlaybackRate","Please Use streaming.liveSync.maxPlaybackRate instead."),e.streaming.liveSync=e.streaming.liveSync||{},e.streaming.liveSync.maxPlaybackRate=e.streaming.liveSyncPlaybackRate,delete e.streaming.liveSyncPlaybackRate),e.streaming&&"liveSyncMinPlaybackRate"in e.streaming&&(Ke("streaming.liveSyncMinPlaybackRate","Please Use streaming.liveSync.minPlaybackRate instead."),e.streaming.liveSync=e.streaming.liveSync||{},e.streaming.liveSync.minPlaybackRate=e.streaming.liveSyncMinPlaybackRate,delete e.streaming.liveSyncMinPlaybackRate),e.streaming&&"liveSyncPanicMode"in e.streaming&&(Ke("streaming.liveSyncPanicMode","Please Use streaming.liveSync.panicMode instead."),e.streaming.liveSync=e.streaming.liveSync||{},e.streaming.liveSync.panicMode=e.streaming.liveSyncPanicMode,delete e.streaming.liveSyncPanicMode),e.streaming&&"liveSyncPanicThreshold"in e.streaming&&(Ke("streaming.liveSyncPanicThreshold","Please Use streaming.liveSync.panicThreshold instead."),e.streaming.liveSync=e.streaming.liveSync||{},e.streaming.liveSync.panicThreshold=e.streaming.liveSyncPanicThreshold,delete e.streaming.liveSyncPanicThreshold),e.mediaSource&&"sourceBufferExtraFeatures"in e.mediaSource){Ke("mediaSource.sourceBufferExtraFeatures configuration","Please Use mediaSource.addExtraFeaturesToSourceBuffer() instead.");var r=e.mediaSource.sourceBufferExtraFeatures;e.mediaSource.addExtraFeaturesToSourceBuffer=function(){return r},delete e.mediaSource.sourceBufferExtraFeatures}return e.manifest&&e.manifest.hls&&"useSafariBehaviorForLive"in e.manifest.hls&&(Ke("manifest.hls.useSafariBehaviorForLive configuration","Please Use liveSync config to keep on live Edge instead."),delete e.manifest.hls.useSafariBehaviorForLive),e.streaming&&e.streaming.lowLatencyMode&&(e.streaming.inaccurateManifestTolerance==null&&(e.streaming.inaccurateManifestTolerance=0),e.streaming.rebufferingGoal==null&&(e.streaming.rebufferingGoal=.01),e.streaming.segmentPrefetchLimit==null&&(e.streaming.segmentPrefetchLimit=2),e.streaming.updateIntervalSeconds==null&&(e.streaming.updateIntervalSeconds=.1),e.streaming.maxDisabledTime==null&&(e.streaming.maxDisabledTime=1),e.streaming.retryParameters==null&&(e.streaming.retryParameters={}),e.streaming.retryParameters.baseDelay==null&&(e.streaming.retryParameters.baseDelay=100),e.manifest==null&&(e.manifest={}),e.manifest.dash==null&&(e.manifest.dash={}),e.manifest.dash.autoCorrectDrift==null&&(e.manifest.dash.autoCorrectDrift=!1),e.manifest.retryParameters==null&&(e.manifest.retryParameters={}),e.manifest.retryParameters.baseDelay==null&&(e.manifest.retryParameters.baseDelay=100),e.drm==null&&(e.drm={}),e.drm.retryParameters==null&&(e.drm.retryParameters={}),e.drm.retryParameters.baseDelay==null&&(e.drm.retryParameters.baseDelay=100)),n=$i(this.g,e,ki(this)),t0(this),n};function t0(e){if(e.uf=new Oh(e.g,e.ka,e.C),e.J){var t=Qn(e.g.manifest);e.h&&e.h.nodeName==="AUDIO"&&(t.disableVideo=!0),e.J.configure(t)}if(e.C&&e.C.configure(e.g.drm),e.j){e.j.configure(e.g.streaming);try{e.m!=Nn&&Rv(e.uf,e.i)&&Ut(e)}catch(r){xo(e,r)}e.o&&Mr(e),t=e.j.j,!t||t.allowedByApplication&&t.allowedByKeySystem||wo(e)}if(e.H&&(e.H.Xg(e.g.streaming.forceHTTP),e.H.Yg(e.g.streaming.forceHTTPS),e.H.m=e.g.streaming.minBytesForProgressEvents),e.K&&(e.K.configure(e.g.mediaSource),e.K.ha=e.g.manifest.segmentRelativeVttTiming),e.G)if(t=e.g.textDisplayFactory,e.ie!=t){var n=e.G;if(e.G=t(),e.G.configure?e.G.configure(e.g.textDisplayer):Ke("Text displayer w/ configure",'Text displayer should have a "configure" method!'),e.G.setTextVisibility(n.isTextVisible()),n.destroy(),e.K){n=e.K;var i=e.G;n.Y=i,n.g&&(n.g.j=i)}e.ie=t,e.j&&(t=e.j,(n=t.i.get(me))&&mo(t,n.stream,!0,0,!0))}else e.G.configure&&e.G.configure(e.g.textDisplayer);e.o&&(e.o.configure(e.g.abr),e.g.abr.enabled?e.o.enable():e.o.disable(),h0(e)),e.O&&(t=e.g.streaming.rebufferingGoal,e.i&&(t=Math.max(t,e.i.minBufferTime)),nv(e.O,t,Math.min(.5,t/2))),e.i&&_d(e.i.presentationTimeline,e.g.playRangeStart,e.g.playRangeEnd),e.u&&e.u.configure(e.g.ads),e.P&&e.P.configure(e.g.cmcd),e.ha&&e.ha.configure(e.g.cmsd)}f.getConfiguration=function(){var e=ki(this);return $i(e,this.g,ki(this)),e},f.Kh=function(){var e=ki(this);return $i(e,this.g,ki(this)),Iy(this.g,ki(this))},f.Gh=function(){if(this.h){var e=this.h.buffered.length;e=e?this.h.buffered.end(e-1):0;var t=this.getConfiguration().streaming.bufferingGoal;if(t=Math.min(this.h.currentTime+t,this.Ga().end),e>=t)return 1;if(!(e<=this.h.currentTime)&&e<t)return(e-this.h.currentTime)/(t-this.h.currentTime)}return 0},f.wk=function(){for(var e in this.g)delete this.g[e];$i(this.g,ki(this),ki(this)),t0(this)},f.sc=function(){return this.m},f.mg=function(){return this.i?this.i.type:null},f.vj=function(){return this.h},f.Gb=function(){return this.H},f.kd=function(){return this.aa},f.ye=function(){return this.u?this.u:null},f.T=function(){return this.i&&!this.ib()?this.i.presentationTimeline.T():this.h&&this.h.src?this.h.duration==1/0:!1},f.Qc=function(){return this.i?this.i.presentationTimeline.Qc():!1},f.Pc=function(){if(this.i&&!this.ib()){var e=this.i.variants;return e.length?!e[0].video:!1}return this.h&&this.h.src?this.h.videoTracks?this.h.videoTracks.length==0:this.h.videoHeight==0:!1},f.Ga=function(){if(this.i&&!this.ib()){if(!this.Ha&&this.i.type=="HLS")return{start:0,end:0};var e=this.i.presentationTimeline;return{start:e.dc(),end:e.Wb()}}return this.h&&this.h.src&&(e=this.h.seekable,e.length)?{start:e.start(0),end:e.end(e.length-1)}:{start:0,end:0}},f.Lj=function(){this.T()&&(this.h.currentTime=this.Ga().end)},f.Qh=function(){return this.Ha},f.keySystem=function(){var e=this.drmInfo();return e?e.keySystem:""},f.drmInfo=function(){return this.C?this.C.g:null},f.Jd=function(){return this.C?this.C.Jd():1/0},f.ig=function(){return this.C?this.C.ig():[]},f.Ae=function(){return this.C?this.C.Ae():{}},f.He=function(){return this.O?this.O.g==ro:!1},f.Va=function(){return this.h?this.L?this.L.i:1:0},f.Yc=function(e,t){var n=this;t=t===void 0?!0:t,e==0?de("A trick play rate of 0 is unsupported!"):(this.Ta.Za(),this.h.paused&&this.h.play(),this.L.set(e),this.m==Ct&&(this.o.playbackRateChanged(e),ud(this.j,t&&1<Math.abs(e))),this.T()&&this.Ta.s(this.h,"timeupdate",function(){var i=n.h.currentTime,r=n.Ga(),o=n.g.streaming.safeSeekOffset;0<e?Math.floor(i)>=Math.floor(r.end)&&n.cd():Math.floor(i)<=Math.floor(r.start+o)&&n.cd()}))},f.cd=function(){var e=this.L.Kc();this.m==yt&&this.L.set(e),this.m==Ct&&(this.L.set(e),this.o.playbackRateChanged(e),ud(this.j,!1)),this.Ta.Za()},f.Jb=function(){if(this.i&&!this.ib()){for(var e=this.j?this.j.j:null,t=[],n=0,i=g(this.i.variants),r=i.next();!r.done;r=i.next())if(r=r.value,Rs(r)){var o=no(r);o.active=r==e,o.active||n==1||e==null||r.video!=e.video||r.audio!=e.audio||(o.active=!0),o.active&&n++,t.push(o)}return t}return this.h&&this.h.audioTracks?Array.from(this.h.audioTracks).map(function(s){return Rh(s)}):[]},f.vc=function(){if(this.i&&!this.ib()){for(var e=this.j?this.j.u:null,t=[],n=g(this.i.textStreams),i=n.next();!i.done;i=n.next()){i=i.value;var r=yu(i);r.active=i==e,t.push(r)}return t}return this.h&&this.h.src&&this.h.textTracks?ea(this).map(function(o){return Km(o)}):[]},f.ze=function(){var e=this.be;return this.i&&(e=this.i.imageStreams),e.map(function(t){return Mh(t)})},f.$i=function(e){var t=this,n,i,r,o;return k(function(s){return s.g==1?t.m!=Ct&&t.m!=yt?s.return(null):(n=t.be,t.i&&(n=t.i.imageStreams),(i=n.find(function(a){return a.id==e}))?i.segmentIndex?s.B(2):T(s,i.createSegmentIndex(),2):s.return(null)):s.g!=4?(r=[],i.segmentIndex.Ub(function(a){var u=n0(a.tilesLayout||i.tilesLayout);if(u){u=u.rows*u.Hc;for(var l=a.j-a.startTime,c=0;c<u;c++)r.push(t.og(e,a.startTime+l*c/u))}}),T(s,Promise.all(r),4)):(o=s.h,s.return(o.filter(function(a){return a})))})};function n0(e){return e&&(e=/(\d+)x(\d+)/.exec(e))?{Hc:parseInt(e[1],10),rows:parseInt(e[2],10)}:null}f.og=function(e,t){var n=this,i,r,o,s,a,u,l,c,h,d,p,m,v,y,E,S,w,A;return k(function(x){return x.g==1?n.m!=Ct&&n.m!=yt?x.return(null):(i=n.be,n.i&&(i=n.i.imageStreams),(r=i.find(function(I){return I.id==e}))?r.segmentIndex?x.B(2):T(x,r.createSegmentIndex(),2):x.return(null)):(o=r.segmentIndex.find(t),o==null||(s=r.segmentIndex.get(o),a=n0(s.tilesLayout||r.tilesLayout),!a)?x.return(null):(u=r.width||0,l=r.height||0,c=u/a.Hc,h=l/a.rows,d=a.Hc*a.rows,p=s.j-s.startTime,m=s.C||p/d,v=s.startTime,E=y=0,1<d&&(S=Math.floor((t-s.startTime)/m),v=s.startTime+S*m,y=S%a.Hc*c,E=Math.floor(S/a.Hc)*h),w=!1,(A=s.A)&&(w=!0,h=A.height,y=A.positionX,E=A.positionY,c=A.width),x.return({segment:s,imageHeight:l,imageWidth:u,height:h,positionX:y,positionY:E,startTime:v,duration:m,uris:s.R(),width:c,sprite:w})))})},f.Tg=function(e){if(this.i&&this.j&&!this.ib()){var t=this.i.textStreams.find(function(i){return i.id==e.id});t&&t!=this.j.u&&(nd(this.A.h,t,!1),Fu(this.j,t),ol(this),this.Kb=t.language)}else if(this.h&&this.h.src&&this.h.textTracks){var n=ea(this);t=n.find(function(i){return i.mode!=="disabled"}),n=n.find(function(i){return kh(i)===e.id}),t!==n&&(t&&(t.mode="disabled",this.l.Ma(t,"cuechange"),this.G.remove(0,1/0)),n&&i0(this,n)),ol(this)}};function i0(e,t){e.l.s(t,"cuechange",function(){e.G.remove(0,Math.max(0,e.h.currentTime-e.g.streaming.bufferBehind));var n=Array.from(t.activeCues||[]).map(mI).filter(Ei);e.G.append(n)}),t.mode=document.pictureInPictureElement?"showing":"hidden"}f.gf=function(e,t,n){if(t=t===void 0?!1:t,n=n===void 0?0:n,this.i&&this.j&&!this.ib()){var i=this.i.variants.find(function(o){return o.id==e.id});if(i&&Rs(i)){var r=this.j.j;this.g.abr.enabled&&(r.video!=i.video||r.audio&&i.audio&&r.audio.language==i.audio.language&&r.audio.channelsCount==i.audio.channelsCount)&&de("Changing tracks while abr manager is enabled will likely result in the selected track being overriden. Consider disabling abr before calling selectVariantTrack()."),rl(this,i,!1,t,n),this.Ia=new tv(i,this.g.mediaSource.codecSwitchingStrategy,this.g.manifest.dash.enableAudioGroups),Mr(this)}}else if(this.h&&this.h.audioTracks){for(t=Array.from(this.h.audioTracks),t=g(t),n=t.next();!n.done;n=t.next())if(n=n.value,kh(n)==e.id){u0(this,n);break}}},f.bj=function(){return p0(this.Jb())},f.Cj=function(){return p0(this.vc())},f.aj=function(){return Array.from(f0(this.Jb()))},f.Bj=function(){return Array.from(f0(this.vc()))},f.Rg=function(e,t,n,i,r){if(n=n===void 0?0:n,i=i===void 0?0:i,r=r===void 0?"":r,this.i&&this.I&&!this.ib()){this.Ia=new io(e,t||"",n,"",!1,"","","",this.g.mediaSource.codecSwitchingStrategy,this.g.manifest.dash.enableAudioGroups,r),e=function(s,a){return s.video||a.video?s.video&&a.video?Math.abs((s.video.height||0)-(a.video.height||0))+Math.abs((s.video.width||0)-(a.video.width||0)):1/0:0},t=this.j.j,r=this.Ia.create(this.i.variants),n=null,r=g(r.values());for(var o=r.next();!o.done;o=r.next())o=o.value,Rs(o)&&(!n||e(n,t)>e(o,t))&&(n=o);n!=t&&(n?(e=no(n),this.gf(e,!0,i)):wo(this))}else this.h&&this.h.audioTracks&&(i=Ls(this.Jb(),e,t||"",!1)[0])&&this.gf(i)},f.Sg=function(e,t,n){n=n===void 0?!1:n,this.i&&this.I&&!this.ib()?(this.Kb=e,this.ae=t||"",this.Zd=n,(e=Ls(this.i.textStreams,this.Kb,this.ae,this.Zd)[0]||null)&&e!=this.j.u&&(nd(this.A.h,e,!1),this.g.streaming.alwaysStreamText||this.Rc())&&(Fu(this.j,e),ol(this))):(e=Ls(this.vc(),e,t||"",n)[0])&&this.Tg(e)},f.Dk=function(e,t,n){if(t=t===void 0?!0:t,n=n===void 0?0:n,this.i&&this.I&&!this.ib()){for(var i=null,r=g(this.i.variants),o=r.next();!o.done;o=r.next())if(o=o.value,o.audio.label==e){i=o;break}i!=null&&(this.Ia=new io(i.language,"",0,"",!1,"",e,"",this.g.mediaSource.codecSwitchingStrategy,this.g.manifest.dash.enableAudioGroups),wo(this,t,n))}else if(this.h&&this.h.audioTracks){for(n=Array.from(this.h.audioTracks),t=null,n=g(n),i=n.next();!i.done;i=n.next())i=i.value,i.label==e&&(t=i);t&&u0(this,t)}},f.Rc=function(){var e=this.ra;return this.G?this.G.isTextVisible():e},f.Hh=function(){return this.h&&this.h.src&&this.h.textTracks?r0(this).map(function(e){return Km(e)}):[]},f.jg=function(e){if(!this.h||!this.h.src||!this.h.textTracks)return[];var t=Ce(e),n=r0(this).filter(function(a){return Ce(a.language)==t});if(!n||!n.length)return[];e=[];var i=new Set;n=g(n);for(var r=n.next();!r.done;r=n.next())if((r=r.value)&&r.cues){r=g(r.cues);for(var o=r.next();!o.done;o=r.next()){var s=o.value;(o=s.id)&&o!=""||(o=s.startTime+"-"+s.endTime+"-"+s.text),s={id:o,title:s.text,startTime:s.startTime,endTime:s.endTime},i.has(o)||(e.push(s),i.add(o))}}return e};function ea(e){return Array.from(e.h.textTracks).filter(function(t){return t.kind!="metadata"&&t.kind!="chapters"&&t.label!="Shaka Player TextTrack"})}function WI(e){return Array.from(e.h.textTracks).filter(function(t){return t.kind=="metadata"})}function r0(e){return Array.from(e.h.textTracks).filter(function(t){return t.kind=="chapters"})}f.jf=function(e){e=!!e,this.ra!=e&&(this.ra=e,this.m==Ct?(this.G.setTextVisibility(e),this.g.streaming.alwaysStreamText||(e?this.j.u||(e=Ls(this.i.textStreams,this.Kb,this.ae,this.Zd),0<e.length&&(Fu(this.j,e[0]),ol(this))):qx(this.j))):this.h&&this.h.src&&this.h.textTracks&&this.G.setTextVisibility(e),c0(this))},f.wj=function(){if(this.I)var e=this.I.le();else{if(this.na==null)return new Date;e=this.na}if(this.i&&!this.ib()){var t=this.i.presentationTimeline;return new Date(1e3*((t.m||t.i)+e))}return this.h&&this.h.getStartDate?(t=this.h.getStartDate(),isNaN(t.getTime())?null:new Date(t.getTime()+1e3*e)):null},f.Lh=function(){if(this.i&&!this.ib()){var e=this.i.presentationTimeline;return new Date(1e3*(e.m||e.i))}return this.h&&this.h.getStartDate?(e=this.h.getStartDate(),isNaN(e.getTime())?null:e):null},f.Ce=function(){return this.T()&&this.i?this.i.presentationTimeline.Ce():null},f.Vb=function(){if(this.m==Ct)return this.K.Vb();var e={total:[],audio:[],video:[],text:[]};return this.m==yt&&(e.total=Yi(this.h.buffered)),e},f.getStats=function(){if(this.m!=Ct&&this.m!=yt)return{width:NaN,height:NaN,streamBandwidth:NaN,decodedFrames:NaN,droppedFrames:NaN,corruptedFrames:NaN,stallsDetected:NaN,gapsJumped:NaN,estimatedBandwidth:NaN,completionPercent:NaN,loadLatency:NaN,manifestTimeSeconds:NaN,drmTimeSeconds:NaN,playTime:NaN,pauseTime:NaN,bufferingTime:NaN,licenseTime:NaN,liveLatency:NaN,maxSegmentDuration:NaN,manifestSizeBytes:NaN,bytesDownloaded:NaN,nonFatalErrorCount:NaN,manifestPeriodCount:NaN,manifestGapCount:NaN,switchHistory:[],stateHistory:[]};Pd(this);var e=this.h,t=e.currentTime/e.duration;if(!isNaN(t)&&!this.T()){var n=this.A;t=Math.round(100*t),n.i=isNaN(n.i)?t:Math.max(n.i,t)}if(this.I&&(this.A.S=this.I.kh(),this.A.V=this.I.lh()),e.getVideoPlaybackQuality){n=e.getVideoPlaybackQuality(),t=this.A;var i=Number(n.totalVideoFrames);t.P=Number(n.droppedVideoFrames),t.O=i,this.A.N=Number(n.corruptedVideoFrames)}if(this.C?(n=this.C,n=n.J?n.J:NaN):n=NaN,this.A.o=n,this.m==Ct){if(n=this.j.j,t=this.j.u,n){i=this.L?this.L.i:1;var r=i*n.bandwidth;t&&t.bandwidth&&(r+=i*t.bandwidth),this.A.A=r}n&&n.video&&(t=this.A,i=n.video.height||NaN,t.m=n.video.width||NaN,t.l=i),this.T()&&(n=this.Lh().valueOf()+1e3*e.currentTime,this.A.C=(Date.now()-n)/1e3),this.i&&(this.A.I=this.i.periodCount,this.A.H=this.i.gapCount,this.i.presentationTimeline&&(this.A.K=this.i.presentationTimeline.h)),n=this.o.getBandwidthEstimate(),this.A.u=n}this.m==yt&&(n=this.A,n.Gc=isNaN(n.Gc)?NaN:n.Gc+NaN,n=this.A,t=e.videoHeight||NaN,n.m=e.videoWidth||NaN,n.l=t);var o=this.A;e=o.m,n=o.l,t=o.A,i=o.O,r=o.P;var s=o.N,a=o.V,u=o.S,l=o.u,c=o.i,h=o.G,d=o.J,p=o.j,m=td(o.g,"playing"),v=td(o.g,"paused"),y=td(o.g,"buffering"),E=o.o,S=o.C,w=o.K,A=o.Th,x=o.Gc,I=o.L,C=o.I,L=o.H,P=Nx(o.g),M=[];o=g(o.h.g);for(var D=o.next();!D.done;D=o.next())D=D.value,M.push({timestamp:D.timestamp,id:D.id,type:D.type,fromAdaptation:D.fromAdaptation,bandwidth:D.bandwidth});return{width:e,height:n,streamBandwidth:t,decodedFrames:i,droppedFrames:r,corruptedFrames:s,stallsDetected:a,gapsJumped:u,estimatedBandwidth:l,completionPercent:c,loadLatency:h,manifestTimeSeconds:d,drmTimeSeconds:p,playTime:m,pauseTime:v,bufferingTime:y,licenseTime:E,liveLatency:S,maxSegmentDuration:w,manifestSizeBytes:A,bytesDownloaded:x,nonFatalErrorCount:I,manifestPeriodCount:C,manifestGapCount:L,stateHistory:P,switchHistory:M}},f.Qi=function(e,t,n,i,r,o,s){s=s===void 0?!1:s;var a=this,u,l,c,h,d,p,m,v,y,E,S,w;return k(function(A){switch(A.g){case 1:if(a.m!=Ct&&a.m!=yt)throw new R(1,7,7004);if(n!="subtitles"&&n!="captions"&&de("Using a kind value different of `subtitles` or `captions` can cause unwanted issues."),i){A.B(2);break}return T(A,kd(a,e),3);case 3:i=A.h;case 2:if(u=[],a.u&&(u=a.u.getCuePoints()),a.m!=yt){A.B(4);break}return s&&(n="forced"),T(A,o0(a,e,t,n,i,o||"",u),5);case 5:if(l=Ce(t),c=a.vc(),h=c.find(function(x){return Ce(x.language)==l&&x.label==(o||"")&&x.kind==n}))return Ut(a),A.return(h);throw new R(1,2,2012);case 4:if(d=it,p=a.h.duration,a.i&&(p=a.i.presentationTimeline.getDuration()),p==1/0)throw new R(1,4,4033);if(!u.length){A.B(6);break}return T(A,Rd(a,e,a.H,a.g.streaming.retryParameters),7);case 7:m=A.h,v=s0(a,m,i,u),y=new Blob([v],{type:"text/vtt"}),e=$h(y),i="text/vtt";case 6:if(E={id:a.Af++,originalId:null,groupId:null,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:ed(0,p,[e]),mimeType:i||"",codecs:r||"",kind:n,encrypted:!1,drmInfos:[],keyIds:new Set,language:t,originalLanguage:t,label:o||null,type:d.Na,primary:!1,trickModeVideo:null,emsgSchemeIdUris:null,roles:[],forced:!!s,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null,accessibilityPurpose:null,external:!0,fastSwitching:!1,fullMimeTypes:new Set([ot(i||"",r||"")])},S=ot(E.mimeType,E.codecs),w=Ms(S),!w)throw new R(2,2,2014,i);return a.i.textStreams.push(E),Ut(a),A.return(yu(E))}})},f.Ri=function(e,t){var n=this,i,r,o,s,a,u,l,c,h,d,p,m,v,y,E,S,w;return k(function(A){switch(A.g){case 1:if(n.m!=Ct&&n.m!=yt)throw new R(1,7,7004);if(t){A.B(2);break}return T(A,kd(n,e),3);case 3:t=A.h;case 2:if(t!="text/vtt")throw new R(1,2,2017,e);if(i=it,r=n.h.duration,n.i&&(r=n.i.presentationTimeline.getDuration()),r==1/0)throw new R(1,4,4045);return T(A,Rd(n,e,n.H,n.g.streaming.retryParameters),4);case 4:if(o=A.h,s=tt[t],!s)throw new R(2,2,2014,t);for(a=s(),u={periodStart:0,segmentStart:0,segmentEnd:r,vttOffset:0},l=fe(o),c=a.parseMedia(l,u,e,[]),h=[],d=g(c),p=d.next(),m={};!p.done;m={rf:void 0,fd:void 0},p=d.next())m.fd=p.value,m.rf=null,v=function(x){return function(){return x.rf==null&&(x.rf=pt([e],[x.fd.payload])),x.rf||[]}}(m),y=new ie(m.fd.startTime,m.fd.endTime,v,0,null,null,0,0,1/0),m.fd.payload.includes("#xywh")&&(E=m.fd.payload.split("#xywh=")[1].split(","),E.length===4&&y.ti({height:parseInt(E[3],10),positionX:parseInt(E[0],10),positionY:parseInt(E[1],10),width:parseInt(E[2],10)})),h.push(y);if(S=t,!h.length){A.B(5);break}return T(A,qu(h[0].R()[0],n.H,n.g.manifest.retryParameters),6);case 6:S=A.h;case 5:return w={id:n.Af++,originalId:null,groupId:null,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:new we(h),mimeType:S||"",codecs:"",kind:"",encrypted:!1,drmInfos:[],keyIds:new Set,language:"und",originalLanguage:null,label:null,type:i.Bf,primary:!1,trickModeVideo:null,emsgSchemeIdUris:null,roles:[],forced:!1,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null,tilesLayout:"1x1",accessibilityPurpose:null,external:!0,fastSwitching:!1,fullMimeTypes:new Set([ot(S||"","")])},n.m==yt?n.be.push(w):n.i.imageStreams.push(w),Ut(n),A.return(Mh(w))}})},f.Pi=function(e,t,n){var i=this,r,o,s,a;return k(function(u){switch(u.g){case 1:if(i.m!=Ct&&i.m!=yt)throw new R(1,7,7004);if(n){u.B(2);break}return T(u,kd(i,e),3);case 3:n=u.h;case 2:return r=[],i.u&&(r=i.u.getCuePoints()),T(u,o0(i,e,t,"chapters",n,"",r),4);case 4:if(o=u.h,s=i.Hh(),a=s.find(function(l){return l.language==t}),!a){u.B(5);break}return T(u,new Promise(function(l,c){i.l.sa(o,"load",l),i.l.sa(o,"error",function(){c(new R(1,2,2015))})}),6);case 6:return Ut(i),u.return(a);case 5:throw new R(1,2,2012)}})};function kd(e,t){var n;return k(function(i){switch(i.g){case 1:return Z(i,2),T(i,qu(t,e.H,e.g.streaming.retryParameters),4);case 4:n=i.h,he(i,3);break;case 2:ee(i);case 3:if(n)return i.return(n);throw new R(1,2,2011,t)}})}function o0(e,t,n,i,r,o,s){var a,u,l,c;return k(function(h){if(h.g==1)return r!="text/vtt"||s.length?T(h,Rd(e,t,e.H,e.g.streaming.retryParameters),3):h.B(2);h.g!=2&&(a=h.h,u=s0(e,a,r,s),l=new Blob([u],{type:"text/vtt"}),t=$h(l),r="text/vtt"),c=document.createElement("track");var d=e.P,p=t;try{if(d.g.enabled){var m=Ed(d);m.ot=wd,m.su=!0;var v=Wu(m),y=Ad(p,v)}else y=p}catch(E){or("CMCD_TEXT_TRACK_ERROR","Could not generate text track CMCD data.",E),y=p}return c.src=y,c.label=o,c.kind=i,c.srclang=n,e.h.getAttribute("crossorigin")||e.h.setAttribute("crossorigin","anonymous"),e.h.appendChild(c),h.return(c)})}function Rd(e,t,n,i){var r,o,s;return k(function(a){if(a.g==1){r=Pn,o=ct([t],i),o.method="GET";var u=e.P;try{u.g.enabled&&Eo(u,o,{ot:wd,su:!0})}catch(l){or("CMCD_TEXT_ERROR","Could not generate text CMCD data.",l)}return T(a,n.request(r,o).promise,2)}return s=a.h,a.return(s.data)})}function s0(e,t,n,i){var r=tt[n];if(r)return n=r(),e={periodStart:0,segmentStart:0,segmentEnd:e.h.duration,vttOffset:0},t=fe(t),t=n.parseMedia(t,e,null,[]),AI(t,i);throw new R(2,2,2014,n)}f.Jk=function(e,t){this.ka.width=e,this.ka.height=t},f.Pg=function(e){if(this.m==Ct){var t=this.j;if(e=e===void 0?.1:e,t.m.g)t=!1;else if(t.A)t=!1;else{for(var n=g(t.i.values()),i=n.next();!i.done;i=n.next())i=i.value,!i.Nd||i.fb||i.Sb||(i.Nd=!1,gn(t,i,e));t=!0}}else t=!1;return t},f.lg=function(){return de("Shaka Player's internal Manifest structure is NOT covered by semantic versioning compatibility guarantees.  It may change at any time!  Please consider filing a feature request for whatever you use getManifest() for."),this.i},f.sj=function(){return this.bb},f.lj=function(){var e={video:null,audio:null,text:null};if(this.m!=Ct)return e;var t=this.j.j,n=this.h.currentTime;t=g([t.video,t.audio,this.j.u]);for(var i=t.next();!i.done;i=t.next())if((i=i.value)&&i.segmentIndex){var r=i.segmentIndex.find(n);r=i.segmentIndex.get(r),r={codecs:r.codecs||i.codecs,mimeType:r.mimeType||i.mimeType,bandwidth:r.bandwidth||i.bandwidth},i.type=="video"?(r.width=i.width,r.height=i.height,e.video=r):i.type=="audio"?e.audio=r:i.type==me&&(e.text=r)}return e};function ki(e){var t=yo();return t.streaming.failureCallback=function(n){if(e.T()){var i=null;n.code==1001||n.code==1002?(i=1,e.g.streaming.lowLatencyMode&&(i=.1)):n.code==1003&&(i=.1),i!=null&&(n.severity=1,e.Pg(i))}},t.textDisplayFactory=function(){if(e.wf){var n=e.getConfiguration();return new $t(e.h,e.wf,n.textDisplayer)}return HTMLMediaElement.prototype.addTextTrack?new Xt(e.h,"Shaka Player TextTrack"):new Yt},t}f.ah=function(e){this.wf=e};function XI(e,t){for(var n=new Set,i=g(t.textStreams),r=i.next();!r.done;r=i.next())r=r.value,r.mimeType!="application/cea-608"&&r.mimeType!="application/cea-708"||n.add(r.originalId);for(i=g(t.variants),r=i.next();!r.done;r=i.next())if((r=r.value.video)&&r.closedCaptions){for(var o=g(r.closedCaptions.keys()),s=o.next();!s.done;s=o.next())if(s=s.value,!n.has(s)){var a=s.startsWith("CC")?"application/cea-608":"application/cea-708",u=new Xe,l=r.closedCaptions.get(s);a={id:e.Af++,originalId:s,groupId:null,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:u,mimeType:a,codecs:"",kind:"caption",encrypted:!1,drmInfos:[],keyIds:new Set,language:l,originalLanguage:l,label:null,type:me,primary:!1,trickModeVideo:null,emsgSchemeIdUris:null,roles:r.roles,forced:!1,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null,accessibilityPurpose:null,external:!1,fastSwitching:!1,fullMimeTypes:new Set([ot(a,"")])},t.textStreams.push(a),n.add(s)}}}function YI(e,t){var n,i,r,o,s;return k(function(a){return a.g==1?(n=e.audio,i=e.video,r=function(u,l){var c,h,d;return k(function(p){return p.g==1?u?T(p,u.createSegmentIndex(),2):p.return(null):(h=(c=u.segmentIndex.cc(l))?c.next().value:null,h?(d=h.startTime,p.return(d)):p.return(null))})},T(a,r(n,t),2)):a.g!=3?(o=a.h,T(a,r(i,t),3)):(s=a.h,s!=null&&o!=null?a.return(Math.max(s,o)):s!=null?a.return(s):o!=null?a.return(o):a.return(t))})}function Ld(e){var t=e.He();if(e.A&&e.O&&e.I){var n=e.L;if(n.j=t,dy(n),e.P&&(n=e.P,t||n.l||(n.l=!0),n.l&&t&&(n.m=!0),n.o=t),Pd(e),n=e.g.streaming.liveSync.dynamicTargetLatency.maxAttempts,e.g.streaming.liveSync.dynamicTargetLatency.enabled&&t&&e.ke<n){n=e.g.streaming.liveSync.dynamicTargetLatency.maxLatency;var i=e.g.streaming.liveSync.targetLatencyTolerance,r=e.g.streaming.liveSync.dynamicTargetLatency.rebufferIncrement;e.S&&(e.S=Math.min(e.S+ ++e.ke*r,n-i))}}t=new Map().set("buffering",t),e.dispatchEvent(Ve("buffering",t))}function Pd(e){if(e.A&&e.O){var t=e.A.g,n="playing";e.O.g==ro?n="buffering":e.h.ended?n="ended":e.h.paused&&(n="paused");var i=n;if(t.g==null)t.g={timestamp:Date.now()/1e3,state:i,duration:0},t=!0;else{var r=Date.now()/1e3;t.g.duration=r-t.g.timestamp,t.g.state==i?t=!1:(t.h.push(t.g),t.g={timestamp:r,state:i,duration:0},t=!0)}t&&(n=new Map().set("newstate",n),e.dispatchEvent(Ve("statechanged",n)))}}function a0(e){var t=e.h.playbackRate,n=e.T();if(e.g.streaming.vodDynamicPlaybackRate&&!n){var i=e.g.streaming.vodDynamicPlaybackRateLowBufferRate,r=e.Gh();r<=e.g.streaming.vodDynamicPlaybackRateBufferRatio?t!=i&&e.Yc(i,!1):r==1&&t!==e.L.Kc()&&e.cd()}if(n&&(n=e.Ga(),Number.isFinite(n.end)&&!(e.h.currentTime<n.start))){i=e.g.streaming.liveSync.targetLatencyTolerance,r=e.g.streaming.liveSync.dynamicTargetLatency.enabled;var o=e.g.streaming.liveSync.dynamicTargetLatency.stabilityThreshold;if(e.g.streaming.liveSync&&e.g.streaming.liveSync.enabled)var s=e.g.streaming.liveSync.targetLatency,a=s+i,u=Math.max(0,s-i),l=e.g.streaming.liveSync.maxPlaybackRate,c=e.g.streaming.liveSync.minPlaybackRate;else e.i&&e.i.serviceDescription&&(s=e.i.serviceDescription.targetLatency,e.i.serviceDescription.targetLatency!=null?a=e.i.serviceDescription.targetLatency+i:e.i.serviceDescription.maxLatency!=null&&(a=e.i.serviceDescription.maxLatency),e.i.serviceDescription.targetLatency!=null?u=Math.max(0,e.i.serviceDescription.targetLatency-i):e.i.serviceDescription.minLatency!=null&&(u=e.i.serviceDescription.minLatency),l=e.i.serviceDescription.maxPlaybackRate||e.g.streaming.liveSync.maxPlaybackRate,c=e.i.serviceDescription.minPlaybackRate||e.g.streaming.liveSync.minPlaybackRate);e.S||typeof s!="number"||(e.S=s);var h=e.g.streaming.liveSync.dynamicTargetLatency.maxAttempts;r&&e.Ja&&e.S!==null&&typeof s=="number"&&e.ke<h&&Date.now()-e.Ja>1e3*o&&(o=e.g.streaming.liveSync.dynamicTargetLatency.minLatency,e.S=Math.max(e.S-(s-o)/2,o+i),e.Ja=Date.now()),r&&e.S!==null&&(a=e.S+i,u=e.S-i),s=n.end-e.h.currentTime,i=0,e.m==yt&&(r=e.h.buffered,0<r.length&&(i=r.end(r.length-1),i=Math.max(l,i-n.end))),n=e.g.streaming.liveSync.panicMode,r=1e3*e.g.streaming.liveSync.panicThreshold,o=Date.now()-e.O.h,n&&!c&&(c=e.g.streaming.liveSync.minPlaybackRate),n&&c&&o<=r?t!=c&&e.Yc(c,!1):a&&l&&s-i>a?(t!=l&&e.Yc(l,!1),e.Ja=null):u&&c&&s-i<u?(t!=c&&e.Yc(c,!1),e.Ja=null):t!==e.L.Kc()&&(e.cd(),e.Ja=Date.now())}}function il(e){if(e.h){var t=!1,n=e.h.currentTime/e.h.duration;if(isNaN(n)||(n=Math.round(100*n),isNaN(e.V)?(e.V=n,t=!0):(n=Math.max(e.V,n),e.V!=n&&(e.V=n,t=!0))),t){var i;e.V==0?i=Ve("started"):e.V==25?i=Ve("firstquartile"):e.V==50?i=Ve("midpoint"):e.V==75?i=Ve("thirdquartile"):e.V==100&&(i=Ve("complete")),i&&e.dispatchEvent(i)}}}function Mr(e){try{Lv(e.uf,e.i)}catch(n){return xo(e,n),!1}var t=Tu(e.i.variants);return t=e.Ia.create(t),e.o.setVariants(Array.from(t.values())),!0}function wo(e,t,n,i,r){t=t===void 0?!0:t,n=n===void 0?0:n,i=i===void 0?!1:i,r=r===void 0?!0:r;var o;(o=Mr(e)?e.o.chooseVariant():null)&&rl(e,o,r,t,n,i)}function rl(e,t,n,i,r,o){o=o===void 0?!1:o;var s=e.j.j;if(t==s)i&&Ey(e.j,t,i,r,!0);else{var a=e.A.h;a.h!=t&&(a.h=t,a.g.push({timestamp:Date.now()/1e3,id:t.id,type:"variant",fromAdaptation:n,bandwidth:t.bandwidth})),Ey(e.j,t,i,r,o,n),i=null,s&&(i=no(s)),t=no(t),t.active=!0,n?(n=new Map().set("oldTrack",i).set("newTrack",t),e.N&&qv(e.N,t,e.mg()),n=Ve("adaptation",n),Io(e,n)):l0(e,i,t)}}function u0(e,t){var n=Array.from(e.h.audioTracks).find(function(i){return i.enabled});t.enabled=!0,n&&(t.id!==n.id&&(n.enabled=!1),n=Rh(n),t=Rh(t),l0(e,n,t))}function $I(e,t,n){if(e.g.autoShowText==0)return!1;if(e.g.autoShowText==1)return!0;var i=Ce(e.g.preferredTextLanguage);return n=Ce(n.language),e.g.autoShowText==2?zr(n,i):e.g.autoShowText==3?t?(e=Ce(t.language),zr(n,i)&&!zr(e,n)):!1:(de("Invalid autoShowText setting!"),!1)}function Ut(e){var t=Ve("trackschanged");Io(e,t)}function l0(e,t,n){t=new Map().set("oldTrack",t).set("newTrack",n),e.N&&qv(e.N,n,e.mg()),n=Ve("variantchanged",t),Io(e,n)}function ol(e){var t=Ve("textchanged");Io(e,t)}function c0(e){var t=Ve("texttrackvisibility");Io(e,t)}function h0(e){e.g.abr.enabled||Dd(e);var t=new Map().set("newStatus",e.g.abr.enabled);Io(e,Ve("abrstatuschanged",t))}function Dd(e,t){if(t=t===void 0?!0:t,e.m==Ct){e.yf.stop();for(var n=g(e.i.variants),i=n.next();!i.done;i=n.next())i.value.disabledUntilTime=0;t&&Mr(e)}}f.disableStream=function(e,t){if(!this.g.abr.enabled||this.m===Nn||!navigator.onLine||t==0||!this.i)return!1;if(this.i.variants.some(function(a){var u=a[e.type];return u&&u.id!==e.id&&!a.disabledUntilTime?e.type=="audio"?e.language===u.language:!0:!1})){for(var n=!1,i=!1,r=g(this.i.variants),o=r.next();!o.done;o=r.next()){o=o.value;var s=o[e.type];s&&(s.id===e.id?(o.disabledUntilTime=Date.now()/1e3+t,n=!0):s.trickModeVideo&&s.trickModeVideo.id==e.id&&(i=!0))}return!n&&i?!1:(this.yf.Ba(1),t=this.Vb().video.reduce(function(a,u){return a+u.end-u.start},0),wo(this,!1,t,!0,!1),!0)}return!1};function xo(e,t){var n,i,r,o;return k(function(s){switch(s.g){case 1:if(e.m==Nn)return s.return();if(t.severity===1&&e.A.L++,n=!0,!(e.Ha&&e.i&&e.j)||t.code!=3016&&t.code!=3014&&t.code!=3015&&t.code!=3018){s.B(2);break}return Z(s,3),T(s,xy(e.j),5);case 5:i=s.h,n=!i,i&&(r=Ve("mediasourcerecovered"),e.dispatchEvent(r)),he(s,2);break;case 3:ee(s),n=!0;case 2:if(!n)return s.return();t.severity===2&&Dd(e,!1),o=Ve("error",new Map().set("detail",t)),e.dispatchEvent(o),o.defaultPrevented&&(t.handled=!0),H(s)}})}f.addFont=function(e,t){var n,i,r,o,s;return k(function(a){if(a.g==1)return"fonts"in document&&"FontFace"in O?T(a,document.fonts.ready,3):a.B(0);if(!("entries"in document.fonts))return a.return();for(n=function(u){u=u.entries();for(var l=[],c=u.next();c.done===!1;)l.push(c.value),c=u.next();return l},i=g(n(document.fonts)),r=i.next();!r.done;r=i.next())if(o=r.value,o.family==e&&o.display=="swap")return a.return();s=new FontFace(e,"url("+t+")",{display:"swap"}),document.fonts.add(s),H(a)})};function ta(e,t,n,i){i=i===void 0?e:i,e=new Map().set("detail",{schemeIdUri:n.schemeIdUri,value:n.value,startTime:n.startTime,endTime:n.endTime,id:n.id,eventElement:n.eventElement,eventNode:n.eventNode}),i.dispatchEvent(Ve(t,e))}function d0(e,t,n,i){i=i===void 0?!1:i,t=new Map().set("mediaQuality",{bandwidth:t.bandwidth,audioSamplingRate:t.audioSamplingRate,codecs:t.codecs,contentType:t.contentType,frameRate:t.frameRate,height:t.height,mimeType:t.mimeType,channelsCount:t.channelsCount,pixelAspectRatio:t.pixelAspectRatio,width:t.width,label:t.label,roles:t.roles,language:t.language}).set("position",n),e.dispatchEvent(Ve(i?"audiotrackchanged":"mediaqualitychanged",t))}function Nd(e,t){if(t=t===void 0?!0:t,!e.h.error)return t?new R(2,3,3016):null;var n=e.h.error.code;return!t&&n==1?null:((t=e.h.error.msExtendedCode)&&(0>t&&(t+=Math.pow(2,32)),t=t.toString(16)),new R(2,3,3016,n,t,e.h.error.message))}function _d(e,t,n){0<t&&(e.T()||e.xi(t)),t=e.getDuration(),n<t&&(e.T()||e.vb(n))}function Io(e,t){k(function(n){if(n.g==1)return T(n,Promise.resolve(),2);e.m!=Nn&&e.dispatchEvent(t),H(n)})}function f0(e){var t=new Set;e=g(e);for(var n=e.next();!n.done;n=e.next())n=n.value,n.language?t.add(Ce(n.language)):t.add("und");return t}function p0(e){var t=new Map,n=new Map;e=g(e);for(var i=e.next();!i.done;i=e.next()){i=i.value;var r="und",o=[];i.language&&(r=Ce(i.language)),i.type=="variant"?o=i.audioRoles:o=i.roles,o&&o.length||(o=[""]),t.has(r)||t.set(r,new Set),o=g(o);for(var s=o.next();!s.done;s=o.next())s=s.value,t.get(r).add(s),i.label&&(n.has(r)||n.set(r,new Map),n.get(r).set(s,i.label))}var a=[];return t.forEach(function(u,l){u=g(u);for(var c=u.next();!c.done;c=u.next()){c=c.value;var h=null;n.has(l)&&n.get(l).has(c)&&(h=n.get(l).get(c)),a.push({language:l,role:c,label:h})}}),a}f.ib=function(){return this.h&&this.h.remote?this.h.remote.state!="disconnected":!1},G("shaka.Player",j),j.prototype.isRemotePlayback=j.prototype.ib,j.prototype.addFont=j.prototype.addFont,j.prototype.setVideoContainer=j.prototype.ah,j.prototype.getFetchedPlaybackInfo=j.prototype.lj,j.prototype.getManifestParserFactory=j.prototype.sj,j.prototype.getManifest=j.prototype.lg,j.prototype.retryStreaming=j.prototype.Pg,j.prototype.setMaxHardwareResolution=j.prototype.Jk,j.prototype.addChaptersTrack=j.prototype.Pi,j.prototype.addThumbnailsTrack=j.prototype.Ri,j.prototype.addTextTrackAsync=j.prototype.Qi,j.prototype.getStats=j.prototype.getStats,j.prototype.getBufferedInfo=j.prototype.Vb,j.prototype.getSegmentAvailabilityDuration=j.prototype.Ce,j.prototype.getPresentationStartTimeAsDate=j.prototype.Lh,j.prototype.getPlayheadTimeAsDate=j.prototype.wj,j.prototype.setTextTrackVisibility=j.prototype.jf,j.prototype.getChapters=j.prototype.jg,j.prototype.getChaptersTracks=j.prototype.Hh,j.prototype.isTextTrackVisible=j.prototype.Rc,j.prototype.selectVariantsByLabel=j.prototype.Dk,j.prototype.selectTextLanguage=j.prototype.Sg,j.prototype.selectAudioLanguage=j.prototype.Rg,j.prototype.getTextLanguages=j.prototype.Bj,j.prototype.getAudioLanguages=j.prototype.aj,j.prototype.getTextLanguagesAndRoles=j.prototype.Cj,j.prototype.getAudioLanguagesAndRoles=j.prototype.bj,j.prototype.selectVariantTrack=j.prototype.gf,j.prototype.selectTextTrack=j.prototype.Tg,j.prototype.getThumbnails=j.prototype.og,j.prototype.getAllThumbnails=j.prototype.$i,j.prototype.getImageTracks=j.prototype.ze,j.prototype.getTextTracks=j.prototype.vc,j.prototype.getVariantTracks=j.prototype.Jb,j.prototype.cancelTrickPlay=j.prototype.cd,j.prototype.trickPlay=j.prototype.Yc,j.prototype.getPlaybackRate=j.prototype.Va,j.prototype.isBuffering=j.prototype.He,j.prototype.getKeyStatuses=j.prototype.Ae,j.prototype.getActiveSessionsMetadata=j.prototype.ig,j.prototype.getExpiration=j.prototype.Jd,j.prototype.drmInfo=j.prototype.drmInfo,j.prototype.keySystem=j.prototype.keySystem,j.prototype.isFullyLoaded=j.prototype.Qh,j.prototype.goToLive=j.prototype.Lj,j.prototype.seekRange=j.prototype.Ga,j.prototype.isAudioOnly=j.prototype.Pc,j.prototype.isInProgress=j.prototype.Qc,j.prototype.isLive=j.prototype.T,j.prototype.getAdManager=j.prototype.ye,j.prototype.getAssetUri=j.prototype.kd,j.prototype.getNetworkingEngine=j.prototype.Gb,j.prototype.getMediaElement=j.prototype.vj,j.prototype.getManifestType=j.prototype.mg,j.prototype.getLoadMode=j.prototype.sc,j.prototype.resetConfiguration=j.prototype.wk,j.prototype.getBufferFullness=j.prototype.Gh,j.prototype.getNonDefaultConfiguration=j.prototype.Kh,j.prototype.getConfiguration=j.prototype.getConfiguration,j.prototype.configure=j.prototype.configure,j.prototype.releaseAllMutexes=j.prototype.qk,j.prototype.destroyAllPreloads=j.prototype.Sf,j.prototype.preload=j.prototype.preload,j.prototype.detachAndSavePreload=j.prototype.Ch,j.prototype.unloadAndSavePreload=j.prototype.Nk,j.prototype.load=j.prototype.load,j.prototype.updateStartTime=j.prototype.Rk,j.prototype.unload=j.prototype.nc,j.prototype.detach=j.prototype.detach,j.prototype.attachCanvas=j.prototype.oh,j.prototype.attach=j.prototype.$b,j.probeSupport=function(e){e=e===void 0?!0:e;var t,n,i,r,o,s,a;return k(function(u){switch(u.g){case 1:if(t={},!e){u.B(2);break}return T(u,Yw(),3);case 3:t=u.h;case 2:var l={};if(Gn())for(var c in Dn)l[c]=!0;c=g(["application/dash+xml","application/x-mpegurl","application/vnd.apple.mpegurl","application/vnd.ms-sstr+xml"]);for(var h=c.next();!h.done;h=c.next())h=h.value,l[h]=Gn()?!!Dn[h]:hs(h);for(n=l,c='video/mp4; codecs="avc1.42E01E",video/mp4; codecs="avc3.42E01E",video/mp4; codecs="hev1.1.6.L93.90",video/mp4; codecs="hvc1.1.6.L93.90",video/mp4; codecs="hev1.2.4.L153.B0"; eotf="smpte2084",video/mp4; codecs="hvc1.2.4.L153.B0"; eotf="smpte2084",video/mp4; codecs="vp9",video/mp4; codecs="vp09.00.10.08",video/mp4; codecs="av01.0.01M.08",video/mp4; codecs="dvh1.20.01",audio/mp4; codecs="mp4a.40.2",audio/mp4; codecs="ac-3",audio/mp4; codecs="ec-3",audio/mp4; codecs="ac-4.02.01.01",audio/mp4; codecs="opus",audio/mp4; codecs="flac",audio/mp4; codecs="dtsc",audio/mp4; codecs="dtse",audio/mp4; codecs="dtsx",video/webm; codecs="vp8",video/webm; codecs="vp9",video/webm; codecs="vp09.00.10.08",audio/webm; codecs="vorbis",audio/webm; codecs="opus",video/mp2t; codecs="avc1.42E01E",video/mp2t; codecs="avc3.42E01E",video/mp2t; codecs="hvc1.1.6.L93.90",video/mp2t; codecs="mp4a.40.2",video/mp2t; codecs="ac-3",video/mp2t; codecs="ec-3",text/vtt,application/mp4; codecs="wvtt",application/ttml+xml,application/mp4; codecs="stpp"'.split(",").concat(X(Wi)),l={},c=g(c),h=c.next();!h.done;h=c.next()){h=h.value,l[h]=Ms(h)?!0:Gn()?rt(h)||!!zi(h):hs(h);var d=h.split(";")[0];l[d]=l[d]||l[h]}return i=l,T(u,om(),4);case 4:r=u.h,o={manifest:n,media:i,drm:t,hardwareResolution:r},s=Ud;for(a in s)o[a]=s[a]();return u.return(o)}})},j.isBrowserSupported=Ky,j.setAdManagerFactory=function(e){al=e},j.registerSupportPlugin=function(e,t){Ud[e]=t},j.prototype.destroy=j.prototype.destroy;var Nn=0,sl=1,Ct=2,yt=3;j.LoadMode={DESTROYED:Nn,NOT_LOADED:sl,MEDIA_SOURCE:Ct,SRC_EQUALS:yt},j.version="v4.11.11";var g0=["4","11"];pm=new function(e){this.g=e,this.i=QA,this.h=ZA}(new ph(Number(g0[0]),Number(g0[1])));var Ud={},al=null;function m0(){this.g=[],this.i=this.l=this.j=this.h=0}function JI(e){return e.g.length?e.g.reduce(function(t,n){return t+n},0)/e.g.length:0}function ae(e,t,n){var i=this;this.g=e,this.h=t,this.j=n,this.i=!1,this.l=this.h.getVolume(),this.m=new Ae,this.m.s(this.h,google.ima.AdEvent.Type.PAUSED,function(){i.i=!0}),this.m.s(this.h,google.ima.AdEvent.Type.RESUMED,function(){i.i=!1})}f=ae.prototype,f.needsSkipUI=function(){return!1},f.isClientRendering=function(){return!0},f.getDuration=function(){return this.g.getDuration()},f.getMinSuggestedDuration=function(){return this.g.getMinSuggestedDuration()},f.getRemainingTime=function(){return this.h.getRemainingTime()},f.isPaused=function(){return this.i},f.isSkippable=function(){return 0<=this.g.getSkipTimeOffset()},f.getTimeUntilSkippable=function(){var e=this.g.getSkipTimeOffset();return e=this.getRemainingTime()-e,Math.max(e,0)},f.canSkipNow=function(){return this.h.getAdSkippableState()},f.skip=function(){return this.h.skip()},f.pause=function(){return this.h.pause()},f.play=function(){return this.h.resume()},f.getVolume=function(){return this.h.getVolume()},f.setVolume=function(e){return this.j.volume=e,this.h.setVolume(e)},f.isMuted=function(){return this.h.getVolume()==0},f.isLinear=function(){return this.g.isLinear()},f.resize=function(e,t){var n=!1,i=this.j;document.fullscreenEnabled?n=!!document.fullscreenElement:i.webkitSupportsFullscreen&&(n=i.webkitDisplayingFullscreen),this.h.resize(e,t,n?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL)},f.setMuted=function(e){(this.j.muted=e)?(this.l=this.getVolume(),this.h.setVolume(0)):this.h.setVolume(this.l)},f.getSequenceLength=function(){var e=this.g.getAdPodInfo();return e==null?1:e.getTotalAds()},f.getPositionInSequence=function(){var e=this.g.getAdPodInfo();return e==null?1:e.getAdPosition()},f.getTitle=function(){return this.g.getTitle()},f.getDescription=function(){return this.g.getDescription()},f.getVastMediaBitrate=function(){return this.g.getVastMediaBitrate()},f.getVastMediaHeight=function(){return this.g.getVastMediaHeight()},f.getVastMediaWidth=function(){return this.g.getVastMediaWidth()},f.getAdId=function(){return this.g.getAdId()},f.getCreativeAdId=function(){return this.g.getCreativeAdId()},f.getAdvertiserName=function(){return this.g.getAdvertiserName()},f.getMediaUrl=function(){return this.g.getMediaUrl()},f.getTimeOffset=function(){var e=this.g.getAdPodInfo();return e==null?0:e.getTimeOffset()},f.getPodIndex=function(){var e=this.g.getAdPodInfo();return e==null?0:e.getPodIndex()},f.release=function(){this.h=this.g=null},G("shaka.ads.ClientSideAd",ae),ae.prototype.release=ae.prototype.release,ae.prototype.getPodIndex=ae.prototype.getPodIndex,ae.prototype.getTimeOffset=ae.prototype.getTimeOffset,ae.prototype.getMediaUrl=ae.prototype.getMediaUrl,ae.prototype.getAdvertiserName=ae.prototype.getAdvertiserName,ae.prototype.getCreativeAdId=ae.prototype.getCreativeAdId,ae.prototype.getAdId=ae.prototype.getAdId,ae.prototype.getVastMediaWidth=ae.prototype.getVastMediaWidth,ae.prototype.getVastMediaHeight=ae.prototype.getVastMediaHeight,ae.prototype.getVastMediaBitrate=ae.prototype.getVastMediaBitrate,ae.prototype.getDescription=ae.prototype.getDescription,ae.prototype.getTitle=ae.prototype.getTitle,ae.prototype.getPositionInSequence=ae.prototype.getPositionInSequence,ae.prototype.getSequenceLength=ae.prototype.getSequenceLength,ae.prototype.setMuted=ae.prototype.setMuted,ae.prototype.resize=ae.prototype.resize,ae.prototype.isLinear=ae.prototype.isLinear,ae.prototype.isMuted=ae.prototype.isMuted,ae.prototype.setVolume=ae.prototype.setVolume,ae.prototype.getVolume=ae.prototype.getVolume,ae.prototype.play=ae.prototype.play,ae.prototype.pause=ae.prototype.pause,ae.prototype.skip=ae.prototype.skip,ae.prototype.canSkipNow=ae.prototype.canSkipNow,ae.prototype.getTimeUntilSkippable=ae.prototype.getTimeUntilSkippable,ae.prototype.isSkippable=ae.prototype.isSkippable,ae.prototype.isPaused=ae.prototype.isPaused,ae.prototype.getRemainingTime=ae.prototype.getRemainingTime,ae.prototype.getMinSuggestedDuration=ae.prototype.getMinSuggestedDuration,ae.prototype.getDuration=ae.prototype.getDuration,ae.prototype.isClientRendering=ae.prototype.isClientRendering,ae.prototype.needsSkipUI=ae.prototype.needsSkipUI;function Ge(){}function v0(e,t){var n=[],i=0;t!=null&&(i=t),e=g(Le(e,"Ad"));for(var r=e.next();!r.done;r=e.next())if((r=wt(r.value,"InLine"))&&(r=wt(r,"Creatives"))){r=g(Le(r,"Creative"));for(var o=r.next();!o.done;o=r.next()){var s=wt(o.value,"Linear");if(s&&(o=null,s.attributes.skipoffset&&(o=Es(s.attributes.skipoffset),isNaN(o)&&(o=null)),s=wt(s,"MediaFiles"))){var a=Le(s,"MediaFile");for(s=a,a=a.filter(function(u){return u.attributes.delivery=="streaming"}),a.length&&(s=a),s=s.sort(function(u,l){return(parseInt(l.attributes.height,10)||0)-(parseInt(u.attributes.height,10)||0)}),s=g(s),a=s.next();!a.done;a=s.next())if(a=et(a.value)){n.push({id:null,startTime:i,endTime:null,uri:a,isSkippable:o!=null,skipOffset:o,canJump:!1,resumeOffset:0,playoutLimit:null,once:!0,pre:t==null,post:t==1/0,timelineRange:!1});break}}}}return n}G("shaka.ads.Utils",Ge),Ge.ADS_LOADED="ads-loaded",Ge.AD_STARTED="ad-started",Ge.AD_FIRST_QUARTILE="ad-first-quartile",Ge.AD_MIDPOINT="ad-midpoint",Ge.AD_THIRD_QUARTILE="ad-third-quartile",Ge.AD_COMPLETE="ad-complete",Ge.AD_STOPPED="ad-stopped",Ge.AD_SKIPPED="ad-skipped",Ge.AD_VOLUME_CHANGED="ad-volume-changed",Ge.AD_MUTED="ad-muted",Ge.AD_PAUSED="ad-paused",Ge.AD_RESUMED="ad-resumed",Ge.AD_SKIP_STATE_CHANGED="ad-skip-state-changed",Ge.CUEPOINTS_CHANGED="ad-cue-points-changed",Ge.IMA_AD_MANAGER_LOADED="ima-ad-manager-loaded",Ge.IMA_STREAM_MANAGER_LOADED="ima-stream-manager-loaded",Ge.AD_CLICKED="ad-clicked",Ge.AD_PROGRESS="ad-progress",Ge.AD_BUFFERING="ad-buffering",Ge.AD_IMPRESSION="ad-impression",Ge.AD_DURATION_CHANGED="ad-duration-changed",Ge.AD_CLOSED="ad-closed",Ge.AD_LOADED="ad-loaded",Ge.ALL_ADS_COMPLETED="all-ads-completed",Ge.AD_LINEAR_CHANGED="ad-linear-changed",Ge.AD_METADATA="ad-metadata",Ge.AD_RECOVERABLE_ERROR="ad-recoverable-error",Ge.AD_ERROR="ad-error",Ge.AD_BREAK_READY="ad-break-ready",Ge.AD_INTERACTION="ad-interaction",Ge.AD_CONTENT_PAUSE_REQUESTED="ad-content-pause-requested",Ge.AD_CONTENT_RESUME_REQUESTED="ad-content-resume-requested",Ge.AD_CONTENT_ATTACH_REQUESTED="ad-content-attach-requested";function ul(e,t,n,i,r){var o=this;this.u=e,this.i=t,this.H=!1,this.A=this.o=null,this.I=NaN,this.l=r,this.j=null,this.h=new Ae,google.ima.settings.setLocale(n),google.ima.settings.setDisableCustomPlaybackForIOS10Plus(!0),this.G=new google.ima.AdDisplayContainer(this.u,this.i),this.G.initialize(),this.m=new google.ima.AdsLoader(this.G),this.m.getSettings().setPlayerType("shaka-player"),this.m.getSettings().setPlayerVersion("v4.11.11"),this.g=null,this.C=i||new google.ima.AdsRenderingSettings,this.h.s(this.m,google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,function(s){QI(o,s)}),this.h.s(this.m,google.ima.AdErrorEvent.Type.AD_ERROR,function(s){y0(o,s)}),this.h.s(this.i,"ended",function(){o.m.contentComplete()}),this.h.sa(this.i,"play",function(){o.H=!0})}ul.prototype.configure=function(e){this.o=e},ul.prototype.stop=function(){this.g&&this.g.stop(),this.u&&ni(this.u)},ul.prototype.release=function(){this.stop(),this.A&&this.A.disconnect(),this.h&&this.h.release(),this.g&&this.g.destroy(),this.m.destroy(),this.G.destroy()};function y0(e,t){t.getError(),t=new Map().set("originalEvent",t),e.l(new V("ad-error",t)),cl(e,null),e.l(new V("ad-cue-points-changed",new Map().set("cuepoints",[])))}function QI(e,t){if(e.l(new V("ads-loaded",new Map().set("loadTime",Date.now()/1e3-e.I))),e.o.customPlayheadTracker){var n={currentTime:e.i.currentTime};e.g=t.getAdsManager(n,e.C),e.i.muted?e.g.setVolume(0):e.g.setVolume(e.i.volume),e.h.s(e.i,"timeupdate",function(){e.i.duration&&(n.currentTime=e.i.currentTime)}),e.h.s(e.i,"volumechange",function(){e.j&&(e.j.setVolume(e.i.volume),e.i.muted&&e.j.setMuted(!0))})}else e.g=t.getAdsManager(e.i,e.C);e.l(new V("ima-ad-manager-loaded",new Map().set("imaAdManager",e.g)));var i=e.g.getCuePoints();if(i.length){t=[],i=g(i);for(var r=i.next();!r.done;r=i.next())t.push({start:r.value,end:null});e.l(new V("ad-cue-points-changed",new Map().set("cuepoints",t)))}ZI(e);try{e.g.init(e.i.offsetWidth,e.i.offsetHeight,ll(e)?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL),e.h.s(e.i,"loadeddata",function(){e.g.resize(e.i.offsetWidth,e.i.offsetHeight,ll(e)?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL)}),"ResizeObserver"in O?(e.A=new ResizeObserver(function(){e.g.resize(e.i.offsetWidth,e.i.offsetHeight,ll(e)?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL)}),e.A.observe(e.i)):e.h.s(document,"fullscreenchange",function(){e.g.resize(e.i.offsetWidth,e.i.offsetHeight,ll(e)?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL)}),e.H||e.o.skipPlayDetection?e.g.start():e.h.sa(e.i,"play",function(){e.H=!0,e.g.start()})}catch{cl(e,null)}}function ll(e){return document.fullscreenEnabled?!!document.fullscreenElement:(e=e.i,e.webkitSupportsFullscreen?e.webkitDisplayingFullscreen:!1)}function ZI(e){function t(n,i){n=new Map().set("originalEvent",n),e.l(new V(i,n))}e.h.s(e.g,google.ima.AdErrorEvent.Type.AD_ERROR,function(n){y0(e,n)}),e.h.s(e.g,google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,function(n){T0(e,n)}),e.h.s(e.g,google.ima.AdEvent.Type.STARTED,function(n){T0(e,n)}),e.h.s(e.g,google.ima.AdEvent.Type.FIRST_QUARTILE,function(n){t(n,"ad-first-quartile")}),e.h.s(e.g,google.ima.AdEvent.Type.MIDPOINT,function(n){t(n,"ad-midpoint")}),e.h.s(e.g,google.ima.AdEvent.Type.THIRD_QUARTILE,function(n){t(n,"ad-third-quartile")}),e.h.s(e.g,google.ima.AdEvent.Type.COMPLETE,function(n){t(n,"ad-complete")}),e.h.s(e.g,google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,function(n){cl(e,n)}),e.h.s(e.g,google.ima.AdEvent.Type.ALL_ADS_COMPLETED,function(n){cl(e,n)}),e.h.s(e.g,google.ima.AdEvent.Type.SKIPPED,function(n){t(n,"ad-skipped")}),e.h.s(e.g,google.ima.AdEvent.Type.VOLUME_CHANGED,function(n){t(n,"ad-volume-changed")}),e.h.s(e.g,google.ima.AdEvent.Type.VOLUME_MUTED,function(n){t(n,"ad-muted")}),e.h.s(e.g,google.ima.AdEvent.Type.PAUSED,function(n){e.j&&(e.j.i=!0,t(n,"ad-paused"))}),e.h.s(e.g,google.ima.AdEvent.Type.RESUMED,function(n){e.j&&(e.j.i=!1,t(n,"ad-resumed"))}),e.h.s(e.g,google.ima.AdEvent.Type.SKIPPABLE_STATE_CHANGED,function(n){e.j&&t(n,"ad-skip-state-changed")}),e.h.s(e.g,google.ima.AdEvent.Type.CLICK,function(n){t(n,"ad-clicked")}),e.h.s(e.g,google.ima.AdEvent.Type.AD_PROGRESS,function(n){t(n,"ad-progress")}),e.h.s(e.g,google.ima.AdEvent.Type.AD_BUFFERING,function(n){t(n,"ad-buffering")}),e.h.s(e.g,google.ima.AdEvent.Type.IMPRESSION,function(n){t(n,"ad-impression")}),e.h.s(e.g,google.ima.AdEvent.Type.DURATION_CHANGE,function(n){t(n,"ad-duration-changed")}),e.h.s(e.g,google.ima.AdEvent.Type.USER_CLOSE,function(n){t(n,"ad-closed")}),e.h.s(e.g,google.ima.AdEvent.Type.LOADED,function(n){t(n,"ad-loaded")}),e.h.s(e.g,google.ima.AdEvent.Type.ALL_ADS_COMPLETED,function(n){t(n,"all-ads-completed")}),e.h.s(e.g,google.ima.AdEvent.Type.LINEAR_CHANGED,function(n){t(n,"ad-linear-changed")}),e.h.s(e.g,google.ima.AdEvent.Type.AD_METADATA,function(n){t(n,"ad-metadata")}),e.h.s(e.g,google.ima.AdEvent.Type.LOG,function(n){t(n,"ad-recoverable-error")}),e.h.s(e.g,google.ima.AdEvent.Type.AD_BREAK_READY,function(n){t(n,"ad-break-ready")}),e.h.s(e.g,google.ima.AdEvent.Type.INTERACTION,function(n){t(n,"ad-interaction")})}function T0(e,t){var n=t.getAd();n?(e.j=new ae(n,e.g,e.i),t.type!=google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED||e.o.supportsMultipleMediaElements||e.l(new V("ad-content-pause-requested")),t=new Map().set("ad",e.j).set("sdkAdObject",n).set("originalEvent",t),e.l(new V("ad-started",t)),e.j.isLinear()&&(e.u.setAttribute("ad-active","true"),e.o.customPlayheadTracker||e.i.pause(),e.i.muted?(t=e.j,t.l=e.i.volume,t.h.setVolume(0)):e.j.setVolume(e.i.volume))):de("The IMA SDK fired a "+t.type+" event with no associated ad. Unable to play ad!")}function cl(e,t){t&&t.type==google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED&&!e.o.supportsMultipleMediaElements&&e.l(new V("ad-content-resume-requested")),e.l(new V("ad-stopped",new Map().set("originalEvent",t))),e.j&&e.j.isLinear()&&(e.u.removeAttribute("ad-active"),e.o.customPlayheadTracker||e.i.ended||e.i.play())}function ue(e,t,n,i,r,o){this.g=e,this.h=t,this.j=n,this.l=i,this.m=r,this.i=o}f=ue.prototype,f.needsSkipUI=function(){return!0},f.isClientRendering=function(){return!0},f.getDuration=function(){var e=this.g.duration;return isNaN(e)?-1:e},f.getMinSuggestedDuration=function(){return this.getDuration()},f.getRemainingTime=function(){var e=this.g.duration;return isNaN(e)?-1:e-this.g.currentTime},f.isPaused=function(){return this.g.paused},f.isSkippable=function(){return this.h},f.getTimeUntilSkippable=function(){if(this.h){var e=this.getRemainingTime()+this.j-this.getDuration();return Math.max(e,0)}return Math.max(this.getRemainingTime(),0)},f.canSkipNow=function(){return this.getTimeUntilSkippable()==0},f.skip=function(){this.l()},f.pause=function(){return this.g.pause()},f.play=function(){return this.g.play()},f.getVolume=function(){return this.g.volume},f.setVolume=function(e){this.g.volume=e},f.isMuted=function(){return this.g.muted},f.isLinear=function(){return!0},f.resize=function(){},f.setMuted=function(e){this.g.muted=e},f.getSequenceLength=function(){return this.m},f.getPositionInSequence=function(){return this.i},f.getTitle=function(){return""},f.getDescription=function(){return""},f.getVastMediaBitrate=function(){return 0},f.getVastMediaHeight=function(){return 0},f.getVastMediaWidth=function(){return 0},f.getAdId=function(){return""},f.getCreativeAdId=function(){return""},f.getAdvertiserName=function(){return""},f.getMediaUrl=function(){return null},f.getTimeOffset=function(){return 0},f.getPodIndex=function(){return 0},f.release=function(){this.g=null},G("shaka.ads.InterstitialAd",ue),ue.prototype.release=ue.prototype.release,ue.prototype.getPodIndex=ue.prototype.getPodIndex,ue.prototype.getTimeOffset=ue.prototype.getTimeOffset,ue.prototype.getMediaUrl=ue.prototype.getMediaUrl,ue.prototype.getAdvertiserName=ue.prototype.getAdvertiserName,ue.prototype.getCreativeAdId=ue.prototype.getCreativeAdId,ue.prototype.getAdId=ue.prototype.getAdId,ue.prototype.getVastMediaWidth=ue.prototype.getVastMediaWidth,ue.prototype.getVastMediaHeight=ue.prototype.getVastMediaHeight,ue.prototype.getVastMediaBitrate=ue.prototype.getVastMediaBitrate,ue.prototype.getDescription=ue.prototype.getDescription,ue.prototype.getTitle=ue.prototype.getTitle,ue.prototype.getPositionInSequence=ue.prototype.getPositionInSequence,ue.prototype.getSequenceLength=ue.prototype.getSequenceLength,ue.prototype.setMuted=ue.prototype.setMuted,ue.prototype.resize=ue.prototype.resize,ue.prototype.isLinear=ue.prototype.isLinear,ue.prototype.isMuted=ue.prototype.isMuted,ue.prototype.setVolume=ue.prototype.setVolume,ue.prototype.getVolume=ue.prototype.getVolume,ue.prototype.play=ue.prototype.play,ue.prototype.pause=ue.prototype.pause,ue.prototype.skip=ue.prototype.skip,ue.prototype.canSkipNow=ue.prototype.canSkipNow,ue.prototype.getTimeUntilSkippable=ue.prototype.getTimeUntilSkippable,ue.prototype.isSkippable=ue.prototype.isSkippable,ue.prototype.isPaused=ue.prototype.isPaused,ue.prototype.getRemainingTime=ue.prototype.getRemainingTime,ue.prototype.getMinSuggestedDuration=ue.prototype.getMinSuggestedDuration,ue.prototype.getDuration=ue.prototype.getDuration,ue.prototype.isClientRendering=ue.prototype.isClientRendering,ue.prototype.needsSkipUI=ue.prototype.needsSkipUI;function na(e,t,n,i){var r=this;this.I=e,this.u=t,this.i=n,this.H=null,this.o=!0,this.j=this.i,this.g=i,this.J=new Set,this.C=new Set,this.A=new Map,this.h=new j,jd(this),this.L=new Ae,this.l=new Ae,this.K=!1,this.G=this.m=null,this.L.s(this.i,"timeupdate",function(){if(!r.K&&!r.u.ib()){var o=r.m==null||r.m==0;r.m=r.i.currentTime,r.G&&!r.G.pre&&!r.G.post&&r.m<r.G.startTime&&(r.G=null),(o=S0(r,o,0,r.G))&&E0(r,o,1,1,Date.now())}}),this.N=new oe(function(){var o,s,a,u,l,c,h,d,p,m,v;return k(function(y){switch(y.g){case 1:if(!r.C.size||r.m==null){y.B(0);break}if(o=r.u.sc(),o==Nn||o==sl)return y.return();s=!1,a=Array.from(r.C),u=r.u.Ga(),l=g(a),c=l.next();case 3:if(c.done){y.B(5);break}if(h=c.value,h==r.G){y.B(4);break}if(d=h.endTime||h.startTime,!(1<=u.start-d)){p=h.startTime-r.m,0<p&&10>=p&&(r.A.has(h)||r.A.set(h,r.h.preload(h.uri))),y.B(4);break}if(!r.A.has(h)){y.B(7);break}return T(y,r.A.get(h),8);case 8:(m=y.h)&&m.destroy(),r.A.delete(h);case 7:v=JSON.stringify(h),r.J.has(v)&&r.J.delete(v),r.C.delete(h),s=!0;case 4:c=l.next(),y.B(3);break;case 5:s&&Od(r),H(y)}})}).Ba(1)}na.prototype.configure=function(e){this.I&&this.o==e.supportsMultipleMediaElements&&((this.o=!e.supportsMultipleMediaElements)?(this.j=this.i,this.H&&(this.H.parentElement&&this.I.removeChild(this.H),this.H=null)):(this.H||(e=document.createElement(this.i.tagName),e.autoplay=!0,e.style.position="absolute",e.style.top="0",e.style.left="0",e.style.width="100%",e.style.height="100%",e.style.backgroundColor="rgb(0, 0, 0)",e.setAttribute("playsinline",""),this.H=e),this.j=this.H))},na.prototype.stop=function(){this.l&&this.l.Za(),this.J.clear(),this.C.clear(),this.h.Sf(),this.A.clear(),this.h.detach(),this.K=!1,this.G=this.m=null},na.prototype.release=function(){this.stop(),this.L&&this.L.release(),this.l&&this.l.release(),this.I&&ni(this.I),this.N&&(this.N.stop(),this.N=null),this.h.destroy()};function eC(e,t){var n;k(function(i){if(i.g==1)return e.u.sc()==yt&&e.o?(de("Unsupported HLS interstitial when using single media element",t),i.return()):(jd(e),T(i,tC(e,t),2));n=i.h,n.length?hl(e,n):de("Unsupported HLS interstitial",t),H(i)})}na.prototype.addAdUrlInterstitial=function(e){var t=this,n,i,r,o,s,a,u,l,c;return k(function(h){switch(h.g){case 1:return n={type:12},T(h,bd(t,e,n),2);case 2:if(i=h.h,r=As(i,"VAST,vmap:VMAP"),!r)throw new R(2,10,4001);if(o=[],r.tagName=="VAST"){o=v0(r,t.m),h.B(3);break}if(r.tagName!="vmap:VMAP"){h.B(3);break}for(var d=[],p=g(Le(r,"vmap:AdBreak")),m=p.next();!m.done;m=p.next()){var v=m.value,y=v.attributes.timeOffset;y&&(m=null,y=="start"?m=0:y=="end"?m=1/0:m=Es(y),(v=wt(v,"vmap:AdSource"))&&(v=wt(v,"vmap:AdTagURI"))&&(v=et(v))&&d.push({time:m,uri:v}))}s=g(d),a=s.next();case 5:if(a.done){h.B(3);break}return u=a.value,T(h,bd(t,u.uri,n),8);case 8:if(l=h.h,c=As(l,"VAST"),!c)throw new R(2,10,4001);o.push.apply(o,X(v0(c,u.time))),a=s.next(),h.B(5);break;case 3:hl(t,o),H(h)}})};function hl(e,t){if(e.u.sc()==yt&&e.o)de("Unsupported interstitial when using single media element",t);else{var n=!1;t=g(t);for(var i=t.next();!i.done;i=t.next()){i=i.value;var r=JSON.stringify(i);if(!e.J.has(r)){if(n=!0,e.J.add(r),e.C.add(i),r=!1,i.pre&&e.m==null)r=!0;else if(i.startTime==0&&!i.canJump)r=!0;else if(e.m!=null){var o=i.startTime-e.m;0<o&&10>=o&&(r=!0)}r&&(e.A.has(i)||e.A.set(i,e.h.preload(i.uri)))}}n&&Od(e)}}function S0(e,t,n,i){var r=0,o=null;if(e.C.size&&e.m!=null){var s=e.i.ended,a=Array.from(e.C).sort(function(h,d){return d.startTime-h.startTime});a=g(a);for(var u=a.next();!u.done;u=a.next()){u=u.value;var l=!1;if(t)l=u.pre;else if(s)l=u.post;else if(!u.pre&&!u.post){var c=e.m-Math.round(1e3*u.startTime)/1e3;0<c&&(1>=c||!u.canJump)&&(l=!(1<c&&i&&!i.pre&&!i.post&&i.startTime>=u.startTime))}if(l){if(r==n){o=u;break}r++}}}return o}function E0(e,t,n,i,r,o){o=o===void 0?0:o;var s,a,u,l,c,h,d,p,m,v,y,E,S,w,A,x;k(function(I){switch(I.g){case 1:if(e.G=t,s=Date.now(),!e.j.parentElement&&e.I&&e.I.appendChild(e.j),i==1&&n==1&&(n=Array.from(e.C).filter(function(C){return t.pre?C.pre==t.pre:t.post?C.post==t.post:.001>Math.abs(C.startTime-t.startTime)}).length),(t.once||t.pre)&&(o++,e.C.delete(t),Od(e)),e.K=!0,!e.o||i!=1){I.B(2);break}return e.g(new V("ad-content-pause-requested",new Map().set("saveLivePosition",!0))),a=new De,u=function(C){return k(function(L){if(L.g==1)return C.state!="detach"?L.B(0):oh()?T(L,new Promise(function(P){return new oe(P).X(.1)}),3):L.B(3);a.resolve(),e.l.Ma(e.u,"onstatechange",u),H(L)})},e.l.s(e.u,"onstatechange",u),T(I,a,2);case 2:return e.o||(e.i.pause(),t.resumeOffset!=null&&t.resumeOffset!=0&&(e.i.currentTime+=t.resumeOffset)),l=!1,c=null,h=function(){if(!e.o&&t.resumeOffset==null)if(t.timelineRange&&t.endTime&&t.endTime!=1/0)e.i.currentTime!=t.endTime&&(e.i.currentTime=t.endTime);else{var C=Date.now();e.i.currentTime+=(C-r)/1e3,r=C}},d=function(){var C,L;return k(function(P){if(P.g==1)return h(),c&&c.stop(),(C=S0(e,t.pre,i-o))?(e.g(new V("ad-stopped")),e.l.Za(),E0(e,C,n,++i,r,o),P.B(0)):e.o?T(P,e.h.detach(),4):T(P,e.h.nc(),4);e.o&&(L=t.resumeOffset,L==null&&(L=t.timelineRange&&t.endTime&&t.endTime!=1/0?t.endTime-(e.m||0):(Date.now()-r)/1e3),e.g(new V("ad-content-resume-requested",new Map().set("offset",L)))),e.g(new V("ad-stopped")),e.l.Za(),e.K=!1,e.o||(h(),e.i.ended||e.i.play()),H(P)})},p=function(C){return k(function(L){return l?L.return():(l=!0,e.g(new V("ad-error",new Map().set("originalEvent",C))),T(L,d(),0))})},m=function(){return k(function(C){if(C.g==1)return l?C.return():(l=!0,T(C,d(),2));e.g(new V("ad-complete")),H(C)})},v=function(){return k(function(C){return l?C.return():(l=!0,e.g(new V("ad-skipped")),T(C,d(),0))})},y=new ue(e.j,t.isSkippable,t.skipOffset,v,n,i),e.o||(y.setMuted(e.i.muted),y.setVolume(e.i.volume)),e.g(new V("ad-started",new Map().set("ad",y))),y.canSkipNow()&&e.g(new V("ad-skip-state-changed")),E=new Set,e.l.sa(e.h,"error",p),e.l.s(e.j,"timeupdate",function(){var C=e.j.duration;C&&(t.isSkippable&&t.skipOffset&&y.canSkipNow()&&0<y.getRemainingTime()&&0<y.getDuration()&&e.g(new V("ad-skip-state-changed")),C=100*e.j.currentTime/C,25<=C&&!E.has("firstquartile")?(h(),e.g(new V("ad-first-quartile")),E.add("firstquartile")):50<=C&&!E.has("midpoint")?(h(),e.g(new V("ad-midpoint")),E.add("midpoint")):75<=C&&!E.has("thirdquartile")&&(h(),e.g(new V("ad-third-quartile")),E.add("thirdquartile")))}),e.l.sa(e.h,"complete",m),e.l.s(e.j,"play",function(){e.g(new V("ad-resumed"))}),e.l.s(e.j,"pause",function(){var C=e.h.getConfiguration();e.j.currentTime>=C.playRangeEnd?m():e.g(new V("ad-paused"))}),e.l.s(e.j,"volumechange",function(){e.j.muted?e.g(new V("ad-muted")):e.g(new V("ad-volume-changed"))}),Z(I,4),jd(e),t.startTime&&t.endTime&&t.endTime!=1/0&&t.startTime!=t.endTime&&(S=t.endTime-t.startTime,0<S&&e.h.configure("playRangeEnd",S)),t.playoutLimit&&(c=new oe(function(){y.skip()}).X(t.playoutLimit),e.h.configure("playRangeEnd",t.playoutLimit)),T(I,e.h.$b(e.j),6);case 6:return e.A.has(t)?T(I,e.A.get(t),10):T(I,e.h.load(t.uri),8);case 10:return w=I.h,e.A.delete(t),w?T(I,e.h.load(w),8):T(I,e.h.load(t.uri),8);case 8:t.playoutLimit&&(c&&c.stop(),c=new oe(function(){y.skip()}).X(t.playoutLimit)),A=(Date.now()-s)/1e3,e.g(new V("ads-loaded",new Map().set("loadTime",A))),e.o&&e.i.play(),he(I,0);break;case 4:x=ee(I),p(x),H(I)}})}function tC(e,t){var n,i,r,o,s,a,u,l,c,h,d,p,m,v,y,E,S,w,A,x,I,C,L,P,M,D,N,b,_,U,F,B;return k(function(W){switch(W.g){case 1:if(n=[],!t||(i=t.values.find(function(J){return J.key=="X-ASSET-URI"}),r=t.values.find(function(J){return J.key=="X-ASSET-LIST"}),!i&&!r))return W.return(n);if(o=null,(s=t.values.find(function(J){return J.key=="ID"}))&&(o=s.data),a=t.values.find(function(J){return J.key=="X-RESTRICT"}),l=u=!0,a&&a.data&&(c=a.data,u=!c.includes("SKIP"),l=!c.includes("JUMP")),h=null,(d=t.values.find(function(J){return J.key=="X-RESUME-OFFSET"}))&&(p=d.data,h=parseFloat(p),isNaN(h)&&(h=null)),m=null,(v=t.values.find(function(J){return J.key=="X-PLAYOUT-LIMIT"}))&&(y=v.data,m=parseFloat(y),isNaN(m)&&(m=null)),w=S=E=!1,(A=t.values.find(function(J){return J.key=="CUE"}))&&(x=A.data,E=x.includes("ONCE"),S=x.includes("PRE"),w=x.includes("POST")),I=!1,(C=t.values.find(function(J){return J.key=="X-TIMELINE-OCCUPIES"}))?(L=C.data,I=L.includes("RANGE")):!d&&e.u.T()&&(I=!S&&!w),i){if(P=i.data,!P)return W.return(n);n.push({id:o,startTime:t.startTime,endTime:t.endTime,uri:P,isSkippable:u,skipOffset:u?0:null,canJump:l,resumeOffset:h,playoutLimit:m,once:E,pre:S,post:w,timelineRange:I}),W.B(2);break}if(!r){W.B(2);break}return M=r.data,M?(Z(W,4),D={type:11},T(W,bd(e,M,D),6)):W.return(n);case 6:for(N=W.h,b=ze(N),_=JSON.parse(b),U=g(_.ASSETS),F=U.next();!F.done;F=U.next())B=F.value,B.URI&&n.push({id:o,startTime:t.startTime,endTime:t.endTime,uri:B.URI,isSkippable:u,skipOffset:u?0:null,canJump:l,resumeOffset:h,playoutLimit:m,once:E,pre:S,post:w,timelineRange:I});he(W,2);break;case 4:ee(W);case 2:return W.return(n)}})}function Od(e){for(var t=[],n=g(e.C),i=n.next(),r={};!i.done;r={mc:void 0},i=n.next())i=i.value,r.mc={start:i.startTime,end:null},i.pre?(r.mc.start=0,r.mc.end=null):i.post?(r.mc.start=-1,r.mc.end=null):i.timelineRange&&(r.mc.end=i.endTime),t.find(function(o){return function(s){return o.mc.start==s.start&&o.mc.end==s.end}}(r))||t.push(r.mc);e.g(new V("ad-cue-points-changed",new Map().set("cuepoints",t)))}function jd(e){e.h.configure(e.u.Kh());var t=e.h.Gb();t.wh(),t.xh(),av(e.u.Gb(),t)}function bd(e,t,n){var i,r,o;return k(function(s){return s.g==1?(i=ct([t],Kn()),r=e.u.Gb().request(7,i,n),T(s,r.promise,2)):(o=s.h,s.return(o.data))})}function se(e,t,n,i,r){this.h=e,this.j=Es(this.h.skipOffset),this.g=r,this.i=t,this.l=n,this.o=i,this.m=!1}f=se.prototype,f.needsSkipUI=function(){return!0},f.isClientRendering=function(){return!1},f.getDuration=function(){return this.h.durationInSeconds},f.getMinSuggestedDuration=function(){return this.getDuration()},f.getRemainingTime=function(){return this.h.startTimeInSeconds+this.h.durationInSeconds-this.g.currentTime},f.isPaused=function(){return this.g.paused},f.isSkippable=function(){return typeof this.j=="number"},f.getTimeUntilSkippable=function(){if(typeof this.j!="number")return this.getRemainingTime();var e=this.getRemainingTime()+this.j-this.getDuration();return Math.max(e,0)},f.canSkipNow=function(){return this.getTimeUntilSkippable()==0},f.skip=function(){this.m=!0,this.g.currentTime+=this.getRemainingTime()},f.pause=function(){return this.g.pause()},f.play=function(){return this.g.play()},f.getVolume=function(){return this.g.volume},f.setVolume=function(e){this.g.volume=e},f.isMuted=function(){return this.g.muted},f.isLinear=function(){return this.o},f.resize=function(){},f.setMuted=function(e){this.g.muted=e},f.getSequenceLength=function(){return this.l?this.l:1},f.getPositionInSequence=function(){return this.i?this.i:1},f.getTitle=function(){return this.h.adTitle},f.getDescription=function(){return""},f.getVastMediaBitrate=function(){return 0},f.getVastMediaHeight=function(){return 0},f.getVastMediaWidth=function(){return 0},f.getAdId=function(){return this.h.adId},f.getCreativeAdId=function(){return this.h.creativeId},f.getAdvertiserName=function(){return""},f.getMediaUrl=function(){return null},f.getTimeOffset=function(){return 0},f.getPodIndex=function(){return 0},f.release=function(){this.l=this.i=this.g=this.h=null},G("shaka.ads.MediaTailorAd",se),se.prototype.release=se.prototype.release,se.prototype.getPodIndex=se.prototype.getPodIndex,se.prototype.getTimeOffset=se.prototype.getTimeOffset,se.prototype.getMediaUrl=se.prototype.getMediaUrl,se.prototype.getAdvertiserName=se.prototype.getAdvertiserName,se.prototype.getCreativeAdId=se.prototype.getCreativeAdId,se.prototype.getAdId=se.prototype.getAdId,se.prototype.getVastMediaWidth=se.prototype.getVastMediaWidth,se.prototype.getVastMediaHeight=se.prototype.getVastMediaHeight,se.prototype.getVastMediaBitrate=se.prototype.getVastMediaBitrate,se.prototype.getDescription=se.prototype.getDescription,se.prototype.getTitle=se.prototype.getTitle,se.prototype.getPositionInSequence=se.prototype.getPositionInSequence,se.prototype.getSequenceLength=se.prototype.getSequenceLength,se.prototype.setMuted=se.prototype.setMuted,se.prototype.resize=se.prototype.resize,se.prototype.isLinear=se.prototype.isLinear,se.prototype.isMuted=se.prototype.isMuted,se.prototype.setVolume=se.prototype.setVolume,se.prototype.getVolume=se.prototype.getVolume,se.prototype.play=se.prototype.play,se.prototype.pause=se.prototype.pause,se.prototype.skip=se.prototype.skip,se.prototype.canSkipNow=se.prototype.canSkipNow,se.prototype.getTimeUntilSkippable=se.prototype.getTimeUntilSkippable,se.prototype.isSkippable=se.prototype.isSkippable,se.prototype.isPaused=se.prototype.isPaused,se.prototype.getRemainingTime=se.prototype.getRemainingTime,se.prototype.getMinSuggestedDuration=se.prototype.getMinSuggestedDuration,se.prototype.getDuration=se.prototype.getDuration,se.prototype.isClientRendering=se.prototype.isClientRendering,se.prototype.needsSkipUI=se.prototype.needsSkipUI;function ia(e,t,n,i){this.C=e,this.L=t,this.h=n,this.l=null,this.S=NaN,this.i=i,this.K=!1,this.A=null,this.j=[],this.O=[],this.N=this.G=this.g=null,this.H=new Map,this.m=[],this.u=[],this.I="",this.P=!0,this.J="",this.o=new Ae}ia.prototype.stop=function(){for(var e=g(this.m),t=e.next();!t.done;t=e.next())t=t.value,this.o.Ma(t.target,t.type,t.listener);Co(this),this.m=[],this.u=[],this.I="",this.P=!0,this.J="",this.A=null,this.j=[],this.O=[],this.H.clear()},ia.prototype.release=function(){this.stop(),this.o&&this.o.release()},ia.prototype.onManifestUpdated=function(e){this.K=e,this.I!=""&&(iC(this,this.I,this.P),this.P=!1)},ia.prototype.getCuePoints=function(){for(var e=[],t=g(this.j),n=t.next();!n.done;n=t.next()){n=g(n.value.ads);for(var i=n.next();!i.done;i=n.next())i=i.value,e.push({start:i.startTimeInSeconds,end:i.startTimeInSeconds+i.durationInSeconds})}return e};function nC(e,t,n){var i,r,o,s,a,u,l,c,h,d,p,m;k(function(v){if(v.g==1)return i={type:7},r=ct([t],Kn()),r.method="POST",n&&(o=JSON.stringify(n),r.body=Hn(o)),s=e.L.request(7,r,i),Z(v,2),T(v,s.promise,4);if(v.g!=2){if(a=v.h,u=ze(a.data),l=JSON.parse(u),l.manifestUrl&&l.trackingUrl)c=new $e(t),h=new $e(l.trackingUrl),e.I=c.resolve(h).toString(),d=Date.now()/1e3,p=d-e.S,e.i(new V("ads-loaded",new Map().set("loadTime",p))),m=new $e(l.manifestUrl),e.l.resolve(c.resolve(m).toString()),e.l=null;else throw Error("Insufficient data from MediaTailor.");return he(v,0)}if(ee(v),!e.J.length)return e.l.reject("MediaTailor request returned an error and there was no backup asset uri provided."),e.l=null,v.return();e.l.resolve(e.J),e.l=null,H(v)})}function iC(e,t,n){var i,r,o,s,a,u,l,c,h,d,p,m,v,y,E,S;k(function(w){if(w.g==1)return i={type:8},r=ct([t],Kn()),o=e.L.request(7,r,i),Z(w,2),T(w,o.promise,4);if(w.g!=2){if(s=w.h,a=[],u=ze(s.data),l=JSON.parse(u),0<l.avails.length){if(JSON.stringify(e.j)!=JSON.stringify(l.avails)){for(e.j=l.avails,c=g(e.j),h=c.next();!h.done;h=c.next())for(d=h.value,p=g(d.nonLinearAdsList),m=p.next();!m.done;m=p.next())for(v=m.value,y=g(v.nonLinearAdList),E=y.next();!E.done;E=y.next())S=E.value,rC(e,S);a=e.getCuePoints(),e.i(new V("ad-cue-points-changed",new Map().set("cuepoints",a)))}}else e.j.length&&e.i(new V("ad-cue-points-changed",new Map().set("cuepoints",a))),Co(e),e.j=[];return n&&(e.K||0<a.length)&&oC(e),he(w,0)}ee(w),H(w)})}function rC(e,t){var n,i,r,o,s,a,u,l;k(function(c){if(c.g==1)return!t.staticResource||(n=A0(t),e.H.get(n))?c.return():(i={type:9},r=ct([t.staticResource],Kn()),o=e.L.request(7,r,i),Z(c,2),e.H.set(n,[]),T(c,o.promise,4));if(c.g!=2)return s=c.h,a=ze(s.data),u=JSON.parse(a),l=u.apps,e.H.set(n,l),he(c,0);ee(c),e.H.delete(n),H(c)})}function A0(e){return[e.adId,e.adParameters,e.adSystem,e.adTitle,e.creativeAdId,e.creativeId,e.creativeSequence,e.height,e.width,e.staticResource].join("")}function oC(e){x0(e),e.K||(w0(e),e.o.s(e.h,"seeked",function(){w0(e)}),e.o.s(e.h,"ended",function(){Co(e)})),e.o.s(e.h,"timeupdate",function(){x0(e)})}function w0(e){var t=e.h.currentTime;if(t!=0&&e.A==null){for(var n,i,r=g(e.j),o=r.next();!o.done;o=r.next()){o=o.value;for(var s=g(o.ads),a=s.next();!a.done;a=s.next())if(a=a.value,!i)a.startTimeInSeconds<t&&(i=a,n=o);else if(a.startTimeInSeconds<t&&a.startTimeInSeconds>i.startTimeInSeconds+i.durationInSeconds){i=a,n=o;break}}n&&i&&!e.O.includes(i.adId)&&(e.A=t,e.h.currentTime=n.startTimeInSeconds)}}function x0(e){if(e.h.duration&&(e.g||e.j.length)){var t=e.h.currentTime,n=!1;if(e.g){n=!0;var i=e.G,r=i.startTimeInSeconds+.5*i.durationInSeconds,o=i.startTimeInSeconds+.75*i.durationInSeconds;t>=i.startTimeInSeconds+.25*i.durationInSeconds&&!e.u.includes("firstQuartile")?(e.u.push("firstQuartile"),Rt(e,"firstQuartile")):t>=r&&!e.u.includes("midpoint")?(e.u.push("midpoint"),Rt(e,"midpoint")):t>=o&&!e.u.includes("thirdQuartile")&&(e.u.push("thirdQuartile"),Rt(e,"thirdQuartile")),i=e.g.getRemainingTime(),r=e.g.getDuration(),e.g.canSkipNow()&&0<i&&0<r&&Rt(e,"skipStateChanged"),0<r&&(0>=i||i>r)&&Co(e)}if(!e.g||!e.g.isLinear()){e:for(i=g(e.j),r=i.next();!r.done&&(r=r.value,!(e.g&&e.g.isLinear()));r=i.next())for(o=0;o<r.ads.length;o++){var s=r.ads[o],a=s.startTimeInSeconds+s.durationInSeconds;if(s.startTimeInSeconds<=t&&a>t){if(e.O.includes(s.adId)){if(e.h.ended)continue;e.h.currentTime=a;break e}Co(e),e.N=r,e.g=new se(s,o+1,r.ads.length,!0,e.h),e.G=s,o===0&&Rt(e,"breakStart"),I0(e);break}}if(!e.g){for(i=g(e.j),r=i.next();!r.done&&(r=r.value,!e.g);r=i.next())for(o=0;o<r.nonLinearAdsList.length;o++)if(s=r.nonLinearAdsList[o],s.nonLinearAdList.length){a=r.startTimeInSeconds;var u=e.H.get(A0(s.nonLinearAdList[0]));if(a<=t&&u&&u.length){Co(e),a=e,u=g(u);for(var l=u.next();!l.done;l=u.next())if(l=l.value,l.data.source.length){var c=document.createElement("img");c.src=l.data.source[0].url,c.style.top=(l.placeholder.top||0)+"%",c.style.height=100-(l.placeholder.top||0)+"%",c.style.left=(l.placeholder.left||0)+"%",c.style.maxWidth=100-(l.placeholder.left||0)+"%",c.style.objectFit="contain",c.style.position="absolute",a.C.appendChild(c)}e.N=r,e.g=new se(s,o+1,r.ads.length,!1,e.h),e.G=s,o===0&&Rt(e,"breakStart"),I0(e);break}}}n&&!e.g&&(t=e.h.currentTime,e.A&&e.A>t&&(e.h.currentTime=e.A),e.A=null)}}}function Co(e){if(e.g){for(;e.C.lastChild;)e.C.removeChild(e.C.firstChild);e.K||e.O.push(e.G.adId);var t=e.g.m;t!==void 0&&t?Rt(e,"skip"):Rt(e,"complete"),t=g(e.m);for(var n=t.next();!n.done;n=t.next())n=n.value,e.o.Ma(n.target,n.type,n.listener);e.m=[],e.u=[],t=e.g.getPositionInSequence(),n=e.g.getSequenceLength(),t===n&&Rt(e,"breakEnd"),e.g=null,e.G=null,e.N=null}}function I0(e){var t=!1;e.h.paused?t=!0:(Rt(e,"impression"),Rt(e,"start")),e.m.push({target:e.h,type:"volumechange",listener:function(){e.h.muted&&Rt(e,"mute")}}),e.m.push({target:e.h,type:"volumechange",listener:function(){e.h.muted||Rt(e,"unmute")}}),e.m.push({target:e.h,type:"play",listener:function(){t?(Rt(e,"impression"),Rt(e,"start"),t=!1):Rt(e,"resume")}}),e.m.push({target:e.h,type:"pause",listener:function(){Rt(e,"pause")}});for(var n=g(e.m),i=n.next();!i.done;i=n.next())i=i.value,e.o.s(i.target,i.type,i.listener)}function Rt(e,t){var n=e.G.trackingEvents.find(function(o){return o.eventType==t});if(n||(n=e.N.adBreakTrackingEvents.find(function(o){return o.eventType==t})),n){var i={type:10};n=g(n.beaconUrls);for(var r=n.next();!r.done;r=n.next())(r=r.value)&&r!=""&&(r=ct([r],Kn()),r.method="POST",e.L.request(7,r,i))}switch(t){case"impression":e.i(new V("ad-impression"));break;case"start":e.i(new V("ad-started",new Map().set("ad",e.g)));break;case"mute":e.i(new V("ad-muted"));break;case"unmute":e.i(new V("ad-volume-changed"));break;case"resume":e.i(new V("ad-resumed"));break;case"pause":e.i(new V("ad-paused"));break;case"firstQuartile":e.i(new V("ad-first-quartile"));break;case"midpoint":e.i(new V("ad-midpoint"));break;case"thirdQuartile":e.i(new V("ad-third-quartile"));break;case"complete":e.i(new V("ad-complete")),e.i(new V("ad-stopped"));break;case"skip":e.i(new V("ad-skipped")),e.i(new V("ad-stopped"));break;case"breakStart":e.C.setAttribute("ad-active","true");break;case"breakEnd":e.C.removeAttribute("ad-active");break;case"skipStateChanged":e.i(new V("ad-skip-state-changed"))}}function le(e,t){this.g=e,this.i=null,this.h=t}f=le.prototype,f.needsSkipUI=function(){return!0},f.isClientRendering=function(){return!1},f.getDuration=function(){return this.i?this.i.duration:-1},f.getMinSuggestedDuration=function(){return this.getDuration()},f.getRemainingTime=function(){return this.i?this.i.duration-this.i.currentTime:-1},f.isPaused=function(){return this.h.paused},f.isSkippable=function(){return this.g.isSkippable()},f.getTimeUntilSkippable=function(){var e=this.g.getSkipTimeOffset();return e=this.getRemainingTime()-e,Math.max(e,0)},f.canSkipNow=function(){return this.getTimeUntilSkippable()==0},f.skip=function(){this.h.currentTime+=this.getRemainingTime()},f.pause=function(){return this.h.pause()},f.play=function(){return this.h.play()},f.getVolume=function(){return this.h.volume},f.setVolume=function(e){this.h.volume=e},f.isMuted=function(){return this.h.muted},f.isLinear=function(){return!0},f.resize=function(){},f.setMuted=function(e){this.h.muted=e},f.getSequenceLength=function(){var e=this.g.getAdPodInfo();return e==null?1:e.getTotalAds()},f.getPositionInSequence=function(){var e=this.g.getAdPodInfo();return e==null?1:e.getAdPosition()},f.getTitle=function(){return this.g.getTitle()},f.getDescription=function(){return this.g.getDescription()},f.getVastMediaBitrate=function(){return 0},f.getVastMediaHeight=function(){return this.g.getVastMediaHeight()},f.getVastMediaWidth=function(){return this.g.getVastMediaWidth()},f.getAdId=function(){return this.g.getAdId()},f.getCreativeAdId=function(){return this.g.getCreativeAdId()},f.getAdvertiserName=function(){return this.g.getAdvertiserName()},f.getMediaUrl=function(){return null},f.getTimeOffset=function(){var e=this.g.getAdPodInfo();return e==null?0:e.getTimeOffset()},f.getPodIndex=function(){var e=this.g.getAdPodInfo();return e==null?0:e.getPodIndex()},f.release=function(){this.h=this.i=this.g=null},G("shaka.ads.ServerSideAd",le),le.prototype.release=le.prototype.release,le.prototype.getPodIndex=le.prototype.getPodIndex,le.prototype.getTimeOffset=le.prototype.getTimeOffset,le.prototype.getMediaUrl=le.prototype.getMediaUrl,le.prototype.getAdvertiserName=le.prototype.getAdvertiserName,le.prototype.getCreativeAdId=le.prototype.getCreativeAdId,le.prototype.getAdId=le.prototype.getAdId,le.prototype.getVastMediaWidth=le.prototype.getVastMediaWidth,le.prototype.getVastMediaHeight=le.prototype.getVastMediaHeight,le.prototype.getVastMediaBitrate=le.prototype.getVastMediaBitrate,le.prototype.getDescription=le.prototype.getDescription,le.prototype.getTitle=le.prototype.getTitle,le.prototype.getPositionInSequence=le.prototype.getPositionInSequence,le.prototype.getSequenceLength=le.prototype.getSequenceLength,le.prototype.setMuted=le.prototype.setMuted,le.prototype.resize=le.prototype.resize,le.prototype.isLinear=le.prototype.isLinear,le.prototype.isMuted=le.prototype.isMuted,le.prototype.setVolume=le.prototype.setVolume,le.prototype.getVolume=le.prototype.getVolume,le.prototype.play=le.prototype.play,le.prototype.pause=le.prototype.pause,le.prototype.skip=le.prototype.skip,le.prototype.canSkipNow=le.prototype.canSkipNow,le.prototype.getTimeUntilSkippable=le.prototype.getTimeUntilSkippable,le.prototype.isSkippable=le.prototype.isSkippable,le.prototype.isPaused=le.prototype.isPaused,le.prototype.getRemainingTime=le.prototype.getRemainingTime,le.prototype.getMinSuggestedDuration=le.prototype.getMinSuggestedDuration,le.prototype.getDuration=le.prototype.getDuration,le.prototype.isClientRendering=le.prototype.isClientRendering,le.prototype.needsSkipUI=le.prototype.needsSkipUI;function C0(e,t,n,i){var r=this;this.u=e,this.l=t,this.j=null,this.H=NaN,this.i=i,this.I=!1,this.A=this.m=this.o=null,this.C="",this.G=[],this.h=new Ae,e=new google.ima.dai.api.UiSettings,e.setLocale(n),this.g=new google.ima.dai.api.StreamManager(this.l,this.u,e),this.i(new V("ima-stream-manager-loaded",new Map().set("imaStreamManager",this.g))),this.h.s(this.g,google.ima.dai.api.StreamEvent.Type.LOADED,function(o){sC(r,o)}),this.h.s(this.g,google.ima.dai.api.StreamEvent.Type.ERROR,function(){r.C.length?r.j.resolve(r.C):r.j.reject("IMA Stream request returned an error and there was no backup asset uri provided."),r.j=null}),this.h.s(this.g,google.ima.dai.api.StreamEvent.Type.AD_BREAK_STARTED,function(){}),this.h.s(this.g,google.ima.dai.api.StreamEvent.Type.STARTED,function(o){o=o.getAd(),r.m=new le(o,r.l),r.A&&(r.m.i=r.A),r.i(new V("ad-started",new Map().set("ad",r.m))),r.u.setAttribute("ad-active","true")}),this.h.s(this.g,google.ima.dai.api.StreamEvent.Type.AD_BREAK_ENDED,function(){r.u.removeAttribute("ad-active");var o=r.l.currentTime;r.o&&r.o>o&&(r.l.currentTime=r.o,r.o=null)}),this.h.s(this.g,google.ima.dai.api.StreamEvent.Type.AD_PROGRESS,function(o){r.A=o.getStreamData().adProgressData,r.m&&(r.m.i=r.A)}),this.h.s(this.g,google.ima.dai.api.StreamEvent.Type.FIRST_QUARTILE,function(){r.i(new V("ad-first-quartile"))}),this.h.s(this.g,google.ima.dai.api.StreamEvent.Type.MIDPOINT,function(){r.i(new V("ad-midpoint"))}),this.h.s(this.g,google.ima.dai.api.StreamEvent.Type.THIRD_QUARTILE,function(){r.i(new V("ad-third-quartile"))}),this.h.s(this.g,google.ima.dai.api.StreamEvent.Type.COMPLETE,function(){r.i(new V("ad-complete")),r.i(new V("ad-stopped")),r.u.removeAttribute("ad-active"),r.m=null}),this.h.s(this.g,google.ima.dai.api.StreamEvent.Type.SKIPPED,function(){r.i(new V("ad-skipped")),r.i(new V("ad-stopped"))}),this.h.s(this.g,google.ima.dai.api.StreamEvent.Type.CUEPOINTS_CHANGED,function(o){var s=o.getStreamData();o=[],s=g(s.cuepoints);for(var a=s.next();!a.done;a=s.next())a=a.value,o.push({start:a.start,end:a.end});r.G=o,r.i(new V("ad-cue-points-changed",new Map().set("cuepoints",o)))})}f=C0.prototype,f.configure=function(){},f.stop=function(){this.C="",this.o=null,this.G=[]},f.release=function(){this.stop(),this.h&&this.h.release()},f.onCueMetadataChange=function(e){if(e.key&&e.data){var t={};t[e.key]=e.data,this.g.onTimedMetadata(t)}},f.getCuePoints=function(){return this.G};function sC(e,t){e.i(new V("ads-loaded",new Map().set("loadTime",Date.now()/1e3-e.H))),t=t.getStreamData().url,e.j.resolve(t),e.j=null,e.I||e.h.s(e.l,"seeked",function(){var n=e.l.currentTime;if(n!=0){e.g.streamTimeForContentTime(n);var i=e.g.previousCuePointForStreamTime(n);i&&!i.played&&(e.o=n,e.l.currentTime=i.start)}})}function Y(){Se.call(this),this.g=this.i=this.j=this.h=null,this.m=new m0,this.o=navigator.language,this.l=null}pe(Y,Se),f=Y.prototype,f.setLocale=function(e){this.o=e},f.configure=function(e){this.l=e,this.h&&this.h.configure(this.l),this.j&&this.j.configure(this.l),this.g&&this.g.configure(this.l)},f.initInterstitial=function(e,t,n){var i=this;this.h&&this.h.release(),this.h=new na(e,t,n,function(r){return dl(i,r)}),this.h.configure(this.l)},f.initClientSide=function(e,t,n){var i=this;if(!O.google||!google.ima||!google.ima.AdsLoader)throw new R(2,10,1e4);this.j&&this.j.release(),this.j=new ul(e,t,this.o,n,function(r){return dl(i,r)}),this.j.configure(this.l)},f.release=function(){this.h&&(this.h.release(),this.h=null),this.j&&(this.j.release(),this.j=null),this.i&&(this.i.release(),this.i=null),this.g&&(this.g.release(),this.g=null),Se.prototype.release.call(this)},f.onAssetUnload=function(){this.h&&this.h.stop(),this.j&&this.j.stop(),this.i&&this.i.stop(),this.g&&this.g.stop(),this.dispatchEvent(new V("ad-stopped")),this.dispatchEvent(new V("ad-content-attach-requested")),this.m=new m0},f.requestClientSideAds=function(e){if(!this.j)throw new R(1,10,10001);var t=this.j;t.g&&t.g.destroy(),t.m&&t.m.contentComplete(),t.I=Date.now()/1e3,t.m.requestAds(e)},f.updateClientSideAdsRenderingSettings=function(e){if(!this.j)throw new R(1,10,10001);var t=this.j;t.C=e,t.g&&t.g.updateAdsRenderingSettings(t.C)},f.initMediaTailor=function(e,t,n){var i=this;this.i&&this.i.release(),this.i=new ia(e,t,n,function(r){return dl(i,r)})},f.requestMediaTailorStream=function(e,t,n){if(!this.i)throw new R(1,10,10005);var i=this.i;return n=n===void 0?"":n,i.l?e=Promise.reject(new R(1,10,10004)):(i.l=new De,nC(i,e,t),i.J=n||"",i.S=Date.now()/1e3,e=i.l),e},f.addMediaTailorTrackingUrl=function(e){if(!this.i)throw new R(1,10,10005);var t=this.i;t.I=e,t.i(new V("ads-loaded",new Map().set("loadTime",0)))},f.initServerSide=function(e,t){var n=this;if(!O.google||!google.ima||!google.ima.dai)throw new R(2,10,10002);this.g&&this.g.release(),this.g=new C0(e,t,this.o,function(i){return dl(n,i)}),this.g.configure(this.l)},f.requestServerSideStream=function(e,t){if(t=t===void 0?"":t,!this.g)throw new R(1,10,10003);e.adTagParameters||(e.adTagParameters={});var n=e.adTagParameters;return(n.mpt||n.mpv)&&de('You have attempted to set "mpt" and/or "mpv" parameters of the ad tag. Please note that those parameters are used for Shaka adoption tracking and will be overriden.'),e.adTagParameters.mpt="shaka-player",e.adTagParameters.mpv="v4.11.11",n=this.g,n.j?e=Promise.reject(new R(1,10,10004)):(e instanceof google.ima.dai.api.LiveStreamRequest&&(n.I=!0),n.j=new De,n.g.requestStream(e),n.C=t||"",n.H=Date.now()/1e3,e=n.j),e},f.replaceServerSideAdTagParameters=function(e){if(!this.g)throw new R(1,10,10003);(e.mpt||e.mpv)&&de('You have attempted to set "mpt" and/or "mpv" parameters of the ad tag. Please note that those parameters are used for Shaka adoption tracking and will be overriden.'),e.mpt="Shaka Player",e.mpv="v4.11.11",this.g.g.replaceAdTagParameters(e)},f.getServerSideCuePoints=function(){return Ke("AdManager.getServerSideCuePoints","Please use getCuePoints function."),this.getCuePoints()},f.getCuePoints=function(){var e=[];return this.g&&(e=e.concat(this.g.getCuePoints())),this.i&&(e=e.concat(this.i.getCuePoints())),e},f.getStats=function(){var e=this.m;return{loadTimes:e.g,averageLoadTime:JI(e),started:e.h,playedCompletely:e.j,skipped:e.l,errors:e.i}},f.onManifestUpdated=function(e){this.i&&this.i.onManifestUpdated(e)},f.onDashTimedMetadata=function(e){this.g&&e.schemeIdUri=="urn:google:dai:2018"&&this.g.g.processMetadata(e.schemeIdUri,e.eventNode?e.eventNode.attributes.messageData:null,e.startTime)},f.onHlsTimedMetadata=function(e,t){this.g&&this.g.g.processMetadata("ID3",e.data,t)},f.onCueMetadataChange=function(e){this.g&&this.g.onCueMetadataChange(e)},f.onHLSInterstitialMetadata=function(e,t,n){this.h||this.initInterstitial(null,e,t),this.h&&eC(this.h,n)},f.onDASHInterstitialMetadata=function(e,t,n){if(n.schemeIdUri=="urn:mpeg:dash:event:alternativeMPD:2022"&&(this.h||this.initInterstitial(null,e,t),this.h)){e=this.h,t=g(n.eventNode.children);for(var i=t.next();!i.done;i=t.next()){var r=i.value;if(r.tagName=="AlternativeMPD"&&(i=r.attributes.uri,r=r.attributes.mode,i)){var o=i,s=r;break}}o?(t=s=="replace",s=s=="insert",(t||s)&&hl(e,[{id:null,startTime:n.startTime,endTime:t?n.endTime:null,uri:o,isSkippable:!1,skipOffset:null,canJump:!0,resumeOffset:s?0:null,playoutLimit:null,once:!1,pre:!1,post:!1,timelineRange:t&&!s}])):de("Unsupported MPD alternate",n)}},f.addCustomInterstitial=function(e){if(!this.h)throw new R(1,10,10006);hl(this.h,[e])},f.addAdUrlInterstitial=function(e){if(!this.h)throw new R(1,10,10006);return this.h.addAdUrlInterstitial(e)};function dl(e,t){if(t&&t.type)switch(t.type){case"ads-loaded":e.m.g.push(t.loadTime);break;case"ad-started":e.m.h++;break;case"ad-complete":e.m.j++;break;case"ad-skipped":e.m.l++;break;case"ad-error":e.m.i++}e.dispatchEvent(t)}G("shaka.ads.AdManager",Y),Y.prototype.addAdUrlInterstitial=Y.prototype.addAdUrlInterstitial,Y.prototype.addCustomInterstitial=Y.prototype.addCustomInterstitial,Y.prototype.onDASHInterstitialMetadata=Y.prototype.onDASHInterstitialMetadata,Y.prototype.onHLSInterstitialMetadata=Y.prototype.onHLSInterstitialMetadata,Y.prototype.onCueMetadataChange=Y.prototype.onCueMetadataChange,Y.prototype.onHlsTimedMetadata=Y.prototype.onHlsTimedMetadata,Y.prototype.onDashTimedMetadata=Y.prototype.onDashTimedMetadata,Y.prototype.onManifestUpdated=Y.prototype.onManifestUpdated,Y.prototype.getStats=Y.prototype.getStats,Y.prototype.getCuePoints=Y.prototype.getCuePoints,Y.prototype.getServerSideCuePoints=Y.prototype.getServerSideCuePoints,Y.prototype.replaceServerSideAdTagParameters=Y.prototype.replaceServerSideAdTagParameters,Y.prototype.requestServerSideStream=Y.prototype.requestServerSideStream,Y.prototype.initServerSide=Y.prototype.initServerSide,Y.prototype.addMediaTailorTrackingUrl=Y.prototype.addMediaTailorTrackingUrl,Y.prototype.requestMediaTailorStream=Y.prototype.requestMediaTailorStream,Y.prototype.initMediaTailor=Y.prototype.initMediaTailor,Y.prototype.updateClientSideAdsRenderingSettings=Y.prototype.updateClientSideAdsRenderingSettings,Y.prototype.requestClientSideAds=Y.prototype.requestClientSideAds,Y.prototype.onAssetUnload=Y.prototype.onAssetUnload,Y.prototype.release=Y.prototype.release,Y.prototype.initClientSide=Y.prototype.initClientSide,Y.prototype.initInterstitial=Y.prototype.initInterstitial,Y.prototype.configure=Y.prototype.configure,Y.prototype.setLocale=Y.prototype.setLocale,Y.ADS_LOADED="ads-loaded",Y.AD_STARTED="ad-started",Y.AD_FIRST_QUARTILE="ad-first-quartile",Y.AD_MIDPOINT="ad-midpoint",Y.AD_THIRD_QUARTILE="ad-third-quartile",Y.AD_COMPLETE="ad-complete",Y.AD_STOPPED="ad-stopped",Y.AD_SKIPPED="ad-skipped",Y.AD_VOLUME_CHANGED="ad-volume-changed",Y.AD_MUTED="ad-muted",Y.AD_PAUSED="ad-paused",Y.AD_RESUMED="ad-resumed",Y.AD_SKIP_STATE_CHANGED="ad-skip-state-changed",Y.CUEPOINTS_CHANGED="ad-cue-points-changed",Y.IMA_AD_MANAGER_LOADED="ima-ad-manager-loaded",Y.IMA_STREAM_MANAGER_LOADED="ima-stream-manager-loaded",Y.AD_CLICKED="ad-clicked",Y.AD_PROGRESS="ad-progress",Y.AD_BUFFERING="ad-buffering",Y.AD_IMPRESSION="ad-impression",Y.AD_DURATION_CHANGED="ad-duration-changed",Y.AD_CLOSED="ad-closed",Y.AD_LOADED="ad-loaded",Y.ALL_ADS_COMPLETED="all-ads-completed",Y.AD_LINEAR_CHANGED="ad-linear-changed",Y.AD_METADATA="ad-metadata",Y.AD_RECOVERABLE_ERROR="ad-recoverable-error",Y.AD_ERROR="ad-error",Y.AD_BREAK_READY="ad-break-ready",Y.AD_INTERACTION="ad-interaction",Y.AD_CONTENT_PAUSE_REQUESTED="ad-content-pause-requested",Y.AD_CONTENT_RESUME_REQUESTED="ad-content-resume-requested",Y.AD_CONTENT_ATTACH_REQUESTED="ad-content-attach-requested",al=function(){return new Y};function M0(e){return JSON.stringify(e,function(t,n){if(typeof n!="function"){if(n instanceof Event||n instanceof V){var i={};for(r in n)(t=n[r])&&typeof t=="object"?r=="detail"&&(i[r]=t):r in Event||(i[r]=t);return i}if(n instanceof Error){var r=new Set(["name","message","stack"]);for(i in n)r.add(i);for(i=g(Object.getOwnPropertyNames(n)),t=i.next();!t.done;t=i.next())r.add(t.value);for(i={},r=g(r),t=r.next();!t.done;t=r.next())t=t.value,i[t]=n[t];n={__type__:"Error",contents:i}}else if(n instanceof TimeRanges){for(r={__type__:"TimeRanges",length:n.length,start:[],end:[]},n=g(Yi(n)),i=n.next();!i.done;i=n.next())i=i.value,t=i.end,r.start.push(i.start),r.end.push(t);n=r}else n=n instanceof Uint8Array?{__type__:"Uint8Array",entries:Array.from(n)}:typeof n=="number"?isNaN(n)?"NaN":isFinite(n)?n:0>n?"-Infinity":"Infinity":n;return n}})}function Fd(e){return JSON.parse(e,function(t,n){if(n=="NaN")var i=NaN;else if(n=="-Infinity")i=-1/0;else if(n=="Infinity")i=1/0;else if(n&&typeof n=="object"&&n.__type__=="TimeRanges")i=aC(n);else if(n&&typeof n=="object"&&n.__type__=="Uint8Array")i=new Uint8Array(n.entries);else if(n&&typeof n=="object"&&n.__type__=="Error"){t=n.contents,n=Error(t.message);for(i in t)n[i]=t[i];i=n}else i=n;return i})}function aC(e){return{length:e.length,start:function(t){return e.start[t]},end:function(t){return e.end[t]}}}var k0="ended play playing pause pausing ratechange seeked seeking timeupdate volumechange".split(" "),uC="buffered currentTime duration ended loop muted paused playbackRate seeking videoHeight videoWidth volume".split(" "),Bd=["loop","playbackRate"],lC=["pause","play"],fl={getAssetUri:2,getAudioLanguages:4,getAudioLanguagesAndRoles:4,getBufferFullness:1,getBufferedInfo:2,getExpiration:2,getKeyStatuses:2,getPlaybackRate:2,getTextLanguages:4,getTextLanguagesAndRoles:4,getImageTracks:2,getThumbnails:2,isAudioOnly:10,isBuffering:1,isInProgress:1,isLive:10,isTextTrackVisible:1,keySystem:10,seekRange:1,getLoadMode:10,getManifestType:10,isFullyLoaded:1},pl={getConfiguration:4,getStats:5,getTextTracks:2,getVariantTracks:2},Gd={getPlayheadTimeAsDate:1,getPresentationStartTimeAsDate:20,getSegmentAvailabilityDuration:20},R0=[["getConfiguration","configure"]],L0=[["isTextTrackVisible","setTextTrackVisibility"]],cC="addChaptersTrack addTextTrackAsync addThumbnailsTrack cancelTrickPlay configure getChapters getChaptersTracks resetConfiguration retryStreaming selectAudioLanguage selectTextLanguage selectTextTrack selectVariantTrack selectVariantsByLabel setTextTrackVisibility trickPlay updateStartTime goToLive".split(" "),hC=["attach","attachCanvas","detach","load","unload"];function Vd(e,t,n,i,r,o,s){var a=this;this.I=e,this.L=s,this.l=new oe(t),this.N=n,this.u=!1,this.A=i,this.H=r,this.O=o,this.h=this.m=!1,this.K="",this.o=null,this.C=function(){return Hd(a)},this.G=function(u,l){switch(u=Fd(l),u.type){case"event":var c=u.targetName,h=Jg(u.event);a.A(c,h);break;case"update":c=u.update;for(h in c){u=a.g[h]||{};for(var d in c[h])u[d]=c[h][d]}a.u&&(a.N(),a.u=!1);break;case"asyncComplete":if(h=u.id,d=u.error,u=a.i[h],delete a.i[h],u)if(d){h=new R(d.severity,d.category,d.code);for(c in d)h[c]=d[c];u.reject(h)}else u.resolve()}},this.g={video:{},player:{}},this.J=0,this.i={},this.j=null,oa.add(this)}f=Vd.prototype,f.destroy=function(){return oa.delete(this),zd(this),_n&&D0(this),this.l&&(this.l.stop(),this.l=null),this.H=this.A=null,this.h=this.m=!1,this.G=this.C=this.j=this.i=this.g=this.o=null,Promise.resolve()},f.Ra=function(){return this.h},f.$e=function(){return this.K},f.init=function(){if(this.I.length)if(O.chrome&&chrome.cast&&chrome.cast.isAvailable){this.m=!0,this.l.Sa();var e=new chrome.cast.SessionRequest(this.I,[],null,this.L,null);e=new chrome.cast.ApiConfig(e,function(t){for(var n=g(oa),i=n.next();!i.done;i=n.next()){i=i.value;var r=t;i.j=new De,i.u=!0,gl(i,r)}},function(t){for(var n=g(oa),i=n.next();!i.done;i=n.next())i=i.value,ml=t=="available",i.l.Sa()},"origin_scoped"),chrome.cast.initialize(e,function(){},function(){}),ml&&this.l.X(fC),(e=_n)&&e.status!=chrome.cast.SessionStatus.STOPPED?(this.j=new De,this.u=!0,gl(this,e)):_n=null}else O.__onGCastApiAvailable!==N0&&(vl=O.__onGCastApiAvailable||null,O.__onGCastApiAvailable=N0)},f.Ug=function(e){this.o=e,this.h&&ra(this,{type:"appData",appData:this.o})},f.cast=function(){var e=this;return k(function(t){if(!e.m)throw new R(1,8,8e3);if(!ml)throw new R(1,8,8001);if(e.h)throw new R(1,8,8002);return e.j=new De,chrome.cast.requestSession(function(n){return gl(e,n)},function(n){return P0(e,n)}),T(t,e.j,0)})};function dC(e){e.h&&chrome.cast.requestSession(function(t){return gl(e,t)},function(t){return P0(e,t)})}f.jd=function(){if(this.h){if(zd(this),_n){D0(this);try{_n.stop(function(){},function(){})}catch{}_n=null}Hd(this)}},f.get=function(e,t){var n=this;if(e=="video"){if(lC.includes(t))return function(){return n.ii.apply(n,[e,t].concat(X(In.apply(0,arguments))))}}else if(e=="player"){if(Gd[t]&&!this.get("player","isLive")())return function(){};if(cC.includes(t))return function(){return n.ii.apply(n,[e,t].concat(X(In.apply(0,arguments))))};if(hC.includes(t))return function(){return n.rk.apply(n,[e,t].concat(X(In.apply(0,arguments))))};if(fl[t]||pl[t])return function(){return n.g[e][t]}}return this.g[e][t]},f.set=function(e,t,n){this.g[e][t]=n,ra(this,{type:"set",targetName:e,property:t,value:n})};function gl(e,t){var n=e.O();_n=t,t.addUpdateListener(e.C),t.addMessageListener("urn:x-cast:com.google.shaka.v2",e.G),Hd(e),ra(e,{type:"init",initState:n,appData:e.o}),e.j.resolve()}function P0(e,t){var n=8003;switch(t.code){case"cancel":n=8004;break;case"timeout":n=8005;break;case"receiver_unavailable":n=8006}e.j.reject(new R(2,8,n,t))}f.ii=function(e,t){ra(this,{type:"call",targetName:e,methodName:t,args:In.apply(2,arguments)})},f.rk=function(e,t){var n=In.apply(2,arguments),i=new De,r=this.J.toString();this.J++,this.i[r]=i;try{ra(this,{type:"asyncCall",targetName:e,methodName:t,args:n,id:r})}catch(o){i.reject(o)}return i};function D0(e){var t=_n;t.removeUpdateListener(e.C),t.removeMessageListener("urn:x-cast:com.google.shaka.v2",e.G)}function Hd(e){var t=_n?_n.status=="connected":!1;if(e.h&&!t){e.H();for(var n in e.g)e.g[n]={};zd(e)}e.h=t,e.K=t?_n.receiver.friendlyName:"",e.l.Sa()}function zd(e){for(var t in e.i){var n=e.i[t];delete e.i[t],n.reject(new R(1,7,7e3))}}function ra(e,t){t=M0(t);var n=_n;try{n.sendMessage("urn:x-cast:com.google.shaka.v2",t,function(){},BA)}catch(i){throw t=new R(2,8,8005,i),n=new V("error",new Map().set("detail",t)),e.A("player",n),e.jd(),t}}var fC=.02,ml=!1,_n=null,vl=null,oa=new Set;function N0(e){if(vl?O.__onGCastApiAvailable=vl:delete O.__onGCastApiAvailable,vl=null,e)for(var t=g(oa),n=t.next();!n.done;n=t.next())n.value.init();typeof O.__onGCastApiAvailable=="function"&&O.__onGCastApiAvailable(e)}function nt(e,t,n,i){i=i===void 0?!1:i,Se.call(this);var r=this;this.i=e,this.h=t,this.m=this.o=this.j=this.u=this.l=null,this.G=n,this.C=i,this.A=new Map,this.g=new Vd(n,function(){return O0(r)},function(){return j0(r)},function(o,s){return F0(r,o,s)},function(){return b0(r)},function(){return U0(r)},i),pC(this)}pe(nt,Se),f=nt.prototype,f.destroy=function(e){return e&&this.g.jd(),this.m&&(this.m.release(),this.m=null),e=[],this.h&&(e.push(this.h.destroy()),this.h=null),this.g&&(e.push(this.g.destroy()),this.g=null),this.u=this.l=this.i=null,Se.prototype.release.call(this),Promise.all(e)},f.wc=function(){return this.l},f.ld=function(){return this.u},f.If=function(){return this.g.m&&ml},f.Ra=function(){return this.g.Ra()},f.$e=function(){return this.g.$e()},f.cast=function(){var e=this;return k(function(t){return t.g==1?T(t,e.g.cast(),2):e.h?T(t,e.h.nc(),0):t.return()})},f.Ug=function(e){this.g.Ug(e)},f.Di=function(){dC(this.g)},f.jd=function(){this.g.jd()},f.vh=function(e,t){t=t===void 0?!1:t;var n=this;return k(function(i){if(i.g==1)return e==n.G&&t==n.C?i.return():(n.G=e,n.C=t,n.g.jd(),T(i,n.g.destroy(),2));n.g=null,n.g=new Vd(e,function(){return O0(n)},function(){return j0(n)},function(r,o){return F0(n,r,o)},function(){return b0(n)},function(){return U0(n)},t),n.g.init(),H(i)})};function pC(e){e.g.init(),e.m=new Ae;for(var t=g(k0),n=t.next();!n.done;n=t.next())e.m.s(e.i,n.value,function(o){e.g.Ra()||(o=Jg(o),e.j.dispatchEvent(o))});for(var i in qa)e.m.s(e.h,qa[i],function(o){e.g.Ra()||e.o.dispatchEvent(o)});e.l={},t={};for(var r in e.i)t={Rd:t.Rd},t.Rd=r,Object.defineProperty(e.l,t.Rd,{configurable:!1,enumerable:!0,get:function(o){return function(){return mC(e,o.Rd)}}(t),set:function(o){return function(s){var a=o.Rd;e.g.Ra()?e.g.set("video",a,s):e.i[a]=s}}(t)});e.u={},_0(e,function(o){Object.defineProperty(e.u,o,{configurable:!1,enumerable:!0,get:function(){return vC(e,o)}})}),gC(e),e.j=new Se,e.j.fe=e.l,e.o=new Se,e.o.fe=e.u}function gC(e){var t=new Map;_0(e,function(n,i){t.has(i)?(i=t.get(i),n.length<i.length?e.A.set(n,i):e.A.set(i,n)):t.set(i,n)})}function _0(e,t){function n(u){return u=="constructor"||typeof i[u]!="function"?!1:!r.has(u)}var i=e.h,r=new Set,o;for(o in i)n(o)&&(r.add(o),t(o,i[o]));for(e=Object.getPrototypeOf(i),o=Object.getPrototypeOf({});e&&e!=o;){for(var s=g(Object.getOwnPropertyNames(e)),a=s.next();!a.done;a=s.next())a=a.value,n(a)&&(r.add(a),t(a,i[a]));e=Object.getPrototypeOf(e)}}function U0(e){var t={video:{},player:{},playerAfterLoad:{},manifest:e.h.kd(),startTime:null};e.i.pause();for(var n=g(Bd),i=n.next();!i.done;i=n.next())i=i.value,t.video[i]=e.i[i];for(e.i.ended||(t.startTime=e.i.currentTime),n=g(R0),i=n.next();!i.done;i=n.next()){var r=i.value;i=r[1],r=e.h[r[0]](),t.player[i]=r}for(n=g(L0),i=n.next();!i.done;i=n.next())r=i.value,i=r[1],r=e.h[r[0]](),t.playerAfterLoad[i]=r;return t}function O0(e){var t=new V("caststatuschanged");e.dispatchEvent(t)}function j0(e){var t=new V(e.l.paused?"pause":"play");e.j.dispatchEvent(t)}function b0(e){for(var t=g(R0),n=t.next();!n.done;n=t.next()){var i=n.value;n=i[1],i=e.g.get("player",i[0])(),e.h[n](i)}var r=e.g.get("player","getAssetUri")();i=e.g.get("video","ended"),t=Promise.resolve();var o=e.i.autoplay;n=null,i||(n=e.g.get("video","currentTime"));var s;(i=e.g.get("player","getTextTracks")())&&i.length&&(s=i.find(function(l){return l.active}));var a=e.g.get("player","isTextTrackVisible")();r&&(e.i.autoplay=!1,t=e.h.load(r,n));var u={};for(n=g(Bd),i=n.next();!i.done;i=n.next())i=i.value,u[i]=e.g.get("video",i);t.then(function(){if(e.i){for(var l=g(Bd),c=l.next();!c.done;c=l.next())c=c.value,e.i[c]=u[c];for(l=g(L0),c=l.next();!c.done;c=l.next()){var h=c.value;c=h[1],h=e.g.get("player",h[0])(),e.h[c](h)}e.h.jf(a),s&&e.h.Sg(s.language,s.roles,s.forced),e.i.autoplay=o,r&&e.i.play()}},function(l){l=new Map().set("detail",l),l=new V("error",l),e.h.dispatchEvent(l)})}function mC(e,t){if(t=="addEventListener")return function(i,r,o){return e.j.addEventListener(i,r,o)};if(t=="removeEventListener")return function(i,r,o){return e.j.removeEventListener(i,r,o)};if(e.g.Ra()&&Object.keys(e.g.g.video).length==0){var n=e.i[t];if(typeof n!="function")return n}return e.g.Ra()?e.g.get("video",t):(t=e.i[t],typeof t=="function"&&(t=t.bind(e.i)),t)}function vC(e,t){if(e.A.has(t)&&(t=e.A.get(t)),t=="addEventListener")return function(n,i,r){return e.o.addEventListener(n,i,r)};if(t=="removeEventListener")return function(n,i,r){return e.o.removeEventListener(n,i,r)};if(t=="getMediaElement")return function(){return e.l};if(t=="getSharedConfiguration")return e.g.get("player","getConfiguration");if(t=="getNetworkingEngine")return function(){return e.h.Gb()};if(t=="getDrmEngine")return function(){return e.h.C};if(t=="getAdManager")return function(){return e.h.ye()};if(t=="setVideoContainer")return function(n){return e.h.ah(n)};if(e.g.Ra()){if(t=="getManifest"||t=="drmInfo")return function(){return de(t+"() does not work while casting!"),null};if(t=="attach"||t=="detach")return function(){return de(t+"() does not work while casting!"),Promise.resolve()}}return e.g.Ra()&&Object.keys(e.g.g.video).length==0&&(fl[t]||pl[t])||!e.g.Ra()?e.h[t].bind(e.h):e.g.get("player",t)}function F0(e,t,n){e.g.Ra()&&(t=="video"?e.j.dispatchEvent(n):t=="player"&&e.o.dispatchEvent(n))}G("shaka.cast.CastProxy",nt),nt.prototype.changeReceiverId=nt.prototype.vh,nt.prototype.forceDisconnect=nt.prototype.jd,nt.prototype.suggestDisconnect=nt.prototype.Di,nt.prototype.setAppData=nt.prototype.Ug,nt.prototype.cast=nt.prototype.cast,nt.prototype.receiverName=nt.prototype.$e,nt.prototype.isCasting=nt.prototype.Ra,nt.prototype.canCast=nt.prototype.If,nt.prototype.getPlayer=nt.prototype.ld,nt.prototype.getVideo=nt.prototype.wc,nt.prototype.destroy=nt.prototype.destroy;function Tt(e,t,n,i){Se.call(this);var r=this;this.g=e,this.h=t,this.j=new Ae,this.J={video:e,player:t},this.H=n||function(){},this.K=i||function(o){return o},this.i=null,this.I=!1,this.o=!0,this.m=0,this.C=!1,this.A=!0,this.u=this.l=null,this.G=new oe(function(){Kd(r)}),yC(this)}pe(Tt,Se),f=Tt.prototype,f.isConnected=function(){return this.I},f.Qj=function(){return this.o},f.Gk=function(e){this.i=e},f.Xi=function(){this.i=null},f.Hk=function(e){this.i||(this.i={metadataType:cast.receiver.media.MetadataType.GENERIC}),this.i.title=e},f.Fk=function(e){this.i||(this.i={metadataType:cast.receiver.media.MetadataType.GENERIC}),this.i.images=[{url:e}]},f.Ek=function(e){this.i||(this.i={}),this.i.artist=e,this.i.metadataType=cast.receiver.media.MetadataType.MUSIC_TRACK},f.destroy=function(){var e=this,t,n;return k(function(i){if(i.g==1)return e.j&&(e.j.release(),e.j=null),t=[],e.h&&(t.push(e.h.destroy()),e.h=null),e.G&&(e.G.stop(),e.G=null),e.g=null,e.J=null,e.H=null,e.I=!1,e.o=!0,e.l=null,e.u=null,Se.prototype.release.call(e),T(i,Promise.all(t),2);n=cast.receiver.CastReceiverManager.getInstance(),n.stop(),H(i)})};function yC(e){var t=cast.receiver.CastReceiverManager.getInstance();t.onSenderConnected=function(){return B0(e)},t.onSenderDisconnected=function(){return B0(e)},t.onSystemVolumeChanged=function(){var r=cast.receiver.CastReceiverManager.getInstance().getSystemVolume();r&&Ri(e,{type:"update",update:{video:{volume:r.level,muted:r.muted}}},e.l),Ri(e,{type:"event",targetName:"video",event:{type:"volumechange"}},e.l)},e.u=t.getCastMessageBus("urn:x-cast:com.google.cast.media"),e.u.onMessage=function(r){return EC(e,r)},e.l=t.getCastMessageBus("urn:x-cast:com.google.shaka.v2"),e.l.onMessage=function(r){return SC(e,r)},t.start(),t=g(k0);for(var n=t.next();!n.done;n=t.next())e.j.s(e.g,n.value,function(r){return G0(e,"video",r)});for(var i in qa)e.j.s(e.h,qa[i],function(r){return G0(e,"player",r)});e.j.s(e.g,"loadeddata",function(){e.C=!0}),e.j.s(e.h,"loading",function(){e.o=!1,Mo(e)}),e.j.s(e.g,"playing",function(){e.o=!1,Mo(e)}),e.j.s(e.g,"pause",function(){Mo(e)}),e.j.s(e.h,"unloading",function(){e.o=!0,Mo(e)}),e.j.s(e.g,"ended",function(){new oe(function(){e.g&&e.g.ended&&(e.o=!0,Mo(e))}).X(wC)})}function B0(e){e.m=0,e.A=!0,e.I=cast.receiver.CastReceiverManager.getInstance().getSenders().length!=0,Mo(e)}function Mo(e){var t;k(function(n){if(n.g==1)return T(n,Promise.resolve(),2);if(!e.h)return n.return();t=new V("caststatuschanged"),e.dispatchEvent(t),V0(e)||Li(e),H(n)})}function TC(e,t,n){var i,r,o,s,a,u,l,c,h,d;k(function(p){switch(p.g){case 1:for(i in t.player)r=t.player[i],e.h[i](r);return e.H(n),o=e.g.autoplay,t.manifest?(e.g.autoplay=!1,Z(p,5),T(p,e.h.load(t.manifest,t.startTime),7)):T(p,Promise.resolve(),3);case 7:he(p,3);break;case 5:return s=ee(p),a=new Map().set("detail",s),u=new V("error",a),e.h&&e.h.dispatchEvent(u),p.return();case 3:if(!e.h)return p.return();for(l in t.video)c=t.video[l],e.g[l]=c;for(h in t.playerAfterLoad)d=t.playerAfterLoad[h],e.h[h](d);e.g.autoplay=o,t.manifest&&(e.g.play(),Li(e)),H(p)}})}function G0(e,t,n){e.h&&(Kd(e),Ri(e,{type:"event",targetName:t,event:n},e.l))}function Kd(e){e.G.X(AC);for(var t={video:{},player:{}},n=g(uC),i=n.next();!i.done;i=n.next())i=i.value,t.video[i]=e.g[i];if(e.h.T())for(var r in Gd)e.m%Gd[r]==0&&(t.player[r]=e.h[r]());for(var o in fl)e.m%fl[o]==0&&(t.player[o]=e.h[o]());(n=cast.receiver.CastReceiverManager.getInstance().getSystemVolume())&&(t.video.volume=n.level,t.video.muted=n.muted),Ri(e,{type:"update",update:t},e.l);for(var s in pl)e.m%pl[s]==0&&(t={player:{}},t.player[s]=e.h[s](),Ri(e,{type:"update",update:t},e.l));e.C&&(e.m+=1),V0(e)}function V0(e){return e.A&&(e.g.duration||e.h.T())?(qd(e),e.A=!1,!0):!1}function qd(e,t){var n={contentId:e.h.kd(),streamType:e.h.T()?"LIVE":"BUFFERED",contentType:""};e.h.T()||(n.duration=e.g.duration),e.i&&(n.metadata=e.i),Li(e,t===void 0?0:t,n)}function SC(e,t){var n=Fd(t.data);switch(n.type){case"init":e.m=0,e.C=!1,e.A=!0,TC(e,n.initState,n.appData),Kd(e);break;case"appData":e.H(n.appData);break;case"set":var i=n.targetName,r=n.property;if(n=n.value,i=="video"){if(t=cast.receiver.CastReceiverManager.getInstance(),r=="volume"){t.setSystemVolumeLevel(n);break}else if(r=="muted"){t.setSystemVolumeMuted(n);break}}e.J[i][r]=n;break;case"call":i=e.J[n.targetName],i[n.methodName].apply(i,n.args);break;case"asyncCall":i=n.targetName,r=n.methodName,i=="player"&&r=="load"&&(e.m=0,e.C=!1);var o=n.id,s=t.senderId;t=e.J[i],n=t[r].apply(t,n.args),i=="player"&&r=="load"&&(n=n.then(function(){e.A=!0})),n.then(function(){return H0(e,s,o,null)},function(a){return H0(e,s,o,a)})}}function EC(e,t){var n=Fd(t.data);switch(n.type){case"PLAY":e.g.play(),Li(e);break;case"PAUSE":e.g.pause(),Li(e);break;case"SEEK":t=n.currentTime;var i=n.resumeState;t!=null&&(e.g.currentTime=Number(t)),i&&i=="PLAYBACK_START"?(e.g.play(),Li(e)):i&&i=="PLAYBACK_PAUSE"&&(e.g.pause(),Li(e));break;case"STOP":e.h.nc().then(function(){e.h&&Li(e)});break;case"GET_STATUS":qd(e,Number(n.requestId));break;case"VOLUME":i=n.volume,t=i.level,i=i.muted;var r=e.g.volume,o=e.g.muted;t!=null&&(e.g.volume=Number(t)),i!=null&&(e.g.muted=i),r==e.g.volume&&o==e.g.muted||Li(e);break;case"LOAD":e.m=0,e.C=!1,e.A=!1,t=n.media,i=n.currentTime,r=e.K(t.contentId),o=n.autoplay||!0,e.H(t.customData),o&&(e.g.autoplay=!0),e.h.load(r,i).then(function(){e.h&&qd(e)}).catch(function(s){var a="LOAD_FAILED";s.category==7&&s.code==7e3&&(a="LOAD_CANCELLED"),Ri(e,{requestId:Number(n.requestId),type:a},e.u)});break;default:Ri(e,{requestId:Number(n.requestId),type:"INVALID_REQUEST",reason:"INVALID_COMMAND"},e.u)}}function H0(e,t,n,i){e.h&&Ri(e,{type:"asyncComplete",id:n,error:i},e.l,t)}function Ri(e,t,n,i){e.I&&(e=M0(t),i?n.getCastChannel(i).send(e):n.broadcast(e))}function Li(e,t,n){n=n===void 0?null:n;var i={mediaSessionId:0,playbackRate:e.g.playbackRate,playerState:e.o?xC:e.h.He()?CC:e.g.paused?MC:IC,currentTime:e.g.currentTime,supportedMediaCommands:63,volume:{level:e.g.volume,muted:e.g.muted}};n&&(i.media=n),Ri(e,{requestId:t===void 0?0:t,type:"MEDIA_STATUS",status:[i]},e.u)}G("shaka.cast.CastReceiver",Tt),Tt.prototype.destroy=Tt.prototype.destroy,Tt.prototype.setContentArtist=Tt.prototype.Ek,Tt.prototype.setContentImage=Tt.prototype.Fk,Tt.prototype.setContentTitle=Tt.prototype.Hk,Tt.prototype.clearContentMetadata=Tt.prototype.Xi,Tt.prototype.setContentMetadata=Tt.prototype.Gk,Tt.prototype.isIdle=Tt.prototype.Qj,Tt.prototype.isConnected=Tt.prototype.isConnected;var AC=.5,wC=5,xC="IDLE",IC="PLAYING",CC="BUFFERING",MC="PAUSED";function z0(e,t,n,i,r){if(i>=r)return null;for(var o=-1,s=-1,a=0;a<n.length;a++)if(n[a].some(function(A){return A!=null&&A.g.trim()!=""})){o=a;break}for(a=n.length-1;0<=a;a--)if(n[a].some(function(A){return A!=null&&A.g.trim()!=""})){s=a;break}if(o===-1||s===-1)return null;for(var u=a=!1,l="white",c="black",h=Wd(i,r,a,u,l,c);o<=s;o++){for(var d=n[o],p=-1,m=-1,v=0;v<d.length;v++)if(d[v]!=null&&d[v].g.trim()!==""){p=v;break}for(v=d.length-1;0<=v;v--)if(d[v]!=null&&d[v].g.trim()!==""){m=v;break}if(p===-1||m===-1)d=K0(i,r),e.nestedCues.push(d);else{for(;p<=m;p++)if(v=d[p]){var y=v.l,E=v.i,S=v.j,w=v.h;(y!=a||E!=u||S!=l||w!=c)&&(h.payload&&e.nestedCues.push(h),h=Wd(i,r,y,E,S,w),a=y,u=E,l=S,c=w),h.payload+=v.g}else h.payload+=" ";h.payload&&e.nestedCues.push(h),o!==s&&(h=K0(i,r),e.nestedCues.push(h)),h=Wd(i,r,a,u,l,c)}}return e.nestedCues.length?{cue:e,stream:t}:null}function Wd(e,t,n,i,r,o){return e=new je(e,t,""),n&&e.textDecoration.push(yi),i&&(e.fontStyle=Zr),e.color=r,e.backgroundColor=o,e}function K0(e,t){return e=new je(e,t,""),e.lineBreak=!0,e}function q0(e,t,n,i,r){this.g=e,this.l=t,this.i=n,this.h=i,this.j=r}function Xd(e,t){this.i=[],this.g=1,this.h=0,this.G=e,this.C=t,this.j=this.m=!1,this.l="white",this.o="black",this.u=this.A=null,sa(this)}function yl(e,t,n){var i="CC"+((e.G<<1|e.C)+1),r=new je(t,n,"");r.lineInterpretation=1;var o=Y0.get(e.g);return o&&(r.line=o),e.u!=null&&e.A!=null&&(r.position=10+Math.min(70,10*e.u)+2.5*e.A),(t=z0(r,i,e.i,t,n))&&15<e.g+t.cue.nestedCues.length-3&&(o=Y0.get(e.g+3-t.cue.nestedCues.length))&&(r.line=o),t}function sa(e){Pi(e,0,15),e.g=1}function ko(e,t,n){if(!(32>n||127<n)){var i="";switch(t){case 0:i=X0.has(n)?X0.get(n):String.fromCharCode(n);break;case 1:i=kC.get(n);break;case 2:e.i[e.g].pop(),i=RC.get(n);break;case 3:e.i[e.g].pop(),i=LC.get(n)}i&&e.i[e.g].push(new q0(i,e.m,e.j,e.o,e.l))}}function W0(e,t,n,i){if(!(0>n||0>t))if(t>=n)for(--i;0<=i;i--)e.i[t+i]=e.i[n+i].map(function(o){return o});else for(var r=0;r<i;r++)e.i[t+r]=e.i[n+r].map(function(o){return o})}function Pi(e,t,n){for(var i=0;i<=n;i++)e.i[t+i]=[]}var X0=new Map([[39,"’"],[42,"á"],[92,"é"],[92,"é"],[94,"í"],[95,"ó"],[96,"ú"],[123,"ç"],[124,"÷"],[125,"Ñ"],[126,"ñ"],[127,"█"]]),kC=new Map([[48,"®"],[49,"°"],[50,"½"],[51,"¿"],[52,"™"],[53,"¢"],[54,"£"],[55,"♪"],[56,"à"],[57," "],[58,"è"],[59,"â"],[60,"ê"],[61,"î"],[62,"ô"],[63,"û"]]),RC=new Map([[32,"Á"],[33,"É"],[34,"Ó"],[35,"Ú"],[36,"Ü"],[37,"ü"],[38,"‘"],[39,"¡"],[40,"*"],[41,"'"],[42,"─"],[43,"©"],[44,"℠"],[45,"·"],[46,"“"],[47,"”"],[48,"À"],[49,"Â"],[50,"Ç"],[51,"È"],[52,"Ê"],[53,"Ë"],[54,"ë"],[55,"Î"],[56,"Ï"],[57,"ï"],[58,"Ô"],[59,"Ù"],[60,"ù"],[61,"Û"],[62,"«"],[63,"»"]]),LC=new Map([[32,"Ã"],[33,"ã"],[34,"Í"],[35,"Ì"],[36,"ì"],[37,"Ò"],[38,"ò"],[39,"Õ"],[40,"õ"],[41,"{"],[42,"}"],[43,"\\"],[44,"^"],[45,"_"],[46,"|"],[47,"~"],[48,"Ä"],[49,"ä"],[50,"Ö"],[51,"ö"],[52,"ß"],[53,"¥"],[54,"¤"],[55,"│"],[56,"Å"],[57,"å"],[58,"Ø"],[59,"ø"],[60,"┌"],[61,"┐"],[62,"└"],[63,"┘"]]),Y0=new Map([[1,10],[2,15.33],[3,20.66],[4,26],[5,31.33],[6,36.66],[7,42],[8,47.33],[9,52.66],[10,58],[11,63.33],[12,68.66],[13,74],[14,79.33],[15,84.66]]);function Tl(e,t){this.h=0,this.o=new Xd(e,t),this.i=new Xd(e,t),this.g=this.j=new Xd(e,t),this.l=0,this.m=null}function Yd(e,t,n){e.g=e.i;var i=e.g,r=null;return e.h!==3&&e.h!==4&&(r=yl(i,e.l,n),n=e.i,n.g=0<n.h?n.h:0,Pi(n,0,15),n=e.j,n.g=0<n.h?n.h:0,Pi(n,0,15),i.g=15),e.h=3,i.h=t,r}function $0(e){e.h=1,e.g=e.j,e.g.h=0}function J0(e){or("Cea608DataChannel","CEA-608 text mode entered, but is unsupported"),e.g=e.o,e.h=4}var PC="black green blue cyan red yellow magenta black".split(" "),Q0="white green blue cyan red yellow magenta white_italics".split(" ");function $d(e,t){this.K=t,this.O=e,this.L=this.l=!1,this.m=this.o=this.I=this.N=this.J=0,this.H=2,this.i=[],this.g=this.h=this.j=0,this.G=this.A=!1,this.C="white",this.u="black",Jd(this)}function Jd(e){e.i=[];for(var t=0;16>t;t++)e.i.push(Qd())}function Qd(){for(var e=[],t=0;42>t;t++)e.push(null);return e}function kr(e,t){Z0(e)&&(e.i[e.h][e.g]=new q0(t,e.G,e.A,e.u,e.C),e.g++)}function Z0(e){var t=e.g<e.m&&0<=e.g;return e.h<e.o&&0<=e.h&&t}$d.prototype.isVisible=function(){return this.l};function Rr(e,t,n){var i=new je(e.j,t,"");i.textAlign=e.H===0?"left":e.H===1?"right":vi;var r=i.region;switch(e.K&&(r.id+="svc"+e.K),r.id+="win"+e.O,r.height=e.o,r.width=e.m,r.heightUnits=2,r.widthUnits=2,r.viewportAnchorX=e.J,r.viewportAnchorY=e.N,r.viewportAnchorUnits=e.L?Ht:2,e.I){case 0:r.regionAnchorX=0,r.regionAnchorY=0;break;case 1:r.regionAnchorX=50,r.regionAnchorY=0;break;case 2:r.regionAnchorX=100,r.regionAnchorY=0;break;case 3:r.regionAnchorX=0,r.regionAnchorY=50;break;case 4:r.regionAnchorX=50,r.regionAnchorY=50;break;case 5:r.regionAnchorX=100,r.regionAnchorY=50;break;case 6:r.regionAnchorX=0,r.regionAnchorY=100;break;case 7:r.regionAnchorX=50,r.regionAnchorY=100;break;case 8:r.regionAnchorX=100,r.regionAnchorY=100}return(n=z0(i,"svc"+n,e.i,e.j,t))&&(e.j=t),n}$d.prototype.display=function(){this.l=!0};function DC(){this.i=[],this.h=null,this.g=0}function NC(e,t){t.type===3?(e.g=2*(t.value&63)-1,e.h=[]):e.h&&(0<e.g&&(e.h.push(t),e.g--),e.g===0&&(e.i.push(new Sl(e.h)),e.h=null,e.g=0))}function Sl(e){this.g=0,this.h=e}Sl.prototype.Fa=function(){return this.g<this.h.length},Sl.prototype.Oa=function(){return this.g};function gt(e){if(!e.Fa())throw new R(2,2,3e3);return e.h[e.g++]}Sl.prototype.skip=function(e){if(this.g+e>this.h.length)throw new R(2,2,3e3);this.g+=e};function _C(e){this.i=e,this.h=[null,null,null,null,null,null,null,null],this.g=null}function UC(e,t,n,i){if(128<=n&&135>=n)i=n&7,e.h[i]&&(e.g=e.h[i]);else{if(n===136){n=gt(t).value,t=null,n=g(aa(e,n));for(var r=n.next();!r.done;r=n.next())r=e.h[r.value],r.isVisible()&&(t=Rr(r,i,e.i)),Jd(r);return t}if(n===137)for(t=gt(t).value,t=g(aa(e,t)),n=t.next();!n.done;n=t.next())n=e.h[n.value],n.isVisible()||(n.j=i),n.display();else{if(n===138){for(n=gt(t).value,t=null,n=g(aa(e,n)),r=n.next();!r.done;r=n.next())r=e.h[r.value],r.isVisible()&&(t=Rr(r,i,e.i)),r.l=!1;return t}if(n===139){for(n=gt(t).value,t=null,n=g(aa(e,n)),r=n.next();!r.done;r=n.next())r=e.h[r.value],r.isVisible()?t=Rr(r,i,e.i):r.j=i,r.l=!r.l;return t}if(n===140)return t=gt(t).value,e1(e,t,i);if(n===143)return i=e1(e,255,i),t1(e),i;if(n===144)t.skip(1),i=gt(t).value,e.g&&(e.g.A=0<(i&128),e.g.G=0<(i&64));else if(n===145)i=gt(t).value,n=gt(t).value,t.skip(1),e.g&&(t=n1((n&48)>>4,(n&12)>>2,n&3),e.g.C=n1((i&48)>>4,(i&12)>>2,i&3),e.g.u=t);else if(n===146)i=gt(t).value,t=gt(t).value,e.g&&(e=e.g,e.h=i&15,e.g=t&63);else if(n===151)t.skip(1),t.skip(1),i=gt(t).value,t.skip(1),e.g&&(e.g.H=i&3);else if(152<=n&&159>=n){if(n=(n&15)-8,r=e.h[n]!==null,!r){var o=new $d(n,e.i);o.j=i,e.h[n]=o}i=gt(t).value,o=gt(t).value;var s=gt(t).value,a=gt(t).value,u=gt(t).value;t=gt(t).value,r&&!(t&7)||(t=e.h[n],t.h=0,t.g=0,t.G=!1,t.A=!1,t.C="white",t.u="black"),t=e.h[n],t.l=0<(i&32),t.N=o&127,t.J=s,t.I=(a&240)>>4,t.L=0<(o&128),t.o=(a&15)+1,t.m=(u&63)+1,e.g=e.h[n]}}}return null}function aa(e,t){for(var n=[],i=0;8>i;i++)(t&1)===1&&e.h[i]&&n.push(i),t>>=1;return n}function e1(e,t,n){var i=null;t=g(aa(e,t));for(var r=t.next();!r.done;r=t.next()){r=r.value;var o=e.h[r];o.isVisible()&&(i=Rr(o,n,e.i)),e.h[r]=null}return i}function t1(e){e.g=null,e.h=[null,null,null,null,null,null,null,null]}function n1(e,t,n){var i={0:0,1:0,2:1,3:1};return e=i[e],t=i[t],n=i[n],OC[e<<2|t<<1|n]}var i1=new Map([[32," "],[33," "],[37,"…"],[42,"Š"],[44,"Œ"],[48,"█"],[49,"‘"],[50,"’"],[51,"“"],[52,"”"],[53,"•"],[57,"™"],[58,"š"],[60,"œ"],[61,"℠"],[63,"Ÿ"],[118,"⅛"],[119,"⅜"],[120,"⅝"],[121,"⅞"],[122,"│"],[123,"┐"],[124,"└"],[125,"─"],[126,"┘"],[127,"┌"]]),OC="black blue green cyan red magenta yellow white".split(" ");function Ro(){this.h=[],this.g=[],this.i=new DC,this.l=0,this.m=new Map([["CC1",new Tl(0,0)],["CC2",new Tl(0,1)],["CC3",new Tl(1,0)],["CC4",new Tl(1,1)]]),this.u=this.o=0,this.j=new Map,this.C=!0,this.A=new Set,Zd(this)}Ro.prototype.clear=function(){this.l=0,this.h=[],this.g=[];var e=this.i;e.i=[],e.h=[],e.g=0,Zd(this),e=g(this.j.values());for(var t=e.next();!t.done;t=e.next())t1(t.value)};function Zd(e){e.o=0,e.u=0;for(var t=g(e.m.values()),n=t.next();!n.done;n=t.next())n=n.value,n.h=0,n.g=n.j,n.m=null,sa(n.i),sa(n.j),sa(n.o);e.C=!0}Ro.prototype.extract=function(e,t){if(this.C){for(var n=g(this.m.values()),i=n.next();!i.done;i=n.next())i.value.l=t;this.C=!1}if(e=new be(e,0),!(8>e.getLength())&&e.Z()===181&&e.za()===49&&e.U()===1195456820&&e.Z()===3&&(n=e.Z(),(n&64)!==0))for(n&=31,e.skip(1),i=0;i<n;i++){var r=e.Z(),o=(r&4)>>2,s=e.Z(),a=e.Z();o&&(r&=3,r===0||r===1?this.h.push({pts:t,type:r,xb:s,ac:a,order:this.h.length}):(this.g.push({pts:t,type:r,value:s,order:this.g.length}),this.g.push({pts:t,type:2,value:a,order:this.g.length})))}},Ro.prototype.decode=function(){function e(r,o){return r.pts-o.pts||r.order-o.order}var t=[];this.h.sort(e),this.g.sort(e);for(var n=g(this.h),i=n.next();!i.done;i=n.next())(i=jC(this,i.value))&&t.push(i);for(n=g(this.g),i=n.next();!i.done;i=n.next())NC(this.i,i.value);for(n=g(this.i.i),i=n.next();!i.done;i=n.next())i=bC(this,i.value),t.push.apply(t,X(i));return this.i.i=[],this.h=[],this.g=[],t};function jC(e,t){var n=t.type;if((t.xb&112)===16){var i=t.xb>>3&1;n===0?e.o=i:e.u=i}if(i="CC"+((n<<1|(n?e.u:e.o))+1),n=e.m.get(i),t.xb===255&&t.ac===255||!t.xb&&!t.ac||!r1(t.xb)||!r1(t.ac))return 45<=++e.l&&Zd(e),null;e.l=0,t.xb&=127,t.ac&=127;var r=t.xb;if(1<=r&&15>=r||!t.xb&&!t.ac)return null;if(r=null,(t.xb&112)===16)e:{if(e.A.add(i),i=t.xb,e=t.ac,n.m===(i<<8|e))n.m=null;else if(n.m=i<<8|e,(i&240)===16&&(e&192)===64){t=[11,11,1,2,3,4,12,13,14,15,5,6,7,8,9,10][(i&7)<<1|e>>5&1],i="white",r=!1;var o=null,s=95<e?e-96:e-64;13>=s?i=Q0[Math.floor(s/2)]:15>=s?r=!0:o=Math.floor((s-16)/2),e=(e&1)===1,n.h!==4&&(s=n.g,n.h===3&&t!==s.g&&(n=1+t-s.h,W0(s,n,1+s.g-s.h,s.h),Pi(s,0,n-1),Pi(s,t+1,15-t)),s.g=t,s.m=e,s.j=r,s.l=i,s.u=o,s.o="black")}else if((i&247)===17&&(e&240)===32)n.g.m=!1,n.g.j=!1,n.g.l="white",ko(n.g,0,32),i=!1,t=Q0[(e&14)>>1],t==="white_italics"&&(t="white",i=!0),n.g.m=(e&1)===1,n.g.j=i,n.g.l=t;else if((i&247)===16&&(e&240)===32||(i&247)===23&&(e&255)===45)t="black",!(i&7)&&(t=PC[(e&14)>>1]),n.g.o=t;else if((i&247)===17&&(e&240)===48)ko(n.g,1,e);else if((i&246)===18&&(e&224)===32)ko(n.g,i&1?3:2,e);else{if((i&246)===20&&(e&240)===32){switch(e=t.pts,i=null,t.ac){case 32:$0(n);break;case 33:n=n.g,n.i[n.g].pop();break;case 37:i=Yd(n,2,e);break;case 38:i=Yd(n,3,e);break;case 39:i=Yd(n,4,e);break;case 40:ko(n.g,0,32);break;case 41:n.h=2,n.g=n.i,n.g.h=0,n.l=e;break;case 42:sa(n.o),J0(n);break;case 43:J0(n);break;case 44:t=n.i,i=null,n.h!==4&&(i=yl(t,n.l,e)),Pi(t,0,15);break;case 45:t=n.g,n.h!==3?i=null:(i=yl(t,n.l,e),r=t.g-t.h+1,W0(t,r-1,r,t.h),Pi(t,0,r-1),Pi(t,t.g,15-t.g),n.l=e);break;case 46:Pi(n.j,0,15);break;case 47:t=null,n.h!==4&&(t=yl(n.i,n.l,e)),i=n.j,n.j=n.i,n.i=i,$0(n),n.l=e,i=t}r=i;break e}(i==23||i==31)&&33<=e&&35>=e&&(n.g.A=e-32)}r=null}else e=t.ac,ko(n.g,0,t.xb),ko(n.g,0,e);return r}function bC(e,t){var n=[];try{for(;t.Fa();){var i=gt(t).value,r=(i&224)>>5,o=i&31;if(r===7&&o!=0&&(r=gt(t).value&63),r!=0){e.A.add("svc"+r),e.j.has(r)||e.j.set(r,new _C(r));for(var s=e.j.get(r),a=t.Oa();t.Oa()-a<o;){r=s;var u=t,l=gt(u),c=l.value,h=l.pts;if(c===16){var d=gt(u);c=c<<16|d.value}if(0<=c&&31>=c){u=r;var p=c,m=h;if(u.g){var v=u.g;switch(r=null,p){case 8:!Z0(v)||0>=v.g&&0>=v.h||(0>=v.g?(v.g=v.m-1,v.h--):v.g--,v.i[v.h][v.g]=null);break;case 13:if(v.isVisible()&&(r=Rr(v,m,u.i)),v.h+1>=v.o){for(u=v,p=0,m=1;16>m;m++,p++)u.i[p]=u.i[m];for(m=0;1>m;m++,p++)u.i[p]=Qd()}else v.h++;v.g=0;break;case 14:v.isVisible()&&(r=Rr(v,m,u.i)),v.i[v.h]=Qd(),v.g=0;break;case 12:v.isVisible()&&(r=Rr(v,m,u.i)),Jd(v),u=v,u.h=0,u.g=0}var y=r}else y=null}else if(128<=c&&159>=c)y=UC(r,u,c,h);else{if(4096<=c&&4127>=c)r=u,u=c&255,8<=u&&15>=u?r.skip(1):16<=u&&23>=u?r.skip(2):24<=u&&31>=u&&r.skip(3);else if(4224<=c&&4255>=c)r=u,u=c&255,128<=u&&135>=u?r.skip(4):136<=u&&143>=u&&r.skip(5);else if(32<=c&&127>=c)u=c,r.g&&(u===127?kr(r.g,"♪"):kr(r.g,String.fromCharCode(u)));else if(160<=c&&255>=c)r.g&&kr(r.g,String.fromCharCode(c));else if(4128<=c&&4223>=c){if(u=c&255,r.g)if(i1.has(u)){var E=i1.get(u);kr(r.g,E)}else kr(r.g,"_")}else 4256<=c&&4351>=c&&r.g&&((c&255)!=160?kr(r.g,"_"):kr(r.g,"[CC]"));y=null}(r=y)&&n.push(r)}}}}catch(S){if(S instanceof R&&S.code===3e3)or("CEA708_INVALID_DATA","Buffer read out of bounds / invalid CEA-708 Data.");else throw S}return n}function r1(e){for(var t=0;e;)t^=e&1,e>>=1;return t===1}Ro.prototype.getStreams=function(){return Array.from(this.A)},G("shaka.cea.CeaDecoder",Ro),Xr=function(){return new Ro};function o1(e){for(var t=[],n=e,i=e=0;i<n.length;)e==2&&n[i]==3?(e=0,n=[].concat(X(n)),n.splice(i,1),n=new Uint8Array(n)):n[i]==0?e++:e=0,i++;for(e=n,i=0;i<e.length;){for(n=0;e[i]==255;)n+=255,i++;n+=e[i++];for(var r=0;e[i]==255;)r+=255,i++;r+=e[i++],n==4&&t.push(e.subarray(i,i+r)),i+=r}return t}function El(){this.j=new Map,this.i=this.h=0,this.g=ef}El.prototype.init=function(e){function t(o){o=o.name,o in Al&&(n.g=Al[o])}var n=this,i=[],r=[];if(new Ue().box("moov",ge).box("mvex",ge).W("trex",function(o){var s=o.reader;s.skip(4),s.skip(4),o=s.U(),s=s.U(),n.h=o,n.i=s}).box("trak",ge).W("tkhd",function(o){var s=o.reader;o=o.version,o==1?(s.skip(8),s.skip(8)):(s.skip(4),s.skip(4));var a=s.U();o==1?s.skip(8):s.skip(4),s.skip(4),s.skip(8),s.skip(2),s.skip(2),s.skip(2),s.skip(2),s.skip(36),s.za(),s.za(),s.za(),s.za(),i.push(a)}).box("mdia",ge).W("mdhd",function(o){o=ku(o.reader,o.version),r.push(o.timescale)}).box("minf",ge).box("stbl",ge).W("stsd",Xi).box("avc1",t).box("avc3",t).box("dvav",t).box("dva1",t).box("hev1",t).box("hvc1",t).box("dvh1",t).box("dvhe",t).box("vvc1",t).box("vvi1",t).box("dvc1",t).box("dvi1",t).box("encv",zt).box("sinf",ge).box("frma",function(o){o=Vv(o.reader).codec,o in Al&&(n.g=Al[o])}).parse(e,!0),!i.length||!r.length||i.length!=r.length)throw new R(2,2,2010);this.g==ef&&de("Unable to determine bitstream format for CEA parsing!"),i.forEach(function(o,s){n.j.set(o,r[s])})},El.prototype.parse=function(e){var t=this;if(this.g==ef)return[];var n=[],i=0,r=[];return new Ue().box("moof",function(o){i=o.start,r=[],ge(o)}).box("traf",function(o){r.push({baseMediaDecodeTime:null,Hd:t.h,ve:t.i,bi:[],timescale:9e4}),ge(o)}).W("trun",function(o){var s=r[r.length-1];o=Bv(o.reader,o.version,o.flags),s.bi.push(o)}).W("tfhd",function(o){var s=r[r.length-1];o=Fv(o.reader,o.flags),s.Hd=o.Hd||t.h,s.ve=o.ve||t.i,o=o.trackId,t.j.has(o)&&(s.timescale=t.j.get(o))}).W("tfdt",function(o){var s=r[r.length-1];o=Mu(o.reader,o.version),s.baseMediaDecodeTime=o.baseMediaDecodeTime}).box("mdat",function(o){for(var s=i-o.start-8,a=o.reader.Oa(),u=g(r),l=u.next();!l.done;l=u.next()){if(l=l.value,l.baseMediaDecodeTime===null)throw de("Unable to find base media decode time for CEA captions!"),new R(2,2,2010);o.reader.seek(a),FC(t,o.reader,l.baseMediaDecodeTime,l.timescale,l.Hd,l.ve,s,l.bi,n)}}).parse(e,!1),n};function FC(e,t,n,i,r,o,s,a,u){var l=0,c=o,h=a.map(function(m){return m.ki});for(h=[].concat.apply([],X(h)),h.length&&(c=h[0].sampleSize||o),t.skip(s+a[0].Zi);t.Fa();){s=t.U();var d=t.Z(),p=null;switch(p=!1,a=1,e.g){case ua:p=d&31,p=p==6;break;case la:a=2,t.skip(1),p=d>>1&63,p=p==39||p==40;break;case ca:a=2,t.skip(1),p=d>>1&63,p=p==23||p==24;break;default:return}if(p)for(d=0,l<h.length&&(d=h[l].cf||0),d=(n+d)/i,a=g(o1(t.Qb(s-a))),p=a.next();!p.done;p=a.next())u.push({packet:p.value,pts:d});else try{t.skip(s-a)}catch{break}c-=s+4,c==0&&(n=l<h.length?n+(h[l].Qg||r):n+r,l++,l<h.length?c=h[l].sampleSize||o:c=o)}}G("shaka.cea.Mp4CeaParser",El);var ef=0,ua=1,la=2,ca=3,Al={avc1:ua,avc3:ua,dvav:ua,dva1:ua,hev1:la,hvc1:la,dvh1:la,dvhe:la,vvc1:ca,vvi1:ca,dvc1:ca,dvi1:ca};Wr["video/mp4"]=function(){return new El};function wl(){this.g=null}wl.prototype.init=function(){},wl.prototype.parse=function(e){this.g?this.g.clearData():this.g=new Be;var t=[];if(e=fe(e),!Fs(e))return t;e=this.g.parse(e);var n=e.Id(),i=e.De();switch(e=[],n.video){case"avc":e.push(6);break;case"hvc":e.push(39),e.push(40)}if(!e.length)return t;for(n=g(i),i=n.next();!i.done;i=n.next())if(i=i.value,e.includes(i.type)&&i.time!=null)for(var r=g(o1(i.data)),o=r.next();!o.done;o=r.next())t.push({packet:o.value,pts:i.time});return t},G("shaka.cea.TsCeaParser",wl),Wr["video/mp2t"]=function(){return new wl};function s1(e,t,n){var i=zC(e),r=null;e=[];var o=[],s=null,a=new Set(i.map(function(l){return l.keyId}));a.delete(null);var u="cenc";if(1<a.size)throw new R(2,4,4010);if(!t){if(o=i.filter(function(l){return l.vd=="urn:mpeg:dash:sea:2012"}),1<o.length)throw new R(2,4,4050);o.length&&(s=qC(o[0])),(o=i.find(function(l){return l.vd=="urn:mpeg:dash:mp4protection:2011"}))&&o.encryptionScheme&&(u=o.encryptionScheme),o=i.filter(function(l){return l.vd=="urn:mpeg:dash:mp4protection:2011"?(r=l.init||r,!1):l.vd!="urn:mpeg:dash:sea:2012"}),o.length&&(e=HC(r,u,o,n,a),e.length==0&&(e=[hr("",u,r)]))}if(i.length&&!s&&(t||!o.length))for(e=[],t=g(Object.values(n)),n=t.next();!n.done;n=t.next())n=n.value,n!="org.w3.clearkey"&&e.push(hr(n,u,r));if(a=Array.from(a)[0]||null)for(u=g(e),t=u.next();!t.done;t=u.next())for(t=g(t.value.initData),n=t.next();!n.done;n=t.next())n.value.keyId=a;return{Ah:a,bm:r,drmInfos:e,Ff:s,Fh:!0}}function BC(e,t,n,i){var r=s1(e,n,i);if(t.Fh)e=t.drmInfos.length==1&&!t.drmInfos[0].keySystem,n=r.drmInfos.length==0,(t.drmInfos.length==0||e&&!n)&&(t.drmInfos=r.drmInfos),t.Fh=!1;else if(0<r.drmInfos.length&&(t.drmInfos=t.drmInfos.filter(function(o){return r.drmInfos.some(function(s){return s.keySystem==o.keySystem})}),t.drmInfos.length==0))throw new R(2,4,4008);return r.Ah||t.Ah}function GC(e){var t=0,n=Bt(e),i=n.getUint32(t,!0);if(i!=e.byteLength)return[];e:{for(e=t+6,t=[];e<n.byteLength-1;){i=n.getUint16(e,!0),e+=2;var r=n.getUint16(e,!0);if(e+=2,r&1||r+e>n.byteLength){n=[];break e}var o=fe(n,e,r);t.push({type:i,value:o}),e+=r}n=t}return n}function VC(e){e=g(Ln(e,"DATA"));for(var t=e.next();!t.done;t=e.next())if(t=t.value,t.children){t=g(t.children);for(var n=t.next();!n.done;n=t.next())if(n=n.value,n.tagName=="LA_URL")return et(n)}return""}function xl(e){var t=Zn(e.node,"https://dashif.org/CPS","Laurl");return t&&(t=et(t))?t:(e=Zn(e.node,"urn:microsoft:playready","pro"),!e||!et(e)||(e=et(e),e=fn(e),e=GC(e).filter(function(n){return n.type===WC})[0],!e)?"":(e=di(e.value,!0),(e=Jr(e,"WRMHEADER"))?VC(e):""))}function HC(e,t,n,i,r){var o=[];n=g(n);for(var s=n.next();!s.done;s=n.next()){s=s.value;var a=i[s.vd];if(a){var u;if((u=Zn(s.node,"urn:microsoft:playready","pro"))&&et(u)){u=et(u),u=fn(u);var l=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]);u=[{initData:Iu(u,l,new Set,0),initDataType:"cenc",keyId:s.keyId}]}else u=null;if(l=null,s.vd==="urn:uuid:e2719d58-a985-b3c9-781a-b030af78d30e"){l=s;var c=r;if(c.size==0)l=null;else{var h=new Uint8Array([16,119,239,236,192,178,77,2,172,227,60,30,82,226,251,75]),d=new Uint8Array([]);l=[{initData:Iu(d,h,c,1),initDataType:"cenc",keyId:l.keyId}]}}u=hr(a,t,s.init||e||u||l),(a=XC.get(a))&&(u.licenseServerUri=a(s)),o.push(u)}}return o}function zC(e){var t=[];e=g(e);for(var n=e.next();!n.done;n=e.next())(n=KC(n.value))&&t.push(n);return t}function KC(e){var t=e.attributes.schemeIdUri,n=gi(e,"urn:mpeg:cenc:2013","default_KID"),i=Tm(e,"urn:mpeg:cenc:2013","pssh").map(Rn),r=e.attributes.value;if(!t)return null;if(t=t.toLowerCase(),n&&(n=n.replace(/-/g,"").toLowerCase(),n.includes(" ")))throw new R(2,4,4009);var o=[];try{o=i.map(function(s){return{initDataType:"cenc",initData:fn(s),keyId:null}})}catch{throw new R(2,4,4007)}return{node:e,vd:t,keyId:n,init:0<o.length?o:null,encryptionScheme:r}}function qC(e){if(!O.crypto||!O.crypto.subtle)throw de("Web Crypto API is not available to decrypt AES-128. (Web Crypto only exists in secure origins like https)"),new R(2,4,4042);var t=Zn(e.node,"urn:mpeg:dash:schema:sea:2012","SegmentEncryption");if(!t)throw new R(2,4,4051);if(t.attributes.schemeIdUri!="urn:mpeg:dash:sea:aes128-cbc:2013")throw new R(2,4,4051);if(t=Zn(e.node,"urn:mpeg:dash:schema:sea:2012","CryptoPeriod"),!t)throw new R(2,4,4051);if(e=t.attributes.IV,t=Nt(t.attributes.keyUriTemplate),!e||!t)throw new R(2,4,4051);if(e=cr(e.substr(2)),e.byteLength!=16)throw new R(2,4,4048);return{Wj:t,iv:e}}var WC=1,XC=new Map().set("com.widevine.alpha",function(e){var t=Zn(e.node,"https://dashif.org/CPS","Laurl");return t&&(t=et(t))?t:(e=Zn(e.node,"urn:microsoft","laurl"))&&Nt(e.attributes.licenseUrl)||""}).set("com.microsoft.playready",xl).set("com.microsoft.playready.recommendation",xl).set("com.microsoft.playready.software",xl).set("com.microsoft.playready.hardware",xl).set("org.w3.clearkey",function(e){var t=Zn(e.node,"https://dashif.org/CPS","Laurl");return t&&(t=et(t))?t:(e=Zn(e.node,"http://dashif.org/guidelines/clearKey","Laurl"))&&e.attributes.Lic_type==="EME-1.0"&&e&&(e=et(e))?e:""});function ha(e,t,n,i,r,o){var s={RepresentationID:t,Number:n,SubNumber:i,Bandwidth:r,Time:o};return e.replace(/\$(RepresentationID|Number|SubNumber|Bandwidth|Time)?(?:%0([0-9]+)([diouxX]))?\$/g,function(a,u,l,c){if(a=="$$")return"$";var h=s[u];if(h==null)return a;switch(u=="RepresentationID"&&l&&(l=void 0),u=="Time"&&typeof h!="bigint"&&(.2<=Math.abs(h-Math.round(h))&&de("Calculated $Time$ values must be close to integers"),h=Math.round(h)),c){case void 0:case"d":case"i":case"u":a=h.toString();break;case"o":a=h.toString(8);break;case"x":a=h.toString(16);break;case"X":a=h.toString(16).toUpperCase();break;default:a=h.toString()}return l=O.parseInt(l,10)||1,Array(Math.max(0,l-a.length)+1).join("0")+a})}function a1(e,t){var n=Un(e,t,"timescale"),i=1;n&&(i=mi(n)||1),n=Un(e,t,"duration"),(n=mi(n||""))&&(n/=i);var r=Un(e,t,"startNumber"),o=Number(Un(e,t,"presentationTimeOffset"))||0,s=xt(r||"");if((r==null||s==null)&&(s=1),r=null,t=Lo(e,t,"SegmentTimeline")){t=Le(t,"S"),r=i,e=e.va.duration||1/0;for(var a=s,u=[],l=-o,c=0;c<t.length;++c){var h=t[c],d=t[c+1],p=Te(h,"t",xt),m=Te(h,"d",xt),v=Te(h,"r",lu);if(h=Te(h,"k",lu)||0,p!=null&&(p-=o),m){if(p=p??l,v=v||0,0>v)if(d){if(d=Te(d,"t",xt),d==null)break;if(p>=d)break;v=Math.ceil((d-p)/m)-1}else{if(e==1/0)break;if(p/r>=e)break;v=Math.ceil((e*r-p)/m)-1}for(0<u.length&&p!=l&&(u[u.length-1].end=p/r),d=0;d<=v;++d)l=p+m,u.push({start:p/r,end:l/r,jh:p,Xb:h,Ck:u.length+a}),p=l}}r=u}return{timescale:i,gb:n,$d:s,kc:o/i||0,ih:o,timeline:r}}function u1(e,t){return[t(e.M),t(e.wa),t(e.Aa)].filter(Ei)}function Un(e,t,n){t=u1(e,t),e=null,t=g(t);for(var i=t.next();!i.done&&!(e=i.value.attributes[n]);i=t.next());return e}function Lo(e,t,n){t=u1(e,t),e=null,t=g(t);for(var i=t.next();!i.done&&!(e=wt(i.value,n));i=t.next());return e}function YC(e,t,n,i,r,o){for(var s=gi(e,"http://www.w3.org/1999/xlink","href"),a=gi(e,"http://www.w3.org/1999/xlink","actuate")||"onRequest",u=g(Object.keys(e.attributes)),l=u.next();!l.done;l=u.next()){l=l.value;var c=l.split(":"),h=mh("http://www.w3.org/1999/xlink");c[0]==h&&delete e.attributes[l]}if(5<=o)return Sr(new R(2,4,4028));if(a!="onLoad")return Sr(new R(2,4,4027));var d=pt([i],[s]);return r.request(0,ct(d,t)).Ua(function(p){if(p=As(p.data,e.tagName),!p)return Sr(new R(2,4,4001,s));for(e.children=[];p.children.length;){var m=p.children.shift();e.children.push(m)}m=g(Object.keys(p.attributes));for(var v=m.next();!v.done;v=m.next())v=v.value,e.attributes[v]=p.attributes[v];return Il(e,t,n,d[0],r,o+1)})}function Il(e,t,n,i,r,o){if(o=o===void 0?0:o,gi(e,"http://www.w3.org/1999/xlink","href")){var s=YC(e,t,n,i,r,o);return n&&(s=s.Ua(void 0,function(){return Il(e,t,n,i,r,o)})),s}s=[];for(var a=g(ym(e)),u=a.next(),l={};!u.done;l={Dd:void 0},u=a.next())l.Dd=u.value,gi(l.Dd,"http://www.w3.org/1999/xlink","href")=="urn:mpeg:dash:resolve-to-zero:2013"?e.children=e.children.filter(function(c){return function(h){return h!==c.Dd}}(l)):l.Dd.tagName!="SegmentTimeline"&&s.push(Il(l.Dd,t,n,i,r,o));return sv(s).Ua(function(){return e})}function $C(e,t,n,i,r,o,s){var a,u=new Ue().W("sidx",function(l){a=JC(t,i,r,o,s,n,l)});if(e&&u.parse(e),a)return a;throw new R(2,3,3004)}function JC(e,t,n,i,r,o,s){var a=[];s.reader.skip(4);var u=s.reader.U();if(u==0)throw new R(2,3,3005);if(s.version==0)var l=s.reader.U(),c=s.reader.U();else l=s.reader.ud(),c=s.reader.ud();s.reader.skip(2);var h=s.reader.za();for(e=e+s.size+c,c=0;c<h;c++){var d=s.reader.U(),p=(d&2147483648)>>>31;d&=2147483647;var m=s.reader.U();if(s.reader.skip(4),p==1)throw new R(2,3,3006);a.push(new ie(l/u+n,(l+m)/u+n,function(){return o},e,e+d-1,t,n,i,r)),l+=m,e+=d}return s.parser.stop(),a}function Ji(e){this.h=Bt(e),this.g=new be(this.h,0)}Ji.prototype.Fa=function(){return this.g.Fa()};function Di(e){var t=l1(e);if(7<t.length)throw new R(2,3,3002);var n=0;t=g(t);for(var i=t.next();!i.done;i=t.next())n=256*n+i.value;t=l1(e);e:{i=g(QC);for(var r=i.next();!r.done;r=i.next())if(hi(t,new Uint8Array(r.value))){i=!0;break e}i=!1}if(i)t=e.h.byteLength-e.g.Oa();else{if(t.length==8&&t[1]&224)throw new R(2,3,3001);for(r=i=0;r<t.length;r++){var o=t[r];i=r==0?o&(1<<8-t.length)-1:256*i+o}t=i}return t=e.g.Oa()+t<=e.h.byteLength?t:e.h.byteLength-e.g.Oa(),i=Bt(e.h,e.g.Oa(),t),e.g.skip(t),new ZC(n,i)}function l1(e){var t=e.g.Oa(),n=e.g.Z();if(n==0)throw new R(2,3,3002);return n=8-Math.floor(Math.log2(n)),e.g.skip(n-1),fe(e.h,t,n)}var QC=[[255],[127,255],[63,255,255],[31,255,255,255],[15,255,255,255,255],[7,255,255,255,255,255],[3,255,255,255,255,255,255],[1,255,255,255,255,255,255,255]];function ZC(e,t){this.id=e,this.g=t}function tf(e){if(8<e.g.byteLength)throw new R(2,3,3002);if(e.g.byteLength==8&&e.g.getUint8(0)&224)throw new R(2,3,3001);for(var t=0,n=0;n<e.g.byteLength;n++){var i=e.g.getUint8(n);t=256*t+i}return t}function eM(e,t,n,i,r,o,s,a,u){function l(){return r}var c=[];e=new Ji(e.g);for(var h=null,d=null;e.Fa();){var p=Di(e);if(p.id==187){var m=tM(p);m&&(p=n*m.Qk,m=t+m.pk,h!=null&&c.push(new ie(h+s,p+s,l,d,m-1,o,s,a,u)),h=p,d=m)}}return h!=null&&c.push(new ie(h+s,i+s,l,d,null,o,s,a,u)),c}function tM(e){var t=new Ji(e.g);if(e=Di(t),e.id!=179)throw new R(2,3,3013);if(e=tf(e),t=Di(t),t.id!=183)throw new R(2,3,3012);t=new Ji(t.g);for(var n=0;t.Fa();){var i=Di(t);if(i.id==241){n=tf(i);break}}return{Qk:e,pk:n}}function c1(e,t,n){if(t=Lo(e,t,"Initialization"),!t)return null;var i=e.M.cb(),r=t.attributes.sourceURL;r&&(i=pt(i,[Nt(r)],e.Db())),r=0;var o=null;return(t=Te(t,"range",uu))&&(r=t.start,o=t.end),n=new Kt(function(){return i},r,o,p1(e),null,null,n),n.codecs=e.M.codecs,n.mimeType=e.M.mimeType,n}function nM(e,t,n){var i=Number(Un(e,Po,"presentationTimeOffset"))||0,r=Un(e,Po,"timescale"),o=1;r&&(o=mi(r)||1);var s=i/o||0,a=c1(e,Po,n);iM(e,a);var u=mr(e);return{Jc:function(){var l=Lo(u,Po,"RepresentationIndex"),c=u.M.cb();return l&&(l=Nt(l.attributes.sourceURL))&&(c=pt(c,[l],u.Db())),l=d1(u),h1(u,t,a,c,l.start,l.end,s)}}}function h1(e,t,n,i,r,o,s){var a,u,l,c,h,d,p,m,v,y,E,S,w,A,x,I,C,L;return k(function(P){if(P.g==1)return a=e.presentationTimeline,u=!e.Tb||!e.va.xg,l=e.va.start,c=e.va.duration,h=e.M.mimeType.split("/")[1],d=t,p=null,m=[d(i,r,o,!1),h=="webm"?d(n.R(),n.$a,n.La,!0):null],d=null,T(P,Promise.all(m),2);if(v=P.h,y=v[0],E=v[1]||null,S=null,w=l-s,A=l,x=c?l+c:1/0,h=="mp4")var M=$C(y,r,i,n,w,A,x);else{M=y;var D=new Ji(E);if(Di(D).id!=440786851)throw new R(2,3,3008);var N=Di(D);if(N.id!=408125543)throw new R(2,3,3009);D=N.g.byteOffset,N=new Ji(N.g);for(var b=null;N.Fa();){var _=Di(N);if(_.id==357149030){b=_;break}}if(!b)throw new R(2,3,3010);for(b=new Ji(b.g),_=1e6,N=null;b.Fa();){var U=Di(b);if(U.id==2807729)_=tf(U);else if(U.id==17545)if(U.g.byteLength==4)N=U.g.getFloat32(0);else if(U.g.byteLength==8)N=U.g.getFloat64(0);else throw new R(2,3,3003)}if(N==null)throw new R(2,3,3011);if(b=_/1e9,N*=b,M=Di(new Ji(M)),M.id!=475249515)throw new R(2,3,3007);M=eM(M,D,b,N,i,n,w,A,x)}for(S=M,I=g(S),C=I.next();!C.done;C=I.next())L=C.value,L.codecs=e.M.codecs,L.mimeType=e.M.mimeType,L.bandwidth=e.bandwidth;return a.Ud(S),p=new we(S),u&&p.hd(A,x,!0),P.return(p)})}function Po(e){return e.xd}function d1(e){var t=Lo(e,Po,"RepresentationIndex");return e=Un(e,Po,"indexRange"),e=uu(e||""),t&&(e=Te(t,"range",uu,e)),e}function iM(e,t){if(f1(e,t),!d1(e))throw new R(2,4,4002)}function f1(e,t){var n=e.M.mimeType.split("/")[1];if(e.M.contentType!=me&&n!="mp4"&&n!="webm")throw new R(2,4,4006);if(n=="webm"&&!t)throw new R(2,4,4005)}function p1(e){var t=e.M;return{bandwidth:e.bandwidth,audioSamplingRate:t.audioSamplingRate,codecs:t.codecs,contentType:t.contentType,frameRate:t.frameRate||null,height:t.height||null,mimeType:t.mimeType,channelsCount:t.Ue,pixelAspectRatio:t.pixelAspectRatio||null,width:t.width||null,label:e.wa.label||null,roles:e.roles||null,language:e.wa.language||null}}function rM(e,t,n){var i=c1(e,g1,n),r=oM(e);if(!r.gb&&!r.timeline&&1<r.qd.length)throw new R(2,4,4002);if(!r.gb&&!e.va.duration&&!r.timeline&&r.qd.length==1)throw new R(2,4,4002);if(r.timeline&&r.timeline.length==0)throw new R(2,4,4002);var o=null,s=null;e.Aa.id&&e.M.id&&(s=t[e.Aa.id+","+e.M.id])&&(o=s.segmentIndex);var a=sM(e.va.start,e.va.duration,e.M.cb,r,i,n,e.M.mimeType,e.M.codecs,e.bandwidth,e.Db);return t=!o,o?o.Td(a,e.presentationTimeline.Hb()):o=new we(a),e.presentationTimeline.Ud(a),e.Tb&&e.va.xg||o.hd(e.va.start,e.va.duration?e.va.start+e.va.duration:1/0,t),s&&(s.segmentIndex=o),{Jc:function(){return o&&o.getNumReferences()!=0||o.Qe(a),Promise.resolve(o)}}}function g1(e){return e.lc}function oM(e){var t=aM(e);e=a1(e,g1);var n=e.$d;n==0&&(n=1);var i=0;return e.gb?i=e.gb*(n-1):e.timeline&&0<e.timeline.length&&(i=e.timeline[0].start),{gb:e.gb,startTime:i,$d:n,kc:e.kc,timeline:e.timeline,qd:t}}function sM(e,t,n,i,r,o,s,a,u,l){var c=i.qd.length;i.timeline&&i.timeline.length!=i.qd.length&&(c=Math.min(i.timeline.length,i.qd.length));for(var h=e-i.kc,d=t?e+t:1/0,p=[],m=i.startTime,v={},y=0;y<c;v={nf:void 0,df:void 0},y++){v.df=i.qd[y];var E=m;m=void 0,m=i.gb!=null?E+i.gb:i.timeline?i.timeline[y].end:E+t,v.nf=null,v=new ie(e+E,e+m,function(S){return function(){return S.nf==null&&(S.nf=pt(n(),[S.df.dk],l())),S.nf}}(v),v.df.start,v.df.end,r,h,e,d,[],"",null,null,xi,o),v.codecs=a,v.mimeType=s,v.bandwidth=u,p.push(v)}return p}function aM(e){return[e.M.lc,e.wa.lc,e.Aa.lc].filter(Ei).map(function(t){return Le(t,"SegmentURL")}).reduce(function(t,n){return 0<t.length?t:n}).map(function(t){t.attributes.indexRange&&!e.ug&&(e.ug=!0);var n=Nt(t.attributes.media);return t=Te(t,"mediaRange",uu,{start:0,end:null}),{dk:n,start:t.start,end:t.end}})}function m1(e,t,n,i,r,o,s,a,u){u||e.M.Ge||(e.M.Ge=Un(e,Qi,"initialization"));var l=e.M.Ge?hM(e,s):null,c=uM(e);lM(c);var h=mr(e);if(c.Od)return f1(e,l),{Jc:function(){var y=ha(c.Od,h.M.id,null,null,h.bandwidth||null,null);return y=pt(h.M.cb(),[y]),h1(h,t,l,y,0,null,c.kc)}};if(c.gb)return i||e.wa.contentType==="image"||(n=e.va.start,i=e.Aa.id,u=e.va.duration,i=(i=i!=null&&o[i]||u)?n+i:1/0,e.presentationTimeline.Eg(c.gb),e.presentationTimeline.$h(n,i)),{Jc:function(){return cM(h,c,r,l,o,s,a,e.M.ef)}};var d=null;i=i=null,e.Aa.id&&e.M.id&&(i=e.Aa.id+","+e.M.id,i=n[i])&&(d=i.segmentIndex);var p=e.va.start,m=e.va.duration?p+e.va.duration:1/0,v=!(e.Tb&&e.va.xg);return d?(n=d,v1(n,c,p,m,v,l),n.Ya(e.presentationTimeline.Hb())):d=new Cl(c,e.M.id,e.bandwidth,e.M.cb,e.Db,p,m,l,v,s,e.M.ef),c.timeline&&e.wa.contentType!=="image"&&e.presentationTimeline.ai(c.timeline,p),i&&e.Tb&&(i.segmentIndex=d),{Jc:function(){return d instanceof Cl&&d.getNumReferences()==0&&v1(d,c,p,m,v,l),Promise.resolve(d)}}}function Qi(e){return e.Cc}function uM(e){var t=a1(e,Qi),n=Un(e,Qi,"media"),i=Un(e,Qi,"index"),r=Un(e,Qi,"k"),o=0;return r&&(o=parseInt(r,10)),{gb:t.gb,timescale:t.timescale,$d:t.$d,kc:t.kc,ih:t.ih,timeline:t.timeline,yc:n&&Nt(n),Od:i,mimeType:e.M.mimeType,codecs:e.M.codecs,bandwidth:e.bandwidth,ek:o}}function lM(e){var t=e.Od?1:0;if(t+=e.timeline?1:0,t+=e.gb?1:0,t==0)throw new R(2,4,4002);if(t!=1&&(e.Od&&(e.timeline=null),e.gb=null),!e.Od&&!e.yc)throw new R(2,4,4002)}function cM(e,t,n,i,r,o,s,a){function u(b){var _=(b-y)*v,U=_+t.kc,F=_+d;_=F+v;var B=Math.min(_,c()),W=[],J=t.ek;if(J)for(var ne=(B-F)/J,Ee={},Oe=0;Oe<J;Ee={Bi:void 0},Oe++){var Ne=F+ne*Oe,Ye=Ne+ne;Ee.Bi=Oe+1,Ee=new ie(Ne,Ye,function(Ie){return function(){var Re=U*E;return"BigInt"in O&&Re>Number.MAX_SAFE_INTEGER&&(Re=BigInt(U)*BigInt(E)),Re=ha(S,A,b,Ie.Bi,w,Re),pt(x(),[Re],I())}}(Ee),0,null,i,C,d,c(),[],"",null,null,xi,o),Ee.codecs=e.M.codecs,Ee.mimeType=e.M.mimeType,a==0?0<Oe&&Ee.od():Oe%a!=0&&Ee.od(),W.push(Ee)}return F=new ie(F,B,function(){if(J)return[];var Ie=U*E;return"BigInt"in O&&Ie>Number.MAX_SAFE_INTEGER&&(Ie=BigInt(U)*BigInt(E)),Ie=ha(S,A,b,null,w,Ie),pt(x(),[Ie],I())},0,null,i,C,d,c(),W,"",null,null,xi,o,0<W.length),F.codecs=e.M.codecs,F.mimeType=e.M.mimeType,F.bandwidth=e.bandwidth,F.j=_,F}function l(){var b=[Math.max(h.Hb(),d),Math.min(h.tc(),c())].map(function(_){return _-d});return b=[Math.ceil(b[0]/v),Math.ceil(b[1]/v)-1],e.M.ob&&b[1]++,b.map(function(_){return _+y})}function c(){var b=p!=null&&r[p]||m;return b?d+b:1/0}var h=e.presentationTimeline,d=e.va.start,p=e.Aa.id,m=e.va.duration,v=t.gb,y=t.$d,E=t.timescale,S=t.yc,w=e.bandwidth||null,A=e.M.id,x=e.M.cb,I=e.Db,C=d-t.kc,L=l();n=e.Tb?Math.max(L[0],L[1]-n+1):L[0],s=s||L[1],L=[];for(var P=n;P<=s;++P){var M=u(P);L.push(M)}var D=new we(L);if(L=h.tc()<c(),P=h.T(),L||P){var N=Math.max(n,s+1);n=v,e.M.ob&&(n=.1),D.mf(n,function(){var b=h.Hb();D.Ya(b);var _=g(l());_.next(),_=_.next().value;for(var U=[];N<=_;){var F=u(N);U.push(F),N++}return b>c()&&!U.length?null:U})}return Promise.resolve(D)}function hM(e,t){var n=e.M.Ge;if(n||(n=Un(e,Qi,"initialization")),!n)return null;n=Nt(n);var i=e.M.id,r=e.bandwidth||null,o=e.M.cb,s=e.Db;return t=new Kt(function(){var a=ha(n,i,null,null,r,null);return pt(o(),[a],s())},0,null,p1(e),null,null,t),t.codecs=e.M.codecs,t.mimeType=e.M.mimeType,t}function Cl(e,t,n,i,r,o,s,a,u,l,c){we.call(this,[]),this.h=e,this.H=t,this.C=n,this.G=i,this.J=r,this.j=o,this.l=s,this.u=a,this.A=l,this.I=c,u&&nf(this)}pe(Cl,we),f=Cl.prototype,f.getNumReferences=function(){return this.h?this.h.timeline.length:0},f.release=function(){we.prototype.release.call(this),this.h=null},f.Ya=function(e){if(this.h){for(var t=0,n=this.h.timeline,i=0;i<n.length&&n[i].end+this.j<=e;i+=1)t+=1;0<t&&(this.h.timeline=n.slice(t),this.g.length>=t&&(this.g=this.g.slice(t)),this.i+=t,this.getNumReferences()===0&&this.release())}};function v1(e,t,n,i,r,o){if(dM(e,o),e.h){if(n=e.h.timeline,e.h.yc!==t.yc&&(e.h.yc=t.yc),n.length){var s=n[n.length-1];t=t.timeline.filter(function(a){return a.end>s.end})}else t=t.timeline.slice();0<t.length&&e.h.timeline.push.apply(e.h.timeline,X(t)),e.l!==i&&(e.l=i)}else e.h=t,e.j=n,e.l=i;r&&nf(e)}function dM(e,t){if(e.u!==t){e.u=t,e=g(e.g);for(var n=e.next();!n.done;n=e.next())(n=n.value)&&_v(n,t)}}function nf(e){if(!e.o){for(var t=e.h.timeline;t.length&&t[t.length-1].start>=e.l;)t.pop();e.Ya(e.j)}}f.find=function(e){if(this.h&&this.h.timeline&&this.h.timeline.length&&e<this.h.timeline[0].start+this.j)return this.i;if(!this.h)return null;var t=this.h.timeline;if(e<this.j||e>=this.l)return null;for(var n=t.length-1,i=0;i<t.length;i++){var r=t[i],o=r.start+this.j;if(r=i<n?t[i+1].start+this.j:this.l===1/0?r.end+this.j:this.l,e>=o&&e<r)return i+this.i}return null},f.get=function(e){var t=this;if(e-=this.i,0>e||e>=this.getNumReferences()||!this.h)return null;var n=this.g[e];if(!n){var i=this.h.timeline[e],r=i.Ck,o=this.h.ih+i.jh;n=this.j-this.h.kc;var s=this.j+i.end,a=s;e===this.getNumReferences()-1&&this.l!==1/0&&(a=this.l);for(var u=this.h.codecs,l=this.h.mimeType,c=this.h.bandwidth,h=[],d=(i.end-i.start)/i.Xb,p={},m=0;m<i.Xb;p={pf:void 0,Ci:void 0},m++){var v=i.start+d*m,y=v+d;p.Ci=m+1,p.pf=null,p=new ie(this.j+v,this.j+y,function(E){return function(){return t.h?(E.pf==null&&(E.pf=y1(t.h.yc,t.H,r,t.C,o,E.Ci,t.G,t.J)),E.pf):[]}}(p),0,null,this.u,n,this.j,this.l,[],"",null,null,xi,this.A),p.codecs=u,p.mimeType=l,p.bandwidth=c,this.I==0?0<m&&p.od():m%this.I!=0&&p.od(),h.push(p)}n=new ie(this.j+i.start,a,function(){return 0<i.Xb||!t.h?[]:y1(t.h.yc,t.H,r,t.C,o,null,t.G,t.J)},0,null,this.u,n,this.j,this.l,h,"",null,null,xi,this.A,0<i.Xb),n.codecs=u,n.mimeType=l,n.j=s,n.bandwidth=c,this.g[e]=n}return n},f.Ub=function(e){nf(this);for(var t=0;t<this.getNumReferences();t++){var n=this.get(t+this.i);n&&e(n)}};function y1(e,t,n,i,r,o,s,a){return e=ha(e,t,n,o,i||null,r),pt(s(),[e],a()).map(function(u){return u.toString()})}function Do(e){this.o=null,this.A=e,this.I=new so,this.i=[],this.h=null,this.m=[],this.C=null,this.H=[],this.G=300,this.l=new Map,this.j=new Map,this.g=null,this.u="UNKNOWN"}Do.prototype.configure=function(e){this.o=e},Do.prototype.destroy=function(){return this.A=this.o=null,this.i=[],this.h=null,this.m=[],this.H=[],this.l.clear(),this.g!=null&&(this.g.stop(),this.g=null),this.I.destroy()},Do.prototype.setManifestType=function(e){this.u=e};function da(e,t){var n,i,r,o,s,a,u;return k(function(l){if(l.g==1)return n=pt(e.i,[fM(e,t)]),i=ct(n,e.o.retryParameters),r=e.A.networkingEngine.request(8,i),Er(e.I,r),Z(l,2),T(l,r.promise,4);if(l.g!=2)return o=l.h,s=ze(o.data),a=JSON.parse(s),a.VERSION==1&&pM(e,a,o.uri),he(l,0);if((u=ee(l))&&u.code==7001)return l.return();e.g!=null&&(e.g.stop(),e.g=null),e.g=new oe(function(){da(e,t)}),e.g.X(e.G),H(l)})}function fM(e,t){if(!e.m.length)return t;t=new $e(t);var n=e.C||e.m[0],i=Math.round(e.A.getBandwidthEstimate()),r=t.g;return e.u=="DASH"?(r.add("_DASH_pathway",n),r.add("_DASH_throughput",String(i))):e.u=="HLS"&&(r.add("_HLS_pathway",n),r.add("_HLS_throughput",String(i))),tm(r)&&sr(t,r),t.toString()}function pM(e,t,n){e.g!=null&&(e.g.stop(),e.g=null);var i=t["RELOAD-URI"]||n;e.g=new oe(function(){da(e,i)}),(n=t.TTL)&&(e.G=n),e.g.X(e.G),e.m=t["PATHWAY-PRIORITY"]||[],e.H=t["PATHWAY-CLONES"]||[]}function No(e,t,n,i){var r=e.l.get(t);r||(r=new Map),r.set(n,i),e.l.set(t,r)}Do.prototype.banLocation=function(e){this.j.set(e,Date.now()+6e4)};function fa(e,t,n){n=n===void 0?!1:n,t=e.l.get(t)||new Map;for(var i=[],r=g(e.m),o=r.next(),s={};!o.done;s={sd:void 0},o=r.next())if(s.sd=o.value,o=t.get(s.sd))i.push({Kg:s.sd,location:o});else if(o=e.H.find(function(u){return function(l){return l.ol==u.sd}}(s))){var a=t.get(o["BASE-ID"]);a&&(o["URI-REPLACEMENT"].Ni?(a=new $e(a),Ya(a,o["URI-REPLACEMENT"].Ni),i.push({Kg:s.sd,location:a.toString()})):i.push({Kg:s.sd,location:a}))}for(r=Date.now(),s=g(e.j.keys()),o=s.next();!o.done;o=s.next())o=o.value,a=e.j.get(o),r>a&&e.j.delete(o);if(i=i.filter(function(u){for(var l=g(e.j.keys()),c=l.next();!c.done;c=l.next())if(c.value.includes(new $e(u.location).bc))return!1;return!0}),i.length&&(e.C=i[0].Kg),i=i.map(function(u){return u.location}),!i.length&&e.h)for(r=g(e.h.split(",")),s=r.next();!s.done;s=r.next())(s=t.get(s.value))&&(e.C=e.h,i.push(s));if(!i.length)for(t=g(t.values()),r=t.next();!r.done;r=t.next())i.push(r.value);return n?i:pt(e.i,i)}function Mt(){this.l=[],this.h=[],this.g=[],this.j=[],this.i=[],this.u=this.o=!1,this.m=new Set}f=Mt.prototype,f.release=function(){for(var e=g(this.h.concat(this.g,this.j,this.i)),t=e.next();!t.done;t=e.next())t=t.value,t.segmentIndex&&t.segmentIndex.release();this.h=[],this.g=[],this.j=[],this.i=[],this.l=[],this.u=this.o=!1,this.m.clear()},f.Ij=function(){return this.l},f.ng=function(){return this.j.slice()},f.mj=function(){return this.i},f.Bh=function(e,t){if(e){if(e.type=="audio")for(var n=g(this.h),i=n.next();!i.done;i=n.next())i=i.value,i.matchedStreams=i.matchedStreams.filter(function(r){return r!==e});else if(e.type=="video")for(n=g(this.g),i=n.next();!i.done;i=n.next())i=i.value,i.matchedStreams=i.matchedStreams.filter(function(r){return r!==e}),i.trickModeVideo&&(i.trickModeVideo.matchedStreams=i.trickModeVideo.matchedStreams.filter(function(r){return r!==e}));else if(e.type==me)for(n=g(this.j),i=n.next();!i.done;i=n.next())i=i.value,i.matchedStreams=i.matchedStreams.filter(function(r){return r!==e});else if(e.type=="image")for(n=g(this.i),i=n.next();!i.done;i=n.next())i=i.value,i.matchedStreams=i.matchedStreams.filter(function(r){return r!==e});e.segmentIndex&&e.closeSegmentIndex(),this.m.delete(t)}};function T1(e,t){var n=[],i=[],r=[],o=[];e=g(e);for(var s=e.next();!s.done;s=e.next()){var a=s.value;s=new Map(a.audioStreams.map(function(h){return[af(h),h]}));var u=new Map(a.videoStreams.map(function(h){return[sf(h),h]})),l=new Map(a.textStreams.map(function(h){return[va(h),h]}));if(a=new Map(a.imageStreams.map(function(h){return[ya(h),h]})),t){var c=I1(me);l.set(va(c),c),c=I1("image"),a.set(ya(c),c)}n.push(s),i.push(u),r.push(l),o.push(a)}return{qh:n,Ki:i,Ei:r,Oh:o}}f.Mf=function(e,t,n){n=n===void 0?!1:n;var i=this,r,o,s,a,u,l,c,h,d,p,m,v,y,E,S,w,A,x,I,C,L,P,M,D,N,b,_,U,F,B;return k(function(W){if(W.g==1){if(r=it,!t&&e.length==1)return o=T1(e,!1),s=o.qh,a=o.Ki,u=o.Ei,l=o.Oh,i.h=Array.from(s[0].values()),i.g=Array.from(a[0].values()),i.j=Array.from(u[0].values()),i.i=Array.from(l[0].values()),W.B(2);for(c=n?i.m.size:0,h=-1,d=0;d<e.length;d++)p=e[d],i.m.has(p.id)||(i.m.add(p.id),h==-1&&(h=d));return h==-1?W.return():(m=T1(e,!0),v=m.qh,y=m.Ki,E=m.Ei,S=m.Oh,T(W,Promise.all([Zi(i,i.h,v,h,pa,_o,c),Zi(i,i.g,y,h,pa,_o,c),Zi(i,i.j,E,h,pa,_o,c),Zi(i,i.i,S,h,pa,_o,c)]),2))}if(w=0,A=[],i.g.length&&i.h.length)for(M=g(i.h),D=M.next();!D.done;D=M.next())for(N=D.value,b=g(i.g),_=b.next();!_.done;_=b.next())U=_.value,F=eh(N.drmInfos,U.drmInfos),N.drmInfos.length&&U.drmInfos.length&&!F.length||(B=w++,A.push({id:B,language:N.language,disabledUntilTime:0,primary:N.primary,audio:N,video:U,bandwidth:(N.bandwidth||0)+(U.bandwidth||0),drmInfos:F,allowedByApplication:!0,allowedByKeySystem:!0,decodingInfos:[]}));else for(x=i.g.length?i.g:i.h,I=g(x),C=I.next();!C.done;C=I.next())L=C.value,P=w++,A.push({id:P,language:L.language,disabledUntilTime:0,primary:L.primary,audio:L.type==r.ia?L:null,video:L.type==r.xa?L:null,bandwidth:L.bandwidth||0,drmInfos:L.drmInfos,allowedByApplication:!0,allowedByKeySystem:!0,decodingInfos:[]});i.l=A,H(W)})};function S1(e){var t,n,i,r,o,s,a,u,l,c,h,d,p,m,v,y,E,S,w,A,x,I,C,L,P,M,D,N,b,_;return k(function(U){switch(U.g){case 1:if(t=it,e.length==1)return U.return(e[0]);for(n=e.map(function(F){return new Map(F.filter(function(B){return B.type===t.ia}).map(function(B){return[af(B),B]}))}),i=e.map(function(F){return new Map(F.filter(function(B){return B.type===t.xa}).map(function(B){return[sf(B),B]}))}),r=e.map(function(F){return new Map(F.filter(function(B){return B.type===t.Na}).map(function(B){return[va(B),B]}))}),o=e.map(function(F){return new Map(F.filter(function(B){return B.type===t.Bf}).map(function(B){return[ya(B),B]}))}),s=g(r),a=s.next();!a.done;a=s.next())u=a.value,l=x1(t.Na),u.set(va(l),l);for(c=g(o),h=c.next();!h.done;h=c.next())d=h.value,p=x1(t.Bf),d.set(ya(p),p);return m=new Mt,T(U,Zi(m,[],n,0,Ml,kl,0),2);case 2:return v=U.h,T(U,Zi(m,[],i,0,Ml,kl,0),3);case 3:return y=U.h,T(U,Zi(m,[],r,0,Ml,kl,0),4);case 4:return E=U.h,T(U,Zi(m,[],o,0,Ml,kl,0),5);case 5:if(S=U.h,w=0,y.length&&v.length)for(L=g(v),P=L.next();!P.done;P=L.next())for(M=P.value,D=g(y),N=D.next();!N.done;N=D.next())b=N.value,_=w++,b.variantIds.push(_),M.variantIds.push(_);else for(A=y.concat(v),x=g(A),I=x.next();!I.done;I=x.next())C=I.value,C.variantIds=[w++];return U.return(y.concat(v).concat(E).concat(S))}})}function Zi(e,t,n,i,r,o,s){var a,u,l,c,h,d,p,m,v,y,E,S,w,A,x,I,C,L,P;return k(function(M){switch(M.g){case 1:for(a=[],u=0;u<n.length;u++)u>=i?a.push(new Set(n[u].values())):a.push(new Set);l=g(t),c=l.next();case 2:if(c.done){M.B(4);break}return h=c.value,T(M,gM(e,h,n,i,o,a,s),5);case 5:if(d=M.h,!d)throw new R(2,4,4037);c=l.next(),M.B(2);break;case 4:for(p=g(a),m=p.next();!m.done;m=p.next())for(v=m.value,y=g(v),E=y.next();!E.done;E=y.next())S=E.value,(w=mM(e,S,n,r,o,a))&&t.push(w);for(A=g(a),x=A.next();!x.done;x=A.next())for(I=x.value,C=g(I),L=C.next(),P={};!L.done;P={bh:void 0},L=C.next())if(P.bh=L.value,!of(P.bh)&&t.some(function(D){return function(N){return rf(e,D.bh,N)}}(P)))throw new R(2,4,4037);return M.return(t)}})}function gM(e,t,n,i,r,o,s){return k(function(a){return a.g==1?(w1(e,n,t,0<s),t.matchedStreams?t.segmentIndex?T(a,E1(t,i+s),2):a.B(2):a.return(!1)):(A1(t,i,r,o,s),a.return(!0))})}function E1(e,t){var n,i,r,o,s,a;return k(function(u){if(u.g==1){for(n=[],i=e.matchedStreams,r=t;r<i.length;r++)o=i[r],n.push(o.createSegmentIndex()),o.trickModeVideo&&!o.trickModeVideo.segmentIndex&&n.push(o.trickModeVideo.createSegmentIndex());return T(u,Promise.all(n),2)}if(e.segmentIndex instanceof Xe)for(s=t;s<i.length;s++)a=i[s],a.segmentIndex&&e.segmentIndex.h.push(a.segmentIndex);H(u)})}function mM(e,t,n,i,r,o){if(of(t))return null;var s=i(t);return w1(e,n,s),s.createSegmentIndex&&(s.createSegmentIndex=function(){return k(function(a){return s.segmentIndex?a.B(0):(s.segmentIndex=new Xe,T(a,E1(s,0),0))})}),!s.matchedStreams||!s.matchedStreams.length?null:(A1(s,0,r,o,0),s)}function A1(e,t,n,i,r){var o=e.matchedStreams;for(t+=r;t<o.length;t++){var s=o[t];n(e,s);var a=!0;if(e.type=="audio"&&dr(e.language,s.language)==0&&(a=!1),a&&(i[t-r].delete(s),s.fullMimeTypes))for(s=g(s.fullMimeTypes.values()),a=s.next();!a.done;a=s.next())e.fullMimeTypes.add(a.value)}}function pa(e){var t=Object.assign({},e);return t.originalId=null,t.createSegmentIndex=function(){return Promise.resolve()},t.closeSegmentIndex=function(){if(t.segmentIndex&&(t.segmentIndex.release(),t.segmentIndex=null),t.matchedStreams)for(var n=g(t.matchedStreams),i=n.next();!i.done;i=n.next())i=i.value,i.segmentIndex&&(i.segmentIndex.release(),i.segmentIndex=null)},t.roles=t.roles.slice(),t.segmentIndex=null,t.emsgSchemeIdUris=[],t.keyIds=new Set,t.closedCaptions=e.closedCaptions?new Map(e.closedCaptions):null,t.trickModeVideo=null,t}function Ml(e){var t=Object.assign({},e);return t.roles=t.roles.slice(),t.keyIds=new Set,t.segments=[],t.variantIds=[],t.closedCaptions=e.closedCaptions?new Map(e.closedCaptions):null,t}function _o(e,t){function n(s,a){s||(s=[]),a=g(a);for(var u=a.next();!u.done;u=a.next())u=u.value,s.includes(u)||s.push(u);return s}e.roles=n(e.roles,t.roles),t.emsgSchemeIdUris&&(e.emsgSchemeIdUris=n(e.emsgSchemeIdUris,t.emsgSchemeIdUris));for(var i=g(t.keyIds),r=i.next();!r.done;r=i.next())e.keyIds.add(r.value);if(e.originalId==null?e.originalId=t.originalId:(i=t.originalId||"")&&!e.originalId.endsWith(i)&&(e.originalId+=","+i),i=eh(e.drmInfos,t.drmInfos),t.drmInfos.length&&e.drmInfos.length&&!i.length)throw new R(2,4,4038);if(e.drmInfos=i,e.encrypted=e.encrypted||t.encrypted,t.closedCaptions)for(e.closedCaptions||(e.closedCaptions=new Map),i=g(t.closedCaptions),r=i.next();!r.done;r=i.next()){var o=g(r.value);r=o.next().value,o=o.next().value,e.closedCaptions.set(r,o)}e.bandwidth&&t.bandwidth&&(e.bandwidth=Math.max(e.bandwidth,t.bandwidth)),t.trickModeVideo?(e.trickModeVideo||(e.trickModeVideo=pa(t.trickModeVideo),e.trickModeVideo.matchedStreams=[],e.trickModeVideo.createSegmentIndex=function(){if(e.trickModeVideo.segmentIndex)return Promise.resolve();for(var s=new Xe,a=g(e.trickModeVideo.matchedStreams),u=a.next();!u.done;u=a.next())s.h.push(u.value.segmentIndex);return e.trickModeVideo.segmentIndex=s,Promise.resolve()}),e.trickModeVideo.matchedStreams.push(t.trickModeVideo),_o(e.trickModeVideo,t.trickModeVideo)):e.trickModeVideo&&(e.trickModeVideo.matchedStreams.push(t),_o(e.trickModeVideo,t))}function kl(e,t){var n=e.roles;n||(n=[]);for(var i=g(t.roles),r=i.next();!r.done;r=i.next())r=r.value,n.includes(r)||n.push(r);for(e.roles=n,n=g(t.keyIds),i=n.next();!i.done;i=n.next())e.keyIds.add(i.value);if(e.encrypted=e.encrypted&&t.encrypted,e.segments.push.apply(e.segments,X(t.segments)),t.closedCaptions)for(e.closedCaptions||(e.closedCaptions=new Map),t=g(t.closedCaptions),n=t.next();!n.done;n=t.next())i=g(n.value),n=i.next().value,i=i.next().value,e.closedCaptions.set(n,i)}function w1(e,t,n,i){i=i!==void 0&&i?n.matchedStreams:[],t=g(t);for(var r=t.next();!r.done;r=t.next()){if(r=vM(e,r.value,n),!r)return;i.push(r)}n.matchedStreams=i}function vM(e,t,n){var i={audio:af,video:sf,text:va,image:ya}[n.type],r=null,o=i(n);if(t.has(o))r=t.get(o);else{o={audio:function(l,c){return rf(e,l,c)},video:function(l,c){return rf(e,l,c)},text:yM,image:TM}[n.type];for(var s={audio:SM,video:EM,text:AM,image:wM}[n.type],a=g(t.values()),u=a.next();!u.done;u=a.next())u=u.value,!o(n,u)||n.fastSwitching!=u.fastSwitching||r&&!s(n,r,u)||(r=u)}return e.u&&!of(r)&&t.delete(i(r)),r}function ga(e,t){return e.mimeType!=t.mimeType?!1:Rl(e.codecs)===Rl(t.codecs)}f.li=function(e){this.o=e},f.wi=function(e){this.u=e};function rf(e,t,n){return!(!ga(t,n)&&!e.o||t.drmInfos&&!im(t.drmInfos,n.drmInfos))}function yM(e,t){return t.language?!(e.forced!==t.forced||dr(e.language,t.language)==0||t.kind!=e.kind):!0}function TM(){return!0}function SM(e,t,n){var i=ga(e,t),r=ga(e,n);if(i&&!r)return!1;if(!i&&r||(i=dr(e.language,t.language),r=dr(e.language,n.language),r>i))return!0;if(r<i)return!1;if(t.label!==n.label){if(e.label===t.label)return!1;if(e.label===n.label)return!0}if(e.roles.length){if(i=t.roles.filter(function(o){return e.roles.includes(o)}),r=n.roles.filter(function(o){return e.roles.includes(o)}),r.length>i.length)return!0;if(r.length<i.length)return!1;if(n.roles.length!==t.roles.length)return n.roles.length<t.roles.length}else{if(!n.roles.length&&t.roles.length)return!0;if(n.roles.length&&!t.roles.length)return!1}return!t.primary&&n.primary?!0:t.primary&&!n.primary?!1:(i=ma(e.channelsCount,t.channelsCount,n.channelsCount),i==Xn?!0:i==Ni?!1:(i=ma(e.audioSamplingRate,t.audioSamplingRate,n.audioSamplingRate),i==Xn?!0:i==Ni?!1:!!(e.bandwidth&&C1(e.bandwidth,t.bandwidth,n.bandwidth)==Xn)))}function EM(e,t,n){var i=ga(e,t),r=ga(e,n);if(i&&!r)return!1;if(!i&&r||(i=ma(e.width*e.height,t.width*t.height,n.width*n.height),i==Xn))return!0;if(i==Ni)return!1;if(e.frameRate){if(i=ma(e.frameRate,t.frameRate,n.frameRate),i==Xn)return!0;if(i==Ni)return!1}return!!(e.bandwidth&&C1(e.bandwidth,t.bandwidth,n.bandwidth)==Xn)}function AM(e,t,n){var i=dr(e.language,t.language),r=dr(e.language,n.language);if(r>i)return!0;if(r<i)return!1;if(!t.primary&&n.primary)return!0;if(t.primary&&!n.primary)return!1;if(t.label!==n.label){if(e.label===t.label)return!1;if(e.label===n.label)return!0}if(e.roles.length){if(i=t.roles.filter(function(o){return e.roles.includes(o)}),r=n.roles.filter(function(o){return e.roles.includes(o)}),r.length>i.length)return!0;if(r.length<i.length)return!1}else{if(!n.roles.length&&t.roles.length)return!0;if(n.roles.length&&!t.roles.length)return!1}return!(n.mimeType!=e.mimeType||n.codecs!=e.codecs||t.mimeType==e.mimeType&&t.codecs==e.codecs)}function wM(e,t,n){return ma(e.width*e.height,t.width*t.height,n.width*n.height)==Xn}function x1(e){return{id:0,originalId:"",groupId:null,primary:!1,type:e,mimeType:"",codecs:"",language:"",originalLanguage:null,label:null,width:null,height:null,encrypted:!1,keyIds:new Set,segments:[],variantIds:[],roles:[],forced:!1,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null,external:!1,fastSwitching:!1}}function I1(e){return{id:0,originalId:"",groupId:null,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:new we([]),mimeType:"",codecs:"",encrypted:!1,drmInfos:[],keyIds:new Set,language:"",originalLanguage:null,label:null,type:e,primary:!1,trickModeVideo:null,emsgSchemeIdUris:null,roles:[],forced:!1,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null,accessibilityPurpose:null,external:!1,fastSwitching:!1,fullMimeTypes:new Set}}function ma(e,t,n){if(t==e&&e!=n)return Ni;if(n==e&&e!=t)return Xn;if(t>e){if(n<=e||n-e<t-e)return Xn;if(n-e>t-e)return Ni}else{if(n>e)return Ni;if(e-n<e-t)return Xn;if(e-n>e-t)return Ni}return M1}function C1(e,t,n){return t=Math.abs(e-t),e=Math.abs(e-n),e<t?Xn:t<e?Ni:M1}function of(e){switch(e.type){case me:return!e.language;case"image":return!e.tilesLayout;default:return!1}}function sf(e){return JSON.stringify([e.fastSwitching,e.width,e.frameRate,Rl(e.codecs),e.mimeType,e.label,e.roles,e.closedCaptions?Array.from(e.closedCaptions.entries()):null,e.bandwidth])}function af(e){return JSON.stringify([e.fastSwitching,e.channelsCount,e.language,e.bandwidth,e.label,Rl(e.codecs),e.mimeType,e.roles,e.audioSamplingRate,e.primary])}function va(e){return JSON.stringify([e.language,e.label,e.codecs,e.mimeType,e.bandwidth,e.roles])}function ya(e){return JSON.stringify([e.width,e.codecs,e.mimeType])}function Rl(e){if(!uf.has(e)){var t=It(e);uf.set(e,t)}return uf.get(e)}G("shaka.util.PeriodCombiner",Mt),Mt.prototype.setUseStreamOnce=Mt.prototype.wi,Mt.prototype.setAllowMultiTypeVariants=Mt.prototype.li,Mt.prototype.combinePeriods=Mt.prototype.Mf,Mt.prototype.deleteStream=Mt.prototype.Bh,Mt.prototype.getImageStreams=Mt.prototype.mj,Mt.prototype.getTextStreams=Mt.prototype.ng,Mt.prototype.getVariants=Mt.prototype.Ij;var Xn=1,M1=0,Ni=-1,uf=new Map;function xM(e,t){var n=new DOMParser,i=IM.value()(e);e=null;try{e=n.parseFromString(i,"text/xml")}catch{return null}if(n=e.documentElement,!n||n.getElementsByTagName("parsererror").length||n.tagName!=t)return null;if(!("createNodeIterator"in document))return n;for(t=document.createNodeIterator(e,NodeFilter.SHOW_ALL);e=t.nextNode();)if(e instanceof HTMLElement||e instanceof SVGElement)return null;return n}function k1(e,t){try{var n=fi(e);return xM(n,t)}catch{return null}}var IM=new Gr(function(){if(typeof trustedTypes<"u"){var e=trustedTypes.createPolicy("shaka-player#xml",{createHTML:function(t){return t}});return function(t){return e.createHTML(t)}}return function(t){return t}});function Ll(){var e=this;this.j=this.g=null,this.A=[],this.i=null,this.Ca=1,this.H=[],this.l={Se:"",type:"",profiles:[],hc:null,ob:0,cb:null,Vd:0},this.u=new Map,this.o={},this.C={},this.na={},this.m=new Mt,this.L=0,this.ra=new qr(5),this.N=new oe(function(){if(e.K&&!e.g.continueLoadingWhenPaused&&(e.I.Ma(e.K,"timeupdate"),e.K.paused)){e.I.sa(e.K,"timeupdate",function(){return _1(e)});return}_1(e)}),this.S=new so,this.P=null,this.G=[],this.aa=1/0,this.J=!1,this.h=null,this.O=0,this.ka=!1,this.I=new Ae,this.K=null,this.V=!1,this.$="",this.ha=function(){return!1},this.Y=[]}f=Ll.prototype,f.configure=function(e,t){var n=this.j&&e.dash.updatePeriod!=this.g.dash.updatePeriod&&0<=e.dash.updatePeriod;this.g=e,t&&(this.ha=t),n&&this.i&&this.i.presentationTimeline.T()&&this.N.Sa(),this.h&&this.h.configure(this.g),this.m&&(this.m.li(this.g.dash.multiTypeVariantsAllowed&&Gi()),this.m.wi(this.g.dash.useStreamOnceInPeriodFlattening))},f.start=function(e,t){var n=this,i;return k(function(r){if(r.g==1)return n.J=t.isLowLatencyMode(),n.A=[e],n.j=t,T(r,lf(n),2);if(i=r.h,n.j&&cf(n,i),!n.j)throw new R(2,7,7001);return r.return(n.i)})},f.stop=function(){for(var e=g(Object.values(this.o)),t=e.next();!t.done;t=e.next())t=t.value,t.segmentIndex&&t.segmentIndex.release();return this.m&&this.m.release(),this.g=this.j=null,this.A=[],this.i=null,this.o={},this.C={},this.u.clear(),this.l={Se:"",type:"",profiles:[],hc:null,ob:0,cb:null,Vd:0},this.m=null,this.N!=null&&(this.N.stop(),this.N=null),this.h&&this.h.destroy(),this.I&&(this.I.release(),this.I=null),this.S.destroy()},f.update=function(){var e=this,t;return k(function(n){if(n.g==1)return Z(n,2),T(n,lf(e),4);if(n.g!=2)return he(n,0);if(t=ee(n),!e.j||!t)return n.return();e.j.onError(t),H(n)})},f.onExpirationUpdated=function(){},f.onInitialVariantChosen=function(e){if(this.i&&this.i.presentationTimeline.T()){var t=e.video||e.audio;if(t&&t.segmentIndex){e=this.i.presentationTimeline.tc();var n=t.segmentIndex.find(e);n!=null&&(t=t.segmentIndex.get(n))&&(this.L=t.endTime-e,cf(this,0))}}},f.banLocation=function(e){this.h&&this.h.banLocation(e)},f.setMediaElement=function(e){this.K=e};function lf(e){var t,n,i,r,o,s,a,u,l,c,h;return k(function(d){return d.g==1?(t=4,n="MPD",i=VM(e),r=e.A,i.length?(r=i,n="Patch",t=6):1<e.A.length&&e.h&&(o=fa(e.h,"Location",!0),o.length&&(r=o)),s=ct(r,e.g.retryParameters),a=Date.now(),T(d,df(e,s,0,{type:t}),2)):d.g!=3?(u=d.h,e.j?(u.uri&&u.uri!=u.originalUri&&!e.A.includes(u.uri)&&e.A.unshift(u.uri),l=new $e(u.uri),e.$=l.g.toString(),T(d,CM(e,u.data,u.uri,n),3)):d.return(0)):(c=Date.now(),h=(c-a)/1e3,e.ra.sample(1,h),d.return(h))})}function CM(e,t,n,i){var r,o,s,a,u,l,c,h,d,p;return k(function(m){if(m.g==1){if(r=t,o=e.g.dash.manifestPreprocessor,s=Hu,o!=s){if(Ke("manifest.dash.manifestPreprocessor configuration","Please Use manifest.dash.manifestPreprocessorTXml instead."),a=k1(r,i),!a)throw new R(2,4,4001,n);o(a),r=Hn(a.outerHTML)}if(u=As(r,i),!u)throw new R(2,4,4001,n);return l=e.g.dash.manifestPreprocessorTXml,c=zu,l!=c&&l(u),i==="Patch"?m.return(MM(e,u)):e.g.dash.disableXlinkProcessing?m.return(R1(e,u,n)):(h=e.g.dash.xlinkFailGracefully,d=Il(u,e.g.retryParameters,h,n,e.j.networkingEngine),Er(e.S,d),T(m,d.promise,2))}return p=m.h,m.return(R1(e,p,n))})}function R1(e,t,n){var i,r,o,s,a,u,l,c,h,d,p,m,v,y,E,S,w,A,x,I,C,L,P,M,D,N,b,_,U,F,B,W,J,ne,Ee,Oe,Ne,Ye,Ie,Re,He,jn,at,hn,xn,ut,bn,Zo,ji,es,Nc,Ba;return k(function(Fn){switch(Fn.g){case 1:for(e.h&&e.h.l.clear(),i=[n],r=[],o=new Map,s=Le(t,"Location"),a=g(s),u=a.next();!u.done;u=a.next())l=u.value,c=l.attributes.serviceLocation,(h=Rn(l))&&(d=pt(i,[h])[0],c&&(e.h?No(e.h,"Location",c,d):o.set(c,d)),r.push(d));if(e.h?(p=fa(e.h,"Location",!0),0<p.length&&(i=e.A=p)):r.length&&(i=e.A=r),e.l.Se=t.attributes.id||"",e.l.Vd=Te(t,"publishTime",Vi)||0,e.H=Le(t,"PatchLocation"),m=Promise.resolve(),(v=wt(t,"ContentSteering"))&&e.j)for(y=v.attributes.defaultServiceLocation,e.h?(e.h.i=i,e.h.h=y):(e.h=new Do(e.j),e.h.configure(e.g),e.h.setManifestType("DASH"),e.h.i=i,e.h.h=y,(E=Rn(v))&&(Te(v,"queryBeforeStart",hu,!1)?m=da(e.h,E):da(e.h,E))),S=g(o.keys()),w=S.next();!w.done;w=S.next())A=w.value,x=o.get(A),No(e.h,"Location",A,x);if(I=Le(t,"BaseURL"),C=!1,e.h)for(L=g(I),P=L.next();!P.done;P=L.next())M=P.value,D=M.attributes.serviceLocation,N=Rn(M),D&&N&&(No(e.h,"BaseURL",D,N),C=!0);if(e.Y=null,C&&e.h||(b=I.map(Rn),e.Y=pt(i,b)),_=function(){return e.h&&C?fa(e.h,"BaseURL"):e.Y?e.Y:[]},e.l.cb=_,U=0,I&&I.length&&(U=Te(I[0],"availabilityTimeOffset",cu)||0),e.l.ob=U,F=e.g.dash.ignoreMinBufferTime,B=0,F||(B=Te(t,"minBufferTime",ti)||0),e.L=Te(t,"minimumUpdatePeriod",ti,-1),W=Te(t,"availabilityStartTime",Vi),J=Te(t,"timeShiftBufferDepth",ti),ne=e.g.dash.ignoreSuggestedPresentationDelay,Ee=null,ne||(Ee=Te(t,"suggestedPresentationDelay",ti)),Oe=e.g.dash.ignoreMaxSegmentDuration,Ne=null,Oe||(Ne=Te(t,"maxSegmentDuration",ti)),Ye=t.attributes.type||"static",e.i&&e.i.presentationTimeline&&(e.V=e.i.presentationTimeline.T()&&Ye=="static"),e.l.type=Ye,DM(e),e.i)for(Ie=e.i.presentationTimeline,Re=g(Object.values(e.o)),He=Re.next();!He.done;He=Re.next())jn=He.value,jn.segmentIndex&&jn.segmentIndex.Ya(Ie.Hb());else at=e.g.defaultPresentationDelay||1.5*B,hn=Ee??at,Ie=new te(W,hn,e.g.dash.autoCorrectDrift);return Ie.Xc(Ye=="static"),Ie.T()&&!isNaN(e.g.availabilityWindowOverride)&&(J=e.g.availabilityWindowOverride),J==null&&(J=1/0),Ie.hf(J),xn=t.attributes.profiles||"",e.l.profiles=xn.split(","),ut={Tb:Ye!="static",presentationTimeline:Ie,Aa:null,va:null,wa:null,M:null,bandwidth:0,ug:!1,ob:U,hc:null,profiles:xn.split(","),roles:null,Db:function(){return""}},e.O=0,bn=N1(e,ut,_,t,!1),Zo=bn.duration,ji=bn.periods,(Ye!="static"||e.V)&&bn.Dh||Ie.vb(Zo||1/0),e.ka&&!e.J&&e.j.isAutoLowLatencyMode()&&(e.j.enableLowLatencyMode(),e.J=e.j.isLowLatencyMode()),e.J&&Ie.mi(e.aa),Ie.Eg(Ne||1),T(Fn,m,2);case 2:return e.J&&(B=0,es=Ee??e.g.defaultPresentationDelay,Ie.Vg(es)),e.i?(e.i.periodCount=ji.length,e.i.gapCount=e.O,T(Fn,L1(e,ji,!1),4)):T(Fn,e.m.Mf(ji,ut.Tb),6);case 6:if(e.i={presentationTimeline:Ie,variants:e.m.l,textStreams:e.m.ng(),imageStreams:e.m.i,offlineSessionIds:[],minBufferTime:B||0,sequenceMode:e.g.dash.sequenceMode,ignoreManifestTimestampsInSegmentsMode:!1,type:"DASH",serviceDescription:LM(t),nextUrl:PM(t),periodCount:ji.length,gapCount:e.O,isLowLatency:e.ka,startTime:null},!Ie.Hi()){Fn.B(7);break}return Nc=Le(t,"UTCTiming"),T(Fn,BM(e,_,Nc),8);case 8:if(Ba=Fn.h,!e.j)return Fn.return();Ie.ni(Ba);case 7:Ie.Oe();case 4:e.j.makeTextStreamsForClosedCaptions(e.i),H(Fn)}})}function L1(e,t,n){var i;return k(function(r){if(r.g==1)return T(r,e.m.Mf(t,!0,n),2);e.i.variants=e.m.l,i=e.m.ng(),0<i.length&&(e.i.textStreams=i),e.i.imageStreams=e.m.i,e.j.filter(e.i),H(r)})}function MM(e,t){var n,i,r,o,s,a,u,l,c,h,d,p,m,v,y,E,S,w,A,x,I,C,L,P,M,D,N;return k(function(b){if(b.g==1){if(n=t.attributes.mpdId,i=Te(t,"originalPublishTime",Vi),!n||n!==e.l.Se||i!==e.l.Vd)throw e.H=[],new R(1,4,4052);for(r=[],o=[],s=new Set,a=g(ym(t)),u=a.next();!u.done;u=a.next())if(l=u.value,c=du(l.attributes.sel||""),h=c[c.length-1],d=Rn(l)||"",h.name==="MPD")if(h.pc==="mediaPresentationDuration"){p=Rn(l)||"";var _=ti(p);if(_!=null){e.l.hc=_;for(var U=g(e.u.values()),F=U.next();!F.done;F=U.next())F.value.hc=_}}else if(h.pc==="type"){for(e.i.presentationTimeline.Xc(d=="static"),e.l.type=d,_=g(e.u.values()),U=_.next();!U.done;U=_.next())U.value.Tb=d=="dynamic";d=="static"&&(e.L=-1)}else h.pc==="publishTime"?e.l.Vd=Vi(d)||0:h.pc===null&&l.tagName==="add"&&o.push(l);else if(h.name==="PatchLocation")Sm(e.H,l);else if(h.name==="Period")l.tagName==="add"?o.push(l):l.tagName==="remove"&&h.id&&RM(e,h.id);else if(h.name==="SegmentTemplate"){if(U=du(l.attributes.sel||""),_=U[U.length-1],_.pc){U=P1(e,U),F=Rn(l)||"";for(var B=g(U),W=B.next();!W.done;W=B.next())W=e.u.get(W.value),Am(W.M.Cc,l.tagName,_.pc,F);_=U}else _=[];for(m=_,v=g(m),y=v.next();!y.done;y=v.next())E=y.value,s.add(E)}else if(h.name==="SegmentTimeline"||h.name==="S"){for(_=du(l.attributes.sel||""),_=P1(e,_),U=g(_),F=U.next();!F.done;F=U.next())F=e.u.get(F.value),F=Lo(F,Qi,"SegmentTimeline"),B=Le(F,"S"),Sm(B,l),F.children=B;for(S=_,w=g(S),A=w.next();!A.done;A=w.next())x=A.value,s.add(x)}for(I=g(s),C=I.next();!C.done;C=I.next())L=C.value,D1(e,L);for(P=g(o),M=P.next();!M.done;M=P.next())D=M.value,r.push.apply(r,X(kM(e,D)));return r.length?(e.i.periodCount+=r.length,e.i.gapCount=e.O,T(b,L1(e,r,!0),2)):b.B(2)}e.l.type=="static"&&(N=e.l.hc,e.i.presentationTimeline.vb(N||1/0)),H(b)})}function kM(e,t){return N1(e,{Tb:e.l.type=="dynamic",presentationTimeline:e.i.presentationTimeline,Aa:null,va:null,wa:null,M:null,bandwidth:0,ug:!1,ob:e.l.ob,profiles:e.l.profiles,hc:e.l.hc,roles:null,Db:function(){return""}},e.l.cb,t,!0).periods}function RM(e,t){e.i.periodCount--;for(var n=g(e.u.keys()),i=n.next();!i.done;i=n.next())if(i=i.value,i.startsWith(t)){var r=e.u.get(i);Lo(r,Qi,"SegmentTimeline").children=[],D1(e,i),e.u.delete(i)}e.G=e.G.filter(function(o){return o!==t})}function P1(e,t){var n="",i="",r=-1,o="";t=g(t);for(var s=t.next();!s.done;s=t.next())s=s.value,s.name==="Period"?n=s.id:s.name==="AdaptationSet"?(i=s.id,s.position!==null&&(r=s.position)):s.name==="Representation"&&(o=s.id);if(t=[],o)t.push(n+","+o);else if(i)for(r=g(e.u.values()),e=r.next();!e.done;e=r.next())e=e.value,e.Aa.id===n&&e.wa.id===i&&e.M.id&&t.push(n+","+e.M.id);else if(-1<r)for(i=g(e.u.values()),e=i.next();!e.done;e=i.next())e=e.value,e.Aa.id===n&&e.wa.position===r&&e.M.id&&t.push(n+","+e.M.id);return t}function D1(e,t){var n=e.u.get(t),i=e.o[t];i.segmentIndex&&i.segmentIndex.Ya(e.i.presentationTimeline.Hb());try{var r=m1(n,function(o,s,a,u){return O1(e,o,s,a,u)},e.o,!0,e.g.dash.initialSegmentLimit,e.na,n.M.aesKey,null,!0);i.createSegmentIndex=function(){return k(function(o){if(o.g==1)return i.segmentIndex?o.B(0):T(o,r.Jc(),3);i.segmentIndex=o.h,H(o)})}}catch(o){if(t=n.M.contentType,t!=me&&t!="application"&&t!="image"||o.code!=4002)throw o}}function LM(e){var t=wt(e,"ServiceDescription");if(!t||(e=wt(t,"Latency"),t=wt(t,"PlaybackRate"),!e&&!t))return null;var n={};return e&&("target"in e.attributes&&(n.targetLatency=parseInt(e.attributes.target,10)/1e3),"max"in e.attributes&&(n.maxLatency=parseInt(e.attributes.max,10)/1e3),"min"in e.attributes&&(n.minLatency=parseInt(e.attributes.min,10)/1e3)),t&&("max"in t.attributes&&(n.maxPlaybackRate=parseFloat(t.attributes.max)),"min"in t.attributes&&(n.minPlaybackRate=parseFloat(t.attributes.min))),n}function PM(e){if(e=Le(e,"SupplementalProperty"),!e.length)return null;e=g(e);for(var t=e.next();!t.done;t=e.next())if(t=t.value,t.attributes.schemeIdUri=="urn:mpeg:dash:chaining:2016")return t.attributes.value;return null}function N1(e,t,n,i,r){var o=t.hc;o||(o=Te(i,"mediaPresentationDuration",ti),e.l.hc=o);var s=0;e.i&&e.i.presentationTimeline&&e.V&&(s=e.i.presentationTimeline.dc());var a=[],u=s;i=Le(i,"Period");for(var l=0;l<i.length;l++){var c=i[l],h=i[l+1],d=Te(c,"start",ti,u),p=c.attributes.id,m=Te(c,"duration",ti);d=l==0&&d==0&&e.V?s:d;var v=null;if(h){var y=Te(h,"start",ti);y!=null&&(v=y-d+s)}else o!=null&&(v=o-d+s);if(y=XA,v&&m&&Math.abs(v-m)>y&&v>m&&e.O++,v==null&&(v=m),!(e.P!==null&&p!==null&&d!==null&&d<e.P)||e.G.includes(p)||l+1==i.length){if(d!==null&&(e.P===null||d>e.P)&&(e.P=d),u=NM(e,t,n,{start:d,duration:v,node:c,xg:v==null||!h}),a.push(u),t.Aa.id&&v&&(e.na[t.Aa.id]=v),v==null){u=null;break}u=d+v}}if(r)for(t=g(a),n=t.next();!n.done;n=t.next())n=n.value.id,e.G.includes(n)||e.G.push(n);else e.G=a.map(function(E){return E.id});return o!=null?{periods:a,duration:o+s,Dh:!1}:{periods:a,duration:u,Dh:!0}}function DM(e){var t=Object.keys(e.C).filter(function(o){return!e.G.includes(o)});t=g(t);for(var n=t.next();!n.done;n=t.next()){n=n.value;for(var i=g(e.C[n]),r=i.next();!r.done;r=i.next())r=r.value,e.m&&e.m.Bh(e.o[r],n),delete e.o[r];delete e.C[n]}}function NM(e,t,n,i){t.Aa=hf(e,i.node,null,n),t.va=i,t.Aa.ob=t.ob,t.Aa.id||(t.Aa.id="__shaka_period_"+i.start);var r=Le(i.node,"EventStream");n=t.presentationTimeline.Hb(),r=g(r);for(var o=r.next();!o.done;o=r.next())GM(e,i.start,i.duration,o.value,n);for(n=Le(i.node,"SupplementalProperty"),n=g(n),r=n.next();!r.done;r=n.next())r=r.value,r.attributes.schemeIdUri=="urn:mpeg:dash:urlparam:2014"&&(r=Ta(e,r))&&(t.Db=r);if(n=Le(i.node,"AdaptationSet").map(function(l,c){return _M(e,t,c,l)}).filter(Ei),t.Tb){for(i=[],r=g(n),o=r.next();!o.done;o=r.next()){o=g(o.value.vk);for(var s=o.next();!s.done;s=o.next())i.push(s.value)}if(i.length!=new Set(i).size)throw new R(2,4,4018)}for(i=n.filter(function(l){return!l.hh}),n=n.filter(function(l){return l.hh}),n=g(n),r=n.next();!r.done;r=n.next()){r=r.value,o=r.hh.split(" "),s=g(i);for(var a=s.next();!a.done;a=s.next())if(a=a.value,o.includes(a.id)){a=g(a.streams);for(var u=a.next();!u.done;u=a.next())Xm(u.value,r.streams)}}if(n=Pl(e.g.disableAudio,i,"audio"),r=Pl(e.g.disableVideo,i,"video"),o=Pl(e.g.disableText,i,me),i=Pl(e.g.disableThumbnails,i,"image"),r.length===0&&n.length===0)throw new R(2,4,4004);return{id:t.Aa.id,audioStreams:n,videoStreams:r,textStreams:o,imageStreams:i}}function Pl(e,t,n){return e||!t.length?[]:t.reduce(function(i,r){return r.contentType!=n||i.push.apply(i,X(r.streams)),i},[])}function _M(e,t,n,i){function r(D){var N=D.attributes["dvb:fontFamily"];D=D.attributes["dvb:url"],N&&D&&(D=pt(t.wa.cb(),[D],t.Db()),e.j.addFont(N,D[0]))}function o(D){switch(D){case 1:case 5:case 6:case 7:return"srgb";case 9:return"rec2020";case 11:case 12:return"p3"}}function s(D){switch(D){case 1:case 6:case 13:case 14:case 15:return"SDR";case 16:return"PQ";case 18:return"HLG"}}t.wa=hf(e,i,t.Aa,null),t.wa.position=n;var a=!1;n=Le(i,"Role");var u=n.map(function(D){return D.attributes.value}).filter(Ei),l=void 0,c=t.wa.contentType==me;c&&(l="subtitle"),n=g(n);for(var h=n.next();!h.done;h=n.next()){h=h.value;var d=h.attributes.schemeIdUri;if(d==null||d=="urn:mpeg:dash:role:2011")switch(h=h.attributes.value,h){case"main":a=!0;break;case"caption":case"subtitle":l=h}}var p=Le(i,"EssentialProperty");n=null;var m=!1;h=null,d=!1,p=g(p);for(var v=p.next();!v.done;v=p.next()){v=v.value;var y=v.attributes.schemeIdUri;if(y=="http://dashif.org/guidelines/trickmode")n=v.attributes.value;else if(y=="urn:mpeg:mpegB:cicp:TransferCharacteristics")var E=s(parseInt(v.attributes.value,10));else if(y=="urn:mpeg:mpegB:cicp:ColourPrimaries")var S=o(parseInt(v.attributes.value,10));else y!="urn:mpeg:mpegB:cicp:MatrixCoefficients"&&(y=="urn:mpeg:dash:ssr:2023"&&e.g.dash.enableFastSwitching?m=!0:y=="urn:dvb:dash:fontdownload:2014"?r(v):y=="urn:mpeg:dash:urlparam:2014"&&(h=Ta(e,v))||(d=!0))}if(d)return null;var w=null;for(d=Le(i,"SupplementalProperty"),d=g(d),p=d.next();!p.done;p=d.next())p=p.value,v=p.attributes.schemeIdUri,v=="http://dashif.org/guidelines/last-segment-number"?w=parseInt(p.attributes.value,10)-1:v=="urn:mpeg:mpegB:cicp:TransferCharacteristics"?E=s(parseInt(p.attributes.value,10)):v=="urn:mpeg:mpegB:cicp:ColourPrimaries"?S=o(parseInt(p.attributes.value,10)):v=="urn:dvb:dash:fontdownload:2014"?r(p):v=="urn:mpeg:dash:urlparam:2014"&&(h=Ta(e,p));h&&(t.Db=h),h=Le(i,"Accessibility");var A=new Map,x;for(h=g(h),d=h.next();!d.done;d=h.next())if(p=d.value,d=p.attributes.schemeIdUri,p=p.attributes.value,d!="urn:scte:dash:cc:cea-608:2015"||e.g.disableText)if(d!="urn:scte:dash:cc:cea-708:2015"||e.g.disableText)d=="urn:mpeg:dash:role:2011"?p!=null&&(u.push(p),p=="captions"&&(l="caption")):d=="urn:tva:metadata:cs:AudioPurposeCS:2007"&&(p=="1"?x="visually impaired":p=="2"&&(x="hard of hearing"));else if(d=1,p!=null)for(p=g(p.split(";")),v=p.next();!v.done;v=p.next()){y=v.value;var I=v=void 0;y.includes("=")?(y=y.split("="),v="svc"+y[0],I=y[1].split(",")[0].split(":").pop()):(v="svc"+d,d++,I=y),A.set(v,Ce(I))}else A.set("svc1","und");else if(d=1,p!=null)for(p=p.split(";"),v=g(p),y=v.next();!y.done;y=v.next()){I=y.value;var C=y=void 0;I.includes("=")?(I=I.split("="),y=I[0].startsWith("CC")?I[0]:"CC"+I[0],C=I[1]||"und"):(y="CC"+d,p.length==2?d+=2:d++,C=I),A.set(y,Ce(C))}else A.set("CC1","und");h=Le(i,"ContentProtection");var L=s1(h,e.g.dash.ignoreDrmInfo,e.g.dash.keySystemsByURI),P=Ce(t.wa.language||"und"),M=t.wa.label;if(h=Le(i,"Representation"),i=h.map(function(D){return(D=UM(e,t,L,l,P,M,a,u,A,D,x,w))&&(D.hdr=D.hdr||E,D.colorGamut=D.colorGamut||S,D.fastSwitching=m),D}).filter(function(D){return!!D}),i.length==0){if(n=t.wa.contentType=="image",e.g.dash.ignoreEmptyAdaptationSet||c||n)return null;throw new R(2,4,4003)}if(!t.wa.contentType||t.wa.contentType=="application")for(t.wa.contentType=j1(i[0].mimeType,i[0].codecs),c=g(i),d=c.next();!d.done;d=c.next())d.value.type=t.wa.contentType;for(c=t.wa.id||"__fake__"+e.Ca++,d=g(i),p=d.next();!p.done;p=d.next()){for(p=p.value,v=g(L.drmInfos),y=v.next();!y.done;y=v.next())y=y.value,y.keyIds=y.keyIds&&p.keyIds?new Set([].concat(X(y.keyIds),X(p.keyIds))):y.keyIds||p.keyIds;e.g.dash.enableAudioGroups&&(p.groupId=c)}return h=h.map(function(D){return D.attributes.id}).filter(Ei),{id:c,contentType:t.wa.contentType,language:P,cm:a,streams:i,drmInfos:L.drmInfos,hh:n,vk:h}}function Ta(e,t){if((t=Zn(t,"urn:mpeg:dash:schema:urlparam:2014","UrlQueryInfo"))&&Te(t,"useMPDUrlQuery",hu,!1)){var n=t.attributes.queryTemplate;if(n)return function(){return n=="$querypart$"?e.$:n.split("&").map(function(i){if(i=="$querypart$")return e.$;var r=/\$query:(.*?)\$/g.exec(i);if(r&&r.length==2){r=r[1];var o=new Fr(e.$).get(r);if(o.length)return r+"="+o[0]}return i}).join("&")}}return null}function UM(e,t,n,i,r,o,s,a,u,l,c,h){t.M=hf(e,l,t.wa,null);var d=t.M.id;if(e.aa=Math.min(e.aa,t.M.ob),e.ka=0<e.aa,!FM(t.M))return null;var p=t.va.start;t.bandwidth=Te(l,"bandwidth",mi)||0,t.roles=a;var m=Le(l,"SupplementalProperty"),v=Le(l,"EssentialProperty"),y=null,E=v.find(function(U){return U.attributes.schemeIdUri=="urn:mpeg:dash:urlparam:2014"});(E||(E=m.find(function(U){return U.attributes.schemeIdUri=="urn:mpeg:dash:urlparam:2014"})))&&(y=Ta(e,E)),y&&(t.Db=y),E=t.M.contentType,y=E==me||E=="application",E=E=="image";try{var S=void 0;if(n.Ff){var w=t.M.cb,A=t.Db,x=pt(w(),[n.Ff.Wj],A()),I=ct(x,e.g.retryParameters);S={bitsKey:128,blockCipherMode:"CBC",iv:n.Ff.iv,firstMediaSequenceNumber:0,fetchKey:function(){var U,F,B;return k(function(W){if(W.g==1)return T(W,df(e,I,6),2);if(W.g!=3){if(U=W.h,!U.data||U.data.byteLength!=16)throw new R(2,4,4049);return F={name:"AES-CBC"},B=S,T(W,O.crypto.subtle.importKey("raw",U.data,F,!0,["decrypt"]),3)}B.cryptoKey=W.h,S.fetchKey=void 0,H(W)})}}}if(t.M.aesKey=S,w=function(U,F,B,W){return O1(e,U,F,B,W)},t.M.xd)var C=nM(t,w,S);else if(t.M.lc)C=rM(t,e.o,S);else if(t.M.Cc)C=m1(t,w,e.o,!!e.i,e.g.dash.initialSegmentLimit,e.na,S,h,!1);else{var L=t.va.duration||0,P=t.M.cb,M=t.M.mimeType,D=t.M.codecs;C={Jc:function(){var U=ed(p,L,P());return U.Ub(function(F){F.mimeType=M,F.codecs=D}),Promise.resolve(U)}}}}catch(U){if((y||E)&&U.code==4002)return null;throw U}l=Le(l,"ContentProtection"),l=BC(l,n,e.g.dash.ignoreDrmInfo,e.g.dash.keySystemsByURI),l=new Set(l?[l]:[]),h=!1,m.some(function(U){return U.attributes.schemeIdUri=="tag:dolby.com,2018:dash:EC3_ExtensionType:2018"&&U.attributes.value=="JOC"})&&(h=!0),m=!1,y&&(m=a.includes("forced_subtitle")||a.includes("forced-subtitle"));var N;if(E&&((v=v.find(function(U){return["http://dashif.org/thumbnail_tile","http://dashif.org/guidelines/thumbnail_tile"].includes(U.attributes.schemeIdUri)}))&&(N=v.attributes.value),!N))return null;var b;y=t.M.codecs,t.profiles.includes("http://dashif.org/guidelines/dash-if-uhd#hevc-hdr-pq10")&&(y.includes("hvc1.2.4.L153.B0")||y.includes("hev1.2.4.L153.B0"))&&(b="PQ"),v=t.M.id?t.Aa.id+","+t.M.id:"",e.H.length&&d&&e.u.set(t.Aa.id+","+d,OM(t));var _=v&&e.o[v]?e.o[v]:{id:e.Ca++,originalId:t.M.id,groupId:null,createSegmentIndex:function(){return Promise.resolve()},closeSegmentIndex:function(){_.segmentIndex&&(_.segmentIndex.release(),_.segmentIndex=null)},segmentIndex:null,mimeType:t.M.mimeType,codecs:y,frameRate:t.M.frameRate,pixelAspectRatio:t.M.pixelAspectRatio,bandwidth:t.bandwidth,width:t.M.width,height:t.M.height,kind:i,encrypted:0<n.drmInfos.length,drmInfos:n.drmInfos,keyIds:l,language:r,originalLanguage:t.wa.language,label:o,type:t.wa.contentType,primary:s,trickModeVideo:null,emsgSchemeIdUris:t.M.emsgSchemeIdUris,roles:a,forced:m,channelsCount:t.M.Ue,audioSamplingRate:t.M.audioSamplingRate,spatialAudio:h,closedCaptions:u,hdr:b,colorGamut:void 0,videoLayout:void 0,tilesLayout:N,accessibilityPurpose:c,external:!1,fastSwitching:!1,fullMimeTypes:new Set([ot(t.M.mimeType,t.M.codecs)])};return _.createSegmentIndex=function(){var U;return k(function(F){if(F.g==1)return _.segmentIndex?F.B(0):(U=_,T(F,C.Jc(),3));U.segmentIndex=F.h,H(F)})},v&&t.Tb&&!e.o[v]&&(t=t.Aa.id||"",e.C[t]||(e.C[t]=[]),e.o[v]=_,e.C[t].push(v)),_}function OM(e){function t(n){return n?(n=mr(n),n.xd=null,n.lc=null,n.Cc=vh(n.Cc),n):null}return e=mr(e),e.Aa=t(e.Aa),e.wa=t(e.wa),e.M=t(e.M),e.va&&(e.va=mr(e.va),e.va.node=null),e}function _1(e){var t,n;return k(function(i){switch(i.g){case 1:return t=0,Z(i,2),T(i,lf(e),4);case 4:t=i.h,he(i,3);break;case 2:if(n=ee(i),e.j){if(e.g.raiseFatalErrorOnManifestUpdateRequestFailure)return e.j.onError(n),i.return();n.severity=1,e.j.onError(n)}case 3:if(!e.j)return i.return();e.j.onManifestUpdated(),cf(e,t),H(i)}})}function cf(e,t){if(!(0>e.L)){var n=e.L;0<=e.g.dash.updatePeriod&&(n=e.g.dash.updatePeriod),e.N.X(Math.max(n-t,ou(e.ra)))}}function hf(e,t,n,i){n=n||{contentType:"",mimeType:"",codecs:"",emsgSchemeIdUris:[],frameRate:void 0,pixelAspectRatio:void 0,Ue:null,audioSamplingRate:null,ob:0,ef:0},i=i||n.cb;var r=t.attributes.id,o=Le(t,"BaseURL"),s,a=!1;if(e.h)for(var u=g(o),l=u.next();!l.done;l=u.next()){var c=l.value;l=c.attributes.serviceLocation,c=Rn(c),l&&c&&(No(e.h,r,l,c),a=!0)}a&&e.h||(s=o.map(Rn)),u=t.attributes.contentType||n.contentType,l=t.attributes.mimeType||n.mimeType,c=[t.attributes.codecs||n.codecs];var h=gi(t,"urn:scte:dash:scte214-extensions","supplementalCodecs");h&&c.push(h),c=sd(c).join(","),h=Te(t,"frameRate",nw)||n.frameRate;var d=t.attributes.sar||n.pixelAspectRatio,p=jM(Le(t,"InbandEventStream"),n.emsgSchemeIdUris),m=Le(t,"AudioChannelConfiguration");m=bM(m)||n.Ue;var v=Te(t,"audioSamplingRate",xt)||n.audioSamplingRate;u||(u=j1(l,c));var y=wt(t,"SegmentBase"),E=wt(t,"SegmentTemplate"),S=y&&Te(y,"availabilityTimeOffset",cu)||0,w=E&&Te(E,"availabilityTimeOffset",cu)||0,A=o&&o.length&&Te(o[0],"availabilityTimeOffset",cu)||0;S=n.ob+A+S+w,w=null,(A=wt(t,"SegmentSequenceProperties"))&&(A=wt(A,"SAP"))&&(w=Te(A,"cadence",lu)),A=t.attributes.label;var x=Le(t,"Label");return x&&x.length&&(x=x[0],et(x)&&(A=et(x))),{cb:function(){return pt(i(),o.length?e.h&&a?fa(e.h,r):s||[]:[])},xd:y||n.xd,lc:wt(t,"SegmentList")||n.lc,Cc:E||n.Cc,width:Te(t,"width",xt)||n.width,height:Te(t,"height",xt)||n.height,contentType:u,mimeType:l,codecs:c,frameRate:h,pixelAspectRatio:d,emsgSchemeIdUris:p,id:r,language:t.attributes.lang,Ue:m,audioSamplingRate:v,ob:S,Ge:null,ef:w||n.ef,label:A||null}}function jM(e,t){t=t.slice(),e=g(e);for(var n=e.next();!n.done;n=e.next())n=n.value.attributes.schemeIdUri,t.includes(n)||t.push(n);return t}function bM(e){e=g(e);for(var t=e.next();!t.done;t=e.next()){t=t.value;var n=t.attributes.schemeIdUri;if(n&&(t=t.attributes.value))switch(n){case"urn:mpeg:dash:outputChannelPositionList:2012":return t.trim().split(/ +/).length;case"urn:mpeg:dash:23003:3:audio_channel_configuration:2011":case"urn:dts:dash:audio_channel_configuration:2012":if(t=parseInt(t,10),!t)continue;return t;case"tag:dolby.com,2015:dash:audio_channel_configuration:2015":if(n=[2,1,2,2,2,2,1,2,2,1,1,1,1,2,1,1,2,2],t=parseInt(t,16),!t)continue;for(var i=0,r=0;r<n.length;r++)t&1<<r&&(i+=n[r]);if(i)return i;continue;case"tag:dolby.com,2014:dash:audio_channel_configuration:2011":case"urn:dolby:dash:audio_channel_configuration:2011":if(n=[1,1,1,1,1,2,2,1,1,2,2,2,1,2,1,1].reverse(),t=parseInt(t,16),!t)continue;for(r=i=0;r<n.length;r++)t&1<<r&&(i+=n[r]);if(i)return i;continue;case"urn:mpeg:mpegB:cicp:ChannelConfiguration":if(n=[0,1,2,3,4,5,6,8,2,3,4,7,8,24,8,12,10,12,14,12,14],(t=parseInt(t,10))&&0<t&&t<n.length)return n[t]}}return null}function FM(e){var t=e.xd?1:0;return t+=e.lc?1:0,t+=e.Cc?1:0,t==0?e.contentType==me||e.contentType=="application":(t!=1&&(e.xd&&(e.lc=null),e.Cc=null),!0)}function U1(e,t,n,i){var r,o,s,a,u,l,c;return k(function(h){if(h.g==1)return r=[Nt(n)],o=pt(t(),r),s=ct(o,e.g.retryParameters),s.method=i,a=e.j.networkingEngine.request(4,s,{isPreload:e.ha()}),Er(e.S,a),T(h,a.promise,2);if(u=h.h,i=="HEAD"){if(!u.headers||!u.headers.date)return h.return(0);l=u.headers.date}else l=ze(u.data);return c=Date.parse(l),isNaN(c)?h.return(0):h.return(c-Date.now())})}function BM(e,t,n){var i,r,o,s,a,u,l,c;return k(function(h){switch(h.g){case 1:i=n.map(function(d){return{scheme:d.attributes.schemeIdUri,value:d.attributes.value}}),r=e.g.dash.clockSyncUri,!i.length&&r&&i.push({scheme:"urn:mpeg:dash:utc:http-head:2014",value:r}),o=g(i),s=o.next();case 2:if(s.done){h.B(4);break}switch(a=s.value,Z(h,5),u=a.scheme,l=a.value,u){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":return h.B(7);case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":return h.B(8);case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":return c=Date.parse(l),h.return(isNaN(c)?0:c-Date.now());case"urn:mpeg:dash:utc:http-ntp:2014":case"urn:mpeg:dash:utc:ntp:2014":case"urn:mpeg:dash:utc:sntp:2014":de("NTP UTCTiming scheme is not supported");break;default:de("Unrecognized scheme in UTCTiming element",u)}h.B(9);break;case 7:return T(h,U1(e,t,l,"HEAD"),10);case 10:return h.return(h.h);case 8:return T(h,U1(e,t,l,"GET"),11);case 11:return h.return(h.h);case 9:he(h,3);break;case 5:ee(h);case 3:s=o.next(),h.B(2);break;case 4:return de("A UTCTiming element should always be given in live manifests! This content may not play on clients with bad clocks!"),h.return(0)}})}function GM(e,t,n,i,r){var o=i.attributes.schemeIdUri||"",s=i.attributes.value||"",a=Te(i,"timescale",xt)||1,u=Te(i,"presentationTimeOffset",xt)||0;i=g(Le(i,"Event"));for(var l=i.next();!l.done;l=i.next()){l=l.value;var c=Te(l,"presentationTime",xt)||0,h=Te(l,"duration",xt)||0;c=Math.max((c-u)/a+t,t),h=c+h/a,n!=null&&(c=Math.min(c,t+n),h=Math.min(h,t+n)),h<r||(l={schemeIdUri:o,value:s,startTime:c,endTime:h,id:l.attributes.id||"",eventElement:wm(l),eventNode:vh(l)},e.j.onTimelineRegionAdded(l))}}function O1(e,t,n,i,r){var o,s,a,u;return k(function(l){return l.g==1?(o=Pn,s=r?0:1,a=xr(t,n,i,e.g.retryParameters),T(l,df(e,a,o,{type:s}),2)):(u=l.h,l.return(u.data))})}function j1(e,t){return t=ot(e,t),Ms(t)?me:e.split("/")[0]}function df(e,t,n,i){return i||(i={}),i.isPreload=e.ha(),t=e.j.networkingEngine.request(n,t,i),Er(e.S,t),t.promise}function VM(e){var t=e.l.Vd;if(!e.l.Se||!t||!e.H.length)return[];var n=Date.now()/1e3,i=e.H.filter(function(r){return r=xt(r.attributes.ttl),!r||t+r>n}).map(Rn).filter(Ei);return i.length?pt(e.A,i):[]}G("shaka.dash.DashParser",Ll),Dn["application/dash+xml"]=function(){return new Ll},Dn["video/vnd.mpeg.dash.mpd"]=function(){return new Ll};function Dl(){}G("shaka.dependencies",Dl),Dl.has=function(e){return ff.has(e)},Dl.add=function(e,t){if(!F1[e])throw Error(e+" is not supported");e==b1?Ke("mux.js","mux.js is no longer used in Shaka Player."):ff.set(e,function(){return t})};var b1="muxjs",F1={dm:b1,ISOBoxer:"ISOBoxer"};Dl.Allowed=F1;var ff=new Map([["ISOBoxer",function(){return O.ISOBoxer}]]);function B1(e,t,n){this.type=e,this.ea=t,this.segments=n||null}function G1(e,t,n,i){this.id=e,this.name=t,this.attributes=n,this.value=i===void 0?null:i}G1.prototype.toString=function(e){function t(r){return r.name+"="+(isNaN(Number(r.value))?'"'+r.value+'"':r.value)}var n="#"+this.name,i=this.attributes?this.attributes.filter(function(r){return e?!e.has(r.name):!0}).map(t):[];return this.value&&i.unshift(this.value),0<i.length&&(n+=":"+i.join(",")),n};function V1(e,t){return t?e.toString():(t=new Set().add("AUDIO").add("VIDEO").add("SUBTITLES").add("PATHWAY-ID").add("GROUP-ID").add("URI"),e.toString(t))}function Sa(e,t){return e=e.attributes.filter(function(n){return n.name==t}),e.length?e[0]:null}function $(e,t,n){return(e=Sa(e,t))?e.value:n||null}function Pe(e,t){if(e=Sa(e,t),!e)throw new R(2,4,4023,t);return e.value}function H1(e,t,n){n=n===void 0?[]:n,this.ea=t,this.g=e,this.Xb=n}function z1(e,t){this.name=e,this.value=t}function yn(e,t){return e.filter(function(n){return n.name==t})}function K1(e,t){return e.filter(function(n){return Pe(n,"TYPE")==t})}function mt(e,t){e=g(e);for(var n=e.next();!n.done;n=e.next())if(n=n.value,n.name===t)return n;return null}function Uo(e,t,n){return n=n===void 0?0:n,(e=mt(e,t))?Number(e.value):n}function er(e,t,n){return t?q1(e,[t],n):[]}function q1(e,t,n){if(!t.length)return[];t=pt(e,t),e=[],t=g(t);for(var i=t.next();!i.done;i=t.next())e.push(W1(i.value,n));return e}function W1(e,t){if(!t||!t.size)return e;e=String(e).replace(/%7B/g,"{").replace(/%7D/g,"}");var n=e.match(/{\$\w*}/g);if(n){n=g(n);for(var i=n.next();!i.done;i=n.next()){i=i.value;var r=i.slice(2,i.length-1),o=t.get(r);if(o)e=e.replace(i,o);else throw new R(2,4,4039,r)}}return e}function HM(){this.g=0}function pf(e,t){t=ze(t),t=t.replace(/\r\n|\r(?=[^\n]|$)/gm,`
`).trim();var n=t.split(/\n+/m);if(!/^#EXTM3U($|[ \t\n])/m.test(n[0]))throw new R(2,4,4015);t=0;for(var i=!0,r=g(n),o=r.next();!o.done;o=r.next())if(o=o.value,/^#(?!EXT)/m.test(o)||i)i=!1;else if(o=gf(e,o),--e.g,X1.includes(o.name)){t=1;break}else o.name=="EXT-X-STREAM-INF"&&(i=!0);for(r=[],i=!0,o=0;o<n.length;o++){var s=n[o],a=n[o+1];if(/^#(?!EXT)/m.test(s)||i)i=!1;else{if(s=gf(e,s),zM.includes(s.name)){if(t!=1)throw new R(2,4,4017);s=n.splice(o,n.length-o),n=[],i=[],o=[],a=null,s=g(s);for(var u=s.next();!u.done;u=s.next())u=u.value,/^(#EXT)/.test(u)?(u=gf(e,u),X1.includes(u.name)?r.push(u):u.name=="EXT-X-MAP"?a=u:u.name=="EXT-X-PART"?o.push(u):u.name=="EXT-X-PRELOAD-HINT"?$(u,"TYPE")=="PART"?o.push(u):$(u,"TYPE")=="MAP"&&(u.name="EXT-X-MAP",a=u):i.push(u)):/^#(?!EXT)/m.test(u)||(u=u.trim(),a&&i.push(a),n.push(new H1(u,i,o)),i=[],o=[]);return o.length&&(a&&i.push(a),n.push(new H1("",i,o))),new B1(t,r,n)}r.push(s),s.name=="EXT-X-STREAM-INF"&&(s.attributes.push(new z1("URI",a)),i=!0)}}return new B1(t,r)}function gf(e,t){e=e.g++;var n=t.match(/^#(EXT[^:]*)(?::(.*))?$/);if(!n)throw new R(2,4,4016,t);t=n[1];var i=n[2];n=[];var r;if(i){i=new Yr(i);var o;(o=pr(i,/^([^,=]+)(?:,|$)/g))&&(r=o[1]);for(var s=/([^=]+)=(?:"([^"]*)"|([^",]*))(?:,|$)/g;o=pr(i,s);)n.push(new z1(o[1],o[2]||o[3])),$r(i)}return new G1(e,t,n,r)}var X1="EXT-X-TARGETDURATION EXT-X-MEDIA-SEQUENCE EXT-X-DISCONTINUITY-SEQUENCE EXT-X-PLAYLIST-TYPE EXT-X-I-FRAMES-ONLY EXT-X-ENDLIST EXT-X-SERVER-CONTROL EXT-X-SKIP EXT-X-PART-INF EXT-X-DATERANGE".split(" "),zM="EXTINF EXT-X-BYTERANGE EXT-X-DISCONTINUITY EXT-X-PROGRAM-DATE-TIME EXT-X-KEY EXT-X-DATERANGE EXT-X-MAP EXT-X-GAP".split(" ");function Y1(){}function $1(e){try{var t=mf(e);return oo({uri:e,originalUri:e,data:t.data,headers:{"content-type":t.contentType}})}catch(n){return Sr(n)}}function mf(e){var t=e.split(":");if(2>t.length||t[0]!="data")throw new R(2,1,1004,e);if(t=t.slice(1).join(":").split(","),2>t.length)throw new R(2,1,1004,e);var n=t[0];e=O.decodeURIComponent(t.slice(1).join(",")),t=n.split(";"),n=t[0];var i=!1;1<t.length&&t[t.length-1]=="base64"&&(i=!0,t.pop());var r;return i?r=fn(e):r=Hn(e),{data:r,contentType:n}}G("shaka.net.DataUriPlugin",Y1),Y1.parse=$1,Ai("data",$1);function Nl(){var e=this;this.g=this.h=null,this.G=1,this.A=new Map,this.J=new Map,this.P=new Map,this.P.set("video",new Map),this.P.set("audio",new Map),this.P.set(me,new Map),this.P.set("image",new Map),this.hb=new Set,this.i=new Map,this.l=null,this.O="",this.Ta=new HM,this.K=-1,this.ka=1/0,this.ha=this.zc=this.Ac=!1,this.C=new oe(function(){if(e.$&&!e.g.continueLoadingWhenPaused&&(e.Y.Ma(e.$,"timeupdate"),e.$.paused)){e.Y.sa(e.$,"timeupdate",function(){return TT(e)});return}TT(e)}),this.Da=bl,this.m=null,this.bb=0,this.o=1/0,this.Ja=this.Ia=this.V=0,this.aa=new so,this.H=new Map,this.I=new Map,this.ya=new Map,this.na=new Map,this.N=new Map,this.ra=new Map,this.Ca=new Map,this.ec=this.L=!1,this.Kb=new qr(5),this.j=null,this.S=!0,this.Ha=new Set,this.Y=new Ae,this.u=this.$=null,this.Mb=function(){return!1}}f=Nl.prototype,f.configure=function(e,t){this.g=e,t&&(this.Mb=t),this.j&&this.j.configure(this.g)},f.start=function(e,t){var n=this,i;return k(function(r){return r.g==1?(n.h=t,n.L=t.isLowLatencyMode(),T(r,xf(n,[e]).promise,2)):r.g!=3?(i=r.h,n.O=i.uri,T(r,WM(n,i.data,e),3)):r.return(n.m)})},f.stop=function(){this.C&&(this.C.stop(),this.C=null);var e=[];return this.aa&&(e.push(this.aa.destroy()),this.aa=null),this.g=this.h=null,this.hb.clear(),this.m=null,this.i.clear(),this.J.clear(),this.I.clear(),this.A.clear(),this.ya.clear(),this.na.clear(),this.N.clear(),this.ra.clear(),this.Ca.clear(),this.Ha.clear(),this.j&&this.j.destroy(),this.Y&&(this.Y.release(),this.Y=null),Promise.all(e)},f.update=function(){var e=this,t,n,i,r,o,s,a,u,l,c,h,d;return k(function(p){if(p.g==1){if(!Ot(e))return p.return();for(t=[],n=Array.from(e.i.values()),e.o=1/0,e.m.gapCount=0,i=n.filter(function(m){return m.stream.segmentIndex}),r=g(i),o=r.next();!o.done;o=r.next())s=o.value,t.push(KM(e,s));return T(p,Promise.all(t),2)}for(sT(e,i.map(function(m){return m.stream})),a=i.some(function(m){return m.Md==0}),i.length&&!a&&(u=pk,Ol(e,u.Oi),l=i.map(function(m){return m.fc}),e.l.vb(Math.min.apply(Math,X(l))),e.h.updateDuration()),a&&yf(e),c=g(i),h=c.next();!h.done;h=c.next())d=h.value,d.stream.segmentIndex&&!qn(d.stream.segmentIndex)&&e.h.disableStream(d.stream);H(p)})};function vf(e,t){return Ot(e)?e.P.get(t.type):t.Pe}function KM(e,t){var n,i,r,o,s,a,u,l,c,h,d,p,m,v,y,E,S,w,A,x,I,C,L,P,M,D,N,b,_,U,F,B,W,J;return k(function(ne){switch(ne.g){case 1:for(n=[],i=g(t.R()),r=i.next();!r.done;r=i.next())o=r.value,s=new $e(o),a=s.g,t.re&&(0<=t.Ob&&a.add("_HLS_msn",String(t.Ob)),0<=t.Pb&&a.add("_HLS_part",String(t.Pb))),t.se&&a.add("_HLS_skip","YES"),tm(a)&&sr(s,a),n.push(s.toString());return Z(ne,2),T(ne,xf(e,n,!0).promise,4);case 4:u=ne.h,he(ne,3);break;case 2:throw l=ee(ne),e.h&&e.h.disableStream(t.stream),l;case 3:if(!t.stream.segmentIndex)return ne.return();if(c=pf(e.Ta,u.data),c.type!=1)throw new R(2,4,4017);return h=u.uri,h==u.originalUri||t.R().includes(h)||t.gi.push(h),d=yn(c.ea,"EXT-X-DEFINE"),p=Tf(e,d,h),m=t.stream,v=vf(e,t),T(ne,cT(e,c,m.mimeType,t.R,p),5);case 5:for(y=ne.h,E=y.keyIds,S=y.drmInfos,w=function(Ee,Oe){return Ee.size===Oe.size&&[].concat(X(Ee)).every(function(Ne){return Oe.has(Ne)})},w(m.keyIds,E)||(m.keyIds=E,m.drmInfos=S,e.h.newDrmInfo(m)),A=mT(e,c,v,p,t.R,t.type),x=A.segments,(I=A.bandwidth)&&(m.bandwidth=I),C=ju(m),L=g(x),P=L.next();!P.done;P=L.next())M=P.value,M.ma&&(M.ma.pd=C);m.segmentIndex.Td(x,e.l.Hb()),x.length&&(D=Uo(c.ea,"EXT-X-MEDIA-SEQUENCE",0),b=(N=mt(c.ea,"EXT-X-SKIP"))?Number($(N,"SKIPPED-SEGMENTS")):0,_=uT(D,x),U=_.Ob,F=_.Pb,t.Ob=U+b,t.Pb=F,B=v.get(D),m.segmentIndex.Ya(B)),(W=qn(m.segmentIndex))&&(t.Tc=W.startTime,J=x[x.length-1],t.fc=J.endTime),mt(c.ea,"EXT-X-ENDLIST")&&(t.Md=!0),Ef(e,c),Af(e,c.ea,m.type,p,t.R),H(ne)}})}f.onExpirationUpdated=function(){},f.onInitialVariantChosen=function(){},f.banLocation=function(e){this.j&&this.j.banLocation(e)},f.setMediaElement=function(e){this.$=e};function J1(e,t,n){n=n===void 0?!1:n;for(var i=e.K==-1,r=g(t),o=r.next();!o.done;o=r.next()){o=o.value;var s=o.stream.segmentIndex,a=vf(e,o);if(s=qn(s)){a=g(a);for(var u=a.next();!u.done;u=a.next()){u=g(u.value);var l=u.next().value;if(u.next().value==s.startTime){i&&(e.K=Math.max(e.K,l)),o.Tf=l;break}}}}if(!(0>e.K))for(t=g(t),i=t.next();!i.done;i=t.next())i=i.value,(Ea(e,i.type)||n)&&(r=i.stream.segmentIndex)&&(o=e.K-i.Tf,0<o&&(r.g.splice(0,o),r=qn(r))&&(r=-r.startTime,i.stream.segmentIndex.offset(r),Q1(e,i,r)))}function qM(e,t){if(e.ka==1/0){t=g(t);for(var n=t.next();!n.done;n=t.next())n=qn(n.value.stream.segmentIndex),n!=null&&n.h!=null&&(e.ka=Math.min(e.ka,n.h))}if(t=e.ka,t!=1/0){n=g(e.i.values());for(var i=n.next();!i.done;i=n.next())if(i=i.value,!Ea(e,i.type)){var r=i.stream.segmentIndex;if(r!=null){var o=qn(r);if(o)if(o.h==null)ci("Missing EXT-X-PROGRAM-DATE-TIME for stream",i.R(),"Expect AV sync issues!");else for(Q1(e,i,o.h-t-o.startTime),i=g(r),r=i.next();!r.done;r=i.next())r.value.eh(t)}}}}function Q1(e,t,n){t.Tc+=n,t.fc+=n,e=vf(e,t);for(var i=g(e),r=i.next();!r.done;r=i.next()){var o=g(r.value);r=o.next().value,o=o.next().value,e.set(r,o+n)}t.R()}function WM(e,t,n){var i,r,o,s,a,u,l,c,h,d,p,m,v,y,E,S,w,A,x,I,C,L,P,M,D,N,b,_,U,F,B,W,J;return k(function(ne){switch(ne.g){case 1:return i=it,r=pf(e.Ta,t),o=yn(r.ea,"EXT-X-DEFINE"),s=[],a=[],u=[],e.l=new te(null,0),e.l.Xc(!0),l=function(){return[n]},c=null,h=new Map,r.type==1?(e.S=!1,A=yn(r.ea,"EXT-X-DEFINE"),h=Tf(e,A,e.O),c=i.xa,x="",I=new Map,T(ne,aT(e,e.G++,h,r,l,"",c,x,!0,"Media Playlist",null,I,null,!1,null,!1),7)):(YM(e,o),d=yn(r.ea,"EXT-X-MEDIA"),p=yn(r.ea,"EXT-X-STREAM-INF"),m=yn(r.ea,"EXT-X-IMAGE-STREAM-INF"),v=yn(r.ea,"EXT-X-I-FRAME-STREAM-INF"),y=yn(r.ea,"EXT-X-SESSION-KEY"),E=yn(r.ea,"EXT-X-SESSION-DATA"),S=yn(r.ea,"EXT-X-CONTENT-STEERING"),JM(e,E),T(ne,QM(e,S),4));case 4:return $M(e,p),sk(e,d),w=nk(e,v),T(ne,ik(e,p,y,d,l,e.A,w),5);case 5:return s=ne.h,a=ZM(e,d),T(ne,ek(e,m,v),6);case 6:u=ne.h,ne.B(3);break;case 7:C=ne.h,e.i.set(n,C),C.stream&&(L=ju(C.stream),C.stream.segmentIndex.Ub(function(Ee){Ee.ma&&(Ee.ma.pd=L)})),c=C.stream.type,s.push({id:0,language:Ce(x||"und"),disabledUntilTime:0,primary:!0,audio:c=="audio"?C.stream:null,video:c=="video"?C.stream:null,bandwidth:C.stream.bandwidth||0,allowedByApplication:!0,allowedByKeySystem:!0,decodingInfos:[]});case 3:if(!e.h)throw new R(2,7,7001);if(dT(e,r),r.type==1&&(Ot(e)&&(fT(e,r),P=e.o,e.C.X(P)),M=Array.from(e.i.values()),Sf(e,M),yf(e),Af(e,r.ea,c,h,l)),e.m={presentationTimeline:e.l,variants:s,textStreams:a,imageStreams:u,offlineSessionIds:[],minBufferTime:0,sequenceMode:e.g.hls.sequenceMode,ignoreManifestTimestampsInSegmentsMode:e.g.hls.ignoreManifestTimestampsInSegmentsMode,type:"HLS",serviceDescription:null,nextUrl:null,periodCount:1,gapCount:0,isLowLatency:!1,startTime:e.u},e.ha||!e.g.hls.disableCodecGuessing){ne.B(8);break}for(D=[],N=g(e.m.variants),b=N.next();!b.done;b=N.next())_=b.value,_.audio&&_.audio.codecs===""&&D.push(_.audio.createSegmentIndex()),_.video&&_.video.codecs===""&&D.push(_.video.createSegmentIndex());return T(ne,Promise.all(D),8);case 8:if(e.h.makeTextStreamsForClosedCaptions(e.m),s.length==1){for(U=[],F=s[0],B=g([F.video,F.audio]),W=B.next();!W.done;W=B.next())(J=W.value)&&!J.segmentIndex&&U.push(J.createSegmentIndex());if(0<U.length)return T(ne,Promise.all(U),0)}ne.B(0)}})}function XM(e,t){var n,i,r,o,s,a,u,l,c,h,d,p,m,v,y,E,S,w,A,x,I,C,L;return k(function(P){switch(P.g){case 1:if(n=bu(e.g.hls.mediaPlaylistFullMimeType),!t.length)return P.return(n);if(i=vT(e,t),r=i.segment,o=i.segmentIndex,s=r.R(),a=s[0],u=new $e(a),l=u.mb.split(".").pop(),c=If[l])return P.return(bu(c));if(h=Pn,p=d=null,m=r.ma,!m){P.B(2);break}return v=xr(m.R(),m.Ib(),m.Fb(),e.g.retryParameters),T(P,_i(e,v,h,{type:0}).promise,3);case 3:if(y=P.h,d=y.data,!m.aesKey){P.B(4);break}return T(P,ad(d,m.aesKey,0),5);case 5:d=P.h;case 4:(p=y.headers["content-type"])&&(p=p.split(";")[0].toLowerCase());case 2:return E=xr(r.R(),r.Ib(),r.Fb(),e.g.retryParameters),T(P,_i(e,E,h,{type:1}).promise,6);case 6:if(S=P.h,w=S.data,!r.aesKey){P.B(7);break}return T(P,ad(w,r.aesKey,o),8);case 8:w=P.h;case 7:if((A=S.headers["content-type"])&&(A=A.split(";")[0].toLowerCase()),x="mp4 mp4a m4s m4i m4a m4f cmfa mp4v m4v cmfv fmp4".split(" "),I=["audio/mp4","video/mp4","video/iso.segment"],Fs(fe(w))){var M=w,D=fe(M);D=new Be().parse(D);var N=D.Id();D=D.pg();var b=[],_=!1,U=!1;switch(N.audio){case"aac":case"aac-loas":b.push("mp4a.40.2"),_=!0;break;case"mp3":b.push("mp4a.40.34"),_=!0;break;case"ac3":b.push("ac-3"),_=!0;break;case"ec3":b.push("ec-3"),_=!0;break;case"opus":b.push("opus"),_=!0}switch(N.video){case"avc":D.codec?b.push(D.codec):b.push("avc1.42E01E"),U=!0;break;case"hvc":D.codec?b.push(D.codec):b.push("hvc1.1.6.L93.90"),U=!0;break;case"av1":b.push("av01.0.01M.08"),U=!0}if(b.length){if(N=_&&!U,_=new Map,U){U=new tn("video/mp2t"),U.i(M),M=g(U.j());for(var F=M.next();!F.done;F=M.next())F=F.value,_.set(F,F);U.g()}D={type:N?"audio":"video",mimeType:"video/mp2t",codecs:b.join(", "),language:null,height:D.height,width:D.width,channelCount:null,sampleRate:null,closedCaptions:_,ce:null,colorGamut:null,frameRate:D.frameRate}}else D=null;if(C=D)return P.return(C)}else if((x.includes(l)||I.includes(A)||p&&I.includes(p))&&(L=Bx(d,w)))return P.return(L);return A?P.return(bu(A)):p?P.return(bu(p)):P.return(n)}})}function yf(e){if(Ot(e)){if(e.Da==Fl){for(var t=1/0,n=1/0,i=g(e.i.values()),r=i.next();!r.done;r=i.next())r=r.value,r.stream.segmentIndex&&r.stream.type!="text"&&(t=Math.min(t,r.fc),n=Math.min(n,r.Tc));t=t-n||0,isNaN(e.g.availabilityWindowOverride)||(t=e.g.availabilityWindowOverride),e.l.hf(t)}}else e.l.vb(oT(e));if(!e.l.u)for(t=g(e.i.values()),n=t.next();!n.done;n=t.next())n=n.value,!n.stream.segmentIndex||n.type!="audio"&&n.type!="video"||(n=qn(n.stream.segmentIndex))&&n.h&&e.l.pi(n.h);e.l.Oe()}function YM(e,t){var n=new $e(e.O).g;t=g(t);for(var i=t.next();!i.done;i=t.next()){var r=i.value;i=$(r,"NAME");var o=$(r,"VALUE");r=$(r,"QUERYPARAM"),i&&o&&(e.A.has(i)||e.A.set(i,o)),r&&(i=n.get(r)[0])&&!e.A.has(i)&&e.A.set(r,i)}}function Tf(e,t,n){n=new $e(n).g;var i=new Map;t=g(t);for(var r=t.next();!r.done;r=t.next()){var o=r.value,s=$(o,"NAME"),a=$(o,"VALUE");r=$(o,"QUERYPARAM"),o=$(o,"IMPORT"),s&&a&&(i.has(s)||i.set(s,a)),r&&(s=n.get(r)[0])&&!i.has(s)&&i.set(r,s),o&&(r=e.A.get(o))&&i.set(o,r)}return i}function $M(e,t){t=g(t);for(var n=t.next();!n.done;n=t.next()){var i=n.value,r=$(i,"AUDIO");n=$(i,"VIDEO");var o=$(i,"SUBTITLES");if(i=Z1(e,i),o){var s=Vt(me,i);e.I.set(o,s),zn(i,s)}r&&(o=Vt("audio",i),o||(o=e.g.hls.defaultAudioCodec),e.I.set(r,o)),n&&(r=Vt("video",i),r||(r=e.g.hls.defaultVideoCodec),e.I.set(n,r))}}function JM(e,t){t=g(t);for(var n=t.next();!n.done;n=t.next()){var i=n.value,r=$(i,"DATA-ID");n=$(i,"URI");var o=$(i,"LANGUAGE");i=$(i,"VALUE"),r=new Map().set("id",r),n&&r.set("uri",er([e.O],n,e.A)[0]),o&&r.set("language",o),i&&r.set("value",i),n=new V("sessiondata",r),e.h&&e.h.onEvent(n)}}function QM(e,t){var n,i,r,o,s,a;return k(function(u){if(!e.h||!e.g)return u.return();for(i=g(t),r=i.next();!r.done;r=i.next())if(o=r.value,s=$(o,"PATHWAY-ID"),a=$(o,"SERVER-URI"),s&&a){e.j=new Do(e.h),e.j.configure(e.g),e.j.i=[e.O],e.j.setManifestType("HLS"),e.j.h=s,n=da(e.j,a);break}return T(u,n,0)})}function ZM(e,t){var n=K1(t,"SUBTITLES");t=n.map(function(s){if(e.g.disableText)return null;try{return iT(e,[s],new Map).stream}catch(a){if(e.g.hls.ignoreTextStreamFailures)return null;throw a}}),n=g(n);for(var i=n.next();!i.done;i=n.next()){var r=Pe(i.value,"GROUP-ID");if((i=e.I.get(r))&&(r=e.J.get(r))){r=g(r);for(var o=r.next();!o.done;o=r.next())o=o.value,o.stream.codecs=i,o.stream.mimeType=wf(me,i)||Ul(me),Oo(o.stream)}}return t.filter(function(s){return s})}function Oo(e){var t=new Set([ot(e.mimeType,e.codecs)]);e.segmentIndex&&e.segmentIndex.Ub(function(n){n.mimeType&&t.add(ot(n.mimeType,e.codecs))}),e.fullMimeTypes=t}function ek(e,t,n){var i,r;return k(function(o){return o.g==1?(i=t.map(function(s){var a,u;return k(function(l){if(l.g==1)return e.g.disableThumbnails?l.return(null):(Z(l,2),T(l,ak(e,s),4));if(l.g!=2)return a=l.h,l.return(a.stream);if(u=ee(l),e.g.hls.ignoreImageStreamFailures)return l.return(null);throw u})}).concat(n.map(function(s){if(e.g.disableThumbnails)return null;try{var a=rT(e,s);return a.stream.type!=="image"?null:a.stream}catch(u){if(e.g.hls.ignoreImageStreamFailures)return null;throw u}})),T(o,Promise.all(i),2)):(r=o.h,o.return(r.filter(function(s){return s})))})}function tk(e,t,n){t=t.filter(function(a){var u=$(a,"URI")||"";return $(a,"TYPE")!="SUBTITLES"&&u!=""});var i={};t=g(t);for(var r=t.next();!r.done;r=t.next()){r=r.value;var o=V1(r,!e.j);i[o]?i[o].push(r):i[o]=[r]}for(var s in i)iT(e,i[s],n)}function nk(e,t){return t.map(function(n){return n=rT(e,n),n.stream.type!=="video"?null:n.stream}).filter(function(n){return n})}function ik(e,t,n,i,r,o,s){var a,u,l,c,h,d,p,m,v,y,E,S,w,A,x,I,C,L,P,M,D,N,b,_,U,F,B,W,J,ne,Ee,Oe,Ne,Ye,Ie;return k(function(Re){switch(Re.g){case 1:if(a=[],u=new Set,!(0<n.length)){Re.B(2);break}l=g(n),c=l.next();case 3:if(c.done){Re.B(2);break}if(h=c.value,d=Pe(h,"METHOD"),p=$(h,"KEYFORMAT")||"identity",m=null,d=="NONE"){Re.B(4);break}if(jl(d)){v=er(r(),Pe(h,"URI"),o),y=v.sort().join(""),e.N.has(y)||(E=ct(v,e.g.retryParameters),S=_i(e,E,6).promise,e.N.set(y,S)),Re.B(4);break}if(p!="identity"){m=(w=AT[p])?w(h,""):null,Re.B(6);break}return T(Re,ST(e,h,"",r,null,o),9);case 9:m=Re.h;case 6:if(m){if(m.keyIds)for(A=g(m.keyIds),x=A.next();!x.done;x=A.next())I=x.value,u.add(I);a.push(m)}case 4:c=l.next(),Re.B(3);break;case 2:for(C={},L=g(t),P=L.next();!P.done;P=L.next())M=P.value,D=V1(M,!e.j),C[D]?C[D].push(M):C[D]=[M];N=[];for(b in C)_=C[b],U=_[0],F=$(U,"FRAME-RATE"),B=Number($(U,"AVERAGE-BANDWIDTH"))||Number(Pe(U,"BANDWIDTH")),W=$(U,"RESOLUTION"),J=g(W?W.split("x"):[null,null]),ne=J.next().value,Ee=J.next().value,Oe=$(U,"VIDEO-RANGE"),(Ne=$(U,"REQ-VIDEO-LAYOUT"))&&Ne.includes(",")&&(Ye=Ne.split(",").filter(function(He){return He=="CH-STEREO"||He=="CH-MONO"}),Ne=Ye[0]),Ne=Ne||"CH-MONO",Ie=rk(e,_,i),N.push.apply(N,X(ok(e,Ie.audio,Ie.video,B,ne,Ee,F,Oe,Ne,a,u,s)));return Re.return(N.filter(function(He){return He!=null}))}})}function rk(e,t,n){for(var i={audio:[],video:[]},r=new Map,o=[],s=!1,a=!1,u=g(t),l=u.next();!l.done;l=u.next()){var c=l.value;l=$(c,"AUDIO");var h=$(c,"VIDEO"),d=l||h;d&&(o.includes(d)||o.push(d),(c=$(c,"PATHWAY-ID"))&&r.set(d,c),l?s=!0:h&&(a=!0))}o.length&&n.length&&(u=n.filter(function(v){return o.includes(Pe(v,"GROUP-ID"))}),tk(e,u,r)),u=(r=o.sort().join(","))&&e.J.has(r)?e.J.get(r):[],s?i.audio.push.apply(i.audio,X(u)):a&&i.video.push.apply(i.video,X(u)),l=!1;var p=t.map(function(v){return Pe(v,"URI")});if(a=i.audio.find(function(v){return v&&v.R().find(function(y){return p.includes(y)})}),s=Z1(e,t[0]),h=Vt("video",s),(d=Vt("audio",s))&&!h?(a="audio",l=0<i.audio.length):!i.audio.length&&!i.video.length&&d&&h?(a="video",s=[[h,d].join()]):i.audio.length&&a?(a="audio",l=!0):a=i.video.length&&!i.audio.length?"audio":"video",!l){var m=c=d=h=l=null;!u.length&&(n=n.find(function(v){var y=$(v,"URI")||"",E=$(v,"TYPE");return v=Pe(v,"GROUP-ID"),E!="SUBTITLES"&&y==""&&o.includes(v)}))&&(l=$(n,"LANGUAGE"),h=$(n,"NAME"),d=eT(n),nT(n),c=$(n,"CHARACTERISTICS"),m=tT(n)),e=uk(e,t,s,a,l,h,d,c,m),r&&(e.stream.groupId=r),i[e.stream.type]=[e]}return i}function Z1(e,t){var n=$(t,"CODECS")||"";return t=$(t,"SUPPLEMENTAL-CODECS"),e.ha=0<n.length,e.ha||e.g.hls.disableCodecGuessing||(n=[],e.g.disableVideo||n.push(e.g.hls.defaultVideoCodec),e.g.disableAudio||n.push(e.g.hls.defaultAudioCodec),n=n.join(",")),e=n.split(/\s*,\s*/),t&&(t=t.split(/\s*,\s*/).map(function(i){return i.split("/")[0]}),e.push.apply(e,X(t))),sd(e)}function eT(e){return(e=$(e,"CHANNELS"))?parseInt(e.split("/")[0],10):null}function tT(e){return(e=$(e,"SAMPLE-RATE"))?parseInt(e,10):null}function nT(e){return(e=$(e,"CHANNELS"))?e.includes("/JOC"):!1}function ok(e,t,n,i,r,o,s,a,u,l,c,h){for(var d=g(n),p=d.next();!p.done;p=d.next())yT(p.value.stream,r,o,s,a,u,null);for(r=e.g.disableAudio,(!t.length||r)&&(t=[null]),r=e.g.disableVideo,(!n.length||r)&&(n=[null]),r=[],t=g(t),o=t.next();!o.done;o=t.next())for(o=o.value,s=g(n),a=s.next();!a.done;a=s.next()){var m=a.value;(a=o?o.stream:null)&&(a.drmInfos=l,a.keyIds=c),(u=m?m.stream:null)&&(u.drmInfos=l,u.keyIds=c,Xm(u,h)),u&&!a&&(u.bandwidth=i),!u&&a&&(a.bandwidth=i),d=o?o.stream.drmInfos:null,p=m?m.stream.drmInfos:null,m=m?m.R().sort().join(","):"";var v=o?o.R().sort().join(","):"";m=m+" - "+v,a&&u&&!im(d,p)||e.hb.has(m)||(a={id:e.G++,language:a?a.language:"und",disabledUntilTime:0,primary:!!a&&a.primary||!!u&&u.primary,audio:a,video:u,bandwidth:i,allowedByApplication:!0,allowedByKeySystem:!0,decodingInfos:[]},r.push(a),e.hb.add(m))}return r}function sk(e,t){t=K1(t,"CLOSED-CAPTIONS"),e.S=t.length==0,t=g(t);for(var n=t.next();!n.done;n=t.next()){var i=n.value,r=$(i,"LANGUAGE");n=Ce(r||"und"),r||(r=$(i,"NAME"))&&(n=r),r=Pe(i,"GROUP-ID"),i=Pe(i,"INSTREAM-ID").replace("SERVICE","svc"),e.H.get(r)||e.H.set(r,new Map),e.H.get(r).set(i,n)}}function iT(e,t,n){for(var i=[],r=[],o=new Map,s=g(t),a=s.next();!a.done;a=s.next()){var u=a.value;a=Pe(u,"URI"),u=Pe(u,"GROUP-ID"),i.push(a),r.push(u),o.set(u,a)}if(s=r.sort().join(","),a=t[0],t="",u=Pe(a,"TYPE").toLowerCase(),u=="subtitles"&&(u=me),u==me)t=$(a,"CODECS")||"";else{r=g(r);for(var l=r.next();!l.done;l=r.next())if(l=l.value,e.I.has(l)){t=e.I.get(l);break}}if(r=i.sort().join(","),e.i.has(r))return e.i.get(r);if(l=e.G++,e.j){o=g(o);for(var c=o.next();!c.done;c=o.next()){var h=g(c.value);c=h.next().value,h=h.next().value,(c=n.get(c))&&No(e.j,l,c,h)}}n=$(a,"LANGUAGE"),o=$(a,"NAME"),c=$(a,"DEFAULT")=="YES",h=u=="audio"?eT(a):null;var d=u=="audio"?nT(a):!1,p=$(a,"CHARACTERISTICS"),m=$(a,"FORCED")=="YES";return a=u=="audio"?tT(a):null,i=_l(e,l,i,t,u,n,c,o,h,null,p,m,a,d),i.stream&&(i.stream.groupId=s),e.J.has(s)?e.J.get(s).push(i):e.J.set(s,[i]),e.i.set(r,i),i}function ak(e,t){var n,i,r,o,s,a,u,l,c,h;return k(function(d){return d.g==1?(n=Pe(t,"URI"),i=$(t,"CODECS","jpeg")||"",e.i.has(n)?d.return(e.i.get(n)):(r=$(t,"LANGUAGE"),o=$(t,"NAME"),s=$(t,"CHARACTERISTICS"),a=_l(e,e.G++,[n],i,"image",r,!1,o,null,null,s,!1,null,!1),(u=$(t,"RESOLUTION"))?T(d,a.stream.createSegmentIndex(),3):d.B(2))):(d.g!=2&&(l=qn(a.stream.segmentIndex),c=l.tilesLayout)&&(a.stream.width=Number(u.split("x")[0])*Number(c.split("x")[0]),a.stream.height=Number(u.split("x")[1])*Number(c.split("x")[1])),(h=$(t,"BANDWIDTH"))&&(a.stream.bandwidth=Number(h)),e.i.set(n,a),d.return(a))})}function rT(e,t){var n="video",i=Pe(t,"URI"),r=$(t,"CODECS")||"";if(r=="mjpg"&&(n="image"),e.i.has(i))return e.i.get(i);var o=$(t,"LANGUAGE"),s=$(t,"NAME"),a=$(t,"CHARACTERISTICS");return n=_l(e,e.G++,[i],r,n,o,!1,s,null,null,a,!1,null,!1),r=$(t,"RESOLUTION"),o=g(r?r.split("x"):[null,null]),r=o.next().value,o=o.next().value,n.stream.width=Number(r)||void 0,n.stream.height=Number(o)||void 0,(t=$(t,"BANDWIDTH"))&&(n.stream.bandwidth=Number(t)),e.i.set(i,n),n}function uk(e,t,n,i,r,o,s,a,u){for(var l=e.G++,c=[],h=g(t),d=h.next();!d.done;d=h.next()){var p=d.value;d=Pe(p,"URI"),p=$(p,"PATHWAY-ID"),e.j&&p&&No(e.j,l,p,d),c.push(d)}if(h=c.sort().join(","),e.i.has(h))return e.i.get(h);e:{if(t=$(t[0],"CLOSED-CAPTIONS"),i=="video"){if(e.g.disableText){e.S=!1,t=null;break e}if(t){if(t!="NONE"){t=e.H.get(t);break e}e.S=!1}else if(!t&&e.H.size)for(t=g(e.H.keys()).next();!t.done;){t=e.H.get(t.value);break e}}t=null}return n=Hr(i,n),i=_l(e,l,c,n,i,r,!1,o,s,t,a,!1,u,!1),e.i.set(h,i),i}function _l(e,t,n,i,r,o,s,a,u,l,c,h,d,p){function m(x){var I,C,L,P,M,D,N,b,_,U,F,B,W,J,ne,Ee,Oe,Ne,Ye,Ie,Re,He,jn;return k(function(at){switch(at.g){case 1:return I=it,Z(at,2),C=S.R(),T(at,x.promise,4);case 4:if(L=at.h,x.aborted)return at.return();if(P=L.uri,P==L.originalUri||C.includes(P)||E.push(P),M=pf(e.Ta,L.data),M.type!=1)throw new R(2,4,4017);return D=yn(M.ea,"EXT-X-DEFINE"),N=Tf(e,D,P),b=!1,(!e.ha&&e.g.hls.disableCodecGuessing||e.S&&r==I.xa&&!e.g.hls.disableClosedCaptionsDetection)&&0<M.segments.length&&(e.S=!1,b=!0),_=!e.ha&&e.g.hls.disableCodecGuessing,U=Ot(e),T(at,aT(e,0,N,M,v,i,r,o,s,a,u,l,c,h,d,p,void 0,b,_),5);case 5:if(F=at.h,x.aborted)return at.return();if(B=F.stream,dT(e,M),Ot(e)&&!U&&fT(e,M),S.Tc=F.Tc,S.fc=F.fc,S.se=F.se,S.re=F.re,S.Md=F.Md,S.Pe=F.Pe,S.Ob=F.Ob,S.Pb=F.Pb,S.Cg=!0,y.segmentIndex=B.segmentIndex,y.encrypted=B.encrypted,y.drmInfos=B.drmInfos,y.keyIds=B.keyIds,y.mimeType=B.mimeType,y.bandwidth=y.bandwidth||B.bandwidth,y.codecs=y.codecs||B.codecs,y.closedCaptions=y.closedCaptions||B.closedCaptions,y.width=y.width||B.width,y.height=y.height||B.height,y.hdr=y.hdr||B.hdr,y.colorGamut=y.colorGamut||B.colorGamut,y.frameRate=y.frameRate||B.frameRate,y.language=="und"&&B.language!="und"&&(y.language=B.language),y.language=y.language||B.language,y.channelsCount=y.channelsCount||B.channelsCount,y.audioSamplingRate=y.audioSamplingRate||B.audioSamplingRate,Oo(y),y.drmInfos.length&&e.h.newDrmInfo(y),W=!1,(!l&&y.closedCaptions||l&&y.closedCaptions&&l.size!=y.closedCaptions.size)&&(W=!0),e.m&&W&&e.h.makeTextStreamsForClosedCaptions(e.m),r==I.xa||r==I.ia)for(J=g(e.i.values()),ne=J.next();!ne.done;ne=J.next())Ee=ne.value,Ee.Cg||Ee.type!=r||(Ee.stream.mimeType=B.mimeType,Oo(Ee.stream));r==I.Na&&(Oe=qn(B.segmentIndex))&&Oe.ma&&(y.mimeType="application/mp4",Oo(y)),Ne=ju(y),y.segmentIndex.Ub(function(hn){hn.ma&&(hn.ma.pd=Ne)}),lk(e)&&(e.zc?Sf(e,[S]):(e.zc=!0,Ye=Array.from(e.i.values()),Ie=Ye.filter(function(hn){return hn.stream.segmentIndex}),Sf(e,Ie),yf(e),Re=e.o,0<Re&&e.C.X(Re))),Af(e,M.ea,y.type,N,v),e.m&&(e.m.startTime=e.u),he(at,0);break;case 2:if(He=ee(at),y.closeSegmentIndex(),He.code===7001)return at.return();if(jn=e.h.disableStream(y),!jn)throw He;H(at)}})}function v(){return e.j&&1<n.length?fa(e.j,t):E.concat(q1([e.O],n,e.A))}var y=lT(e,i,r,o,s,a,u,l,c,h,d,p),E=[],S={stream:y,type:r,gi:E,R:v,Tc:0,fc:0,Pe:new Map,se:!1,re:!1,Md:!1,Tf:-1,Ob:-1,Pb:-1,Cg:!1},w=null,A;return y.createSegmentIndex=function(){return w||(A=xf(e,S.R(),!0),w=new Promise(function(x){x(m(A))}))},y.closeSegmentIndex=function(){w&&!y.segmentIndex&&A.abort(),y.segmentIndex&&(y.segmentIndex.release(),y.segmentIndex=null),w=null},S}function oT(e){var t=1/0;e=g(e.i.values());for(var n=e.next();!n.done;n=e.next())n=n.value,n.stream.segmentIndex&&n.stream.type!="text"&&(t=Math.min(t,n.fc));return t}function sT(e,t){var n=[];t=g(t);for(var i=t.next();!i.done;i=t.next())i=i.value,i.segmentIndex&&i.segmentIndex.Ub(function(r){n.push(r)});e.l.Ud(n)}function Sf(e,t){if(!Ot(e))for(var n=oT(e),i=g(t),r=i.next();!r.done;r=i.next())r.value.stream.segmentIndex.hd(0,n);sT(e,t.map(function(o){return o.stream})),n=Ot(e)&&!e.Ac,e.g.hls.ignoreManifestProgramDateTime||n?J1(e,t,n):(qM(e,t),0<e.g.hls.ignoreManifestProgramDateTimeForTypes.length&&J1(e,t))}function Ea(e,t){return e.g.hls.ignoreManifestProgramDateTime?!0:e.g.hls.ignoreManifestProgramDateTimeForTypes.includes(t)}function lk(e){if(!e.m)return!1;var t=[],n=[];e=g(e.m.variants);for(var i=e.next();!i.done;i=e.next())i=i.value,i.video&&t.push(i.video),i.audio&&n.push(i.audio);return!(0<t.length&&!t.some(function(r){return r.segmentIndex})||0<n.length&&!n.some(function(r){return r.segmentIndex}))}function aT(e,t,n,i,r,o,s,a,u,l,c,h,d,p,m,v,y,E,S){E=E===void 0?!0:E,S=S===void 0?!0:S;var w,A,x,I,C,L,P,M,D,N,b,_,U,F,B,W,J,ne,Ee,Oe,Ne,Ye,Ie,Re,He,jn,at,hn,xn;return k(function(ut){switch(ut.g){case 1:if(w=i.segments||[],A=w.every(function(bn){return!!mt(bn.ea,"EXT-X-GAP")}),!w.length||A)throw new R(2,4,4053);if(ck(e,i),Ot(e)&&Ef(e,i),x=Ot(e)?e.P.get(s):new Map,I=mT(e,i,x,n,r,s),C=I.segments,L=I.bandwidth,b=N=D=M=P=null,!(0<C.length&&E)){ut.B(2);break}return T(ut,XM(e,C),3);case 3:_=ut.h,s=_.type,a=_.language,c=_.channelCount,m=_.sampleRate,e.g.disableText||(h=_.closedCaptions),M=_.height,P=_.width,D=_.ce,N=_.colorGamut,b=_.frameRate,S&&(y=_.mimeType,o=_.codecs);case 2:if(y){ut.B(4);break}return T(ut,fk(e,s,o,C),5);case 5:y=ut.h;case 4:return T(ut,cT(e,i,y,r,n),6);case 6:if(U=ut.h,F=U.drmInfos,B=U.keyIds,W=U.encrypted,J=U.Si,W&&!F.length&&!J)throw new R(2,4,4026);return ne=lT(e,o,s,a,u,l,c,h,d,p,m,v),ne.encrypted=W,ne.drmInfos=F,ne.keyIds=B,ne.mimeType=y,L&&(ne.bandwidth=L),Oo(ne),s=="video"&&(P||M||D||N)&&yT(ne,P,M,b,D,null,N),Ot(e)&&Ef(e,i),Ee=C[0].startTime,Oe=C[C.length-1],Ne=Oe.endTime,Ye=new we(C),ne.segmentIndex=Ye,Re=(Ie=mt(i.ea,"EXT-X-SERVER-CONTROL"))?Sa(Ie,"CAN-SKIP-UNTIL")!=null:!1,He=Ie?Sa(Ie,"CAN-BLOCK-RELOAD")!=null:!1,jn=Uo(i.ea,"EXT-X-MEDIA-SEQUENCE",0),at=uT(jn,C),hn=at.Ob,xn=at.Pb,ut.return({stream:ne,type:s,gi:[],R:r,Tc:Ee,fc:Ne,se:Re,re:He,Md:!1,Tf:-1,Ob:hn,Pb:xn,Pe:x,Cg:!1})}})}function uT(e,t){e=e+t.length-1;var n=-1;if(!t.length)return e++,{Ob:e,Pb:n};t=t[t.length-1];var i=t.g;return t.g.length?(n=i.length-1,i[i.length-1].isPreload()||(e++,n=0),{Ob:e,Pb:n}):(e++,t.m&&(n=0),{Ob:e,Pb:n})}function lT(e,t,n,i,r,o,s,a,u,l,c,h){var d=wf(n,t)||Ul(n),p=[];if(u){u=g(u.split(","));for(var m=u.next();!m.done;m=u.next())p.push(m.value)}return u=void 0,m=null,n==me?u=p.includes("public.accessibility.transcribes-spoken-dialog")&&p.includes("public.accessibility.describes-music-and-sound")?"caption":"subtitle":p.includes("public.accessibility.describes-video")&&(m="visually impaired"),p.length||u!=="subtitle"||p.push("subtitle"),e={id:e.G++,originalId:o,groupId:null,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:null,mimeType:d,codecs:t,kind:n==me?"subtitle":void 0,encrypted:!1,drmInfos:[],keyIds:new Set,language:Ce(i||"und"),originalLanguage:i,label:o,type:n,primary:r,trickModeVideo:null,emsgSchemeIdUris:null,frameRate:void 0,pixelAspectRatio:void 0,width:void 0,height:void 0,bandwidth:void 0,roles:p,forced:l,channelsCount:s,audioSamplingRate:c,spatialAudio:h,closedCaptions:a,hdr:void 0,colorGamut:void 0,videoLayout:void 0,tilesLayout:void 0,accessibilityPurpose:m,external:!1,fastSwitching:!1,fullMimeTypes:new Set},Oo(e),e}function cT(e,t,n,i,r){var o,s,a,u,l,c,h,d,p,m,v,y,E,S,w,A,x,I,C,L,P,M,D,N,b,_,U,F;return k(function(B){switch(B.g){case 1:if(o=new Map,t.segments){for(s=g(t.segments),a=s.next();!a.done;a=s.next())if(u=a.value,l=yn(u.ea,"EXT-X-KEY"),c=null,l.length)for(c=pT(e,t,u.ea,i,r),h=g(l),d=h.next();!d.done;d=h.next())p=d.value,o.set(p,c)}v=m=!1,y=[],E=new Set,S=g(o),w=S.next();case 2:if(w.done){B.B(4);break}if(A=w.value,x=g(A),I=x.next().value,C=x.next().value,L=I,P=C,M=Pe(L,"METHOD"),M=="NONE"){B.B(3);break}if(m=!0,D=$(L,"KEYFORMAT")||"identity",N=null,jl(M)){v=!0,B.B(3);break}if(D!="identity"){N=(b=AT[D])?b(L,n):null,B.B(6);break}return T(B,ST(e,L,n,i,P,r),8);case 8:N=B.h;case 6:if(N){if(N.keyIds)for(_=g(N.keyIds),U=_.next();!U.done;U=_.next())F=U.value,E.add(F);y.push(N)}case 3:w=S.next(),B.B(2);break;case 4:return B.return({drmInfos:y,keyIds:E,encrypted:m,Si:v})}})}function hT(e,t,n,i,r){if(!O.crypto||!O.crypto.subtle)throw de("Web Crypto API is not available to decrypt AES. (Web Crypto only exists in secure origins like https)"),new R(2,4,4042);var o=0,s=$(t,"IV","");if(s){var a=cr(s.substr(2));if(a.byteLength!=16)throw new R(2,4,4048)}else o=Uo(n.ea,"EXT-X-MEDIA-SEQUENCE",0);if(n=t.toString()+"-"+o,!e.na.has(n)){var u={bitsKey:128,blockCipherMode:"CBC",iv:a,firstMediaSequenceNumber:o};switch(Pe(t,"METHOD")){case"AES-256":u.bitsKey=256;break;case"AES-256-CTR":u.bitsKey=256,u.blockCipherMode="CTR"}u.fetchKey=function(){var l,c,h,d,p,m;return k(function(v){if(v.g==1)return l=er(i(),Pe(t,"URI"),r),c=l.sort().join(""),e.N.has(c)||(h=ct(l,e.g.retryParameters),d=_i(e,h,6).promise,e.N.set(c,d)),T(v,e.N.get(c),2);if(v.g!=3){if(p=v.h,!p.data||p.data.byteLength!=u.bitsKey/8)throw new R(2,4,4049);return m={name:u.blockCipherMode=="CTR"?"AES-CTR":"AES-CBC",length:u.bitsKey},T(v,O.crypto.subtle.importKey("raw",p.data,m,!0,["decrypt"]),3)}u.cryptoKey=v.h,u.fetchKey=void 0,H(v)})},e.na.set(n,u)}return e.na.get(n)}function dT(e,t){e.u==null&&(t=mt(t.ea,"EXT-X-START"))&&(e.u=Number(Pe(t,"TIME-OFFSET")))}function ck(e,t){var n=mt(t.ea,"EXT-X-PLAYLIST-TYPE");t=mt(t.ea,"EXT-X-ENDLIST"),t=n&&n.value=="VOD"||t,n=n&&n.value=="EVENT"&&!t,n=!t&&!n,t?Ol(e,bl):n?Ol(e,Fl):Ol(e,wT)}function Ef(e,t){var n=1/0,i=t.segments;if(i.length)for(var r=i.length-1;0<=r;){var o=mt(i[r].ea,"EXTINF");if(o){n=Number(o.value.split(",")[0]);break}r--}if(i=mt(t.ea,"EXT-X-TARGETDURATION"),!i)throw new R(2,4,4024,"EXT-X-TARGETDURATION");i=Number(i.value),(r=mt(t.ea,"EXT-X-PART-INF"))&&(e.V=Number(Pe(r,"PART-TARGET"))),t=mt(t.ea,"EXT-X-SERVER-CONTROL"),e.L&&e.V?(e.o=e.ec?5*e.V<=n?Math.min(e.V,e.o):Math.min(n,e.o):Math.min(e.V,e.o),e.Ja=t?Number(Pe(t,"PART-HOLD-BACK")):0):(e.o=Math.min(n,e.o),n=t?Sa(t,"HOLD-BACK"):null,e.Ia=n?Number(n.value):0),e.bb=Math.max(i,e.bb)}function fT(e,t){var n=0;if(e.g.defaultPresentationDelay)n=e.g.defaultPresentationDelay;else if(e.Ja)n=e.Ja;else if(e.Ia)n=e.Ia;else{var i=t.segments.length,r=e.g.hls.liveSegmentsDelay;for(r>i-2&&(r=Math.max(1,i-2)),r=i-r;r<i;r++){var o=mt(t.segments[r].ea,"EXTINF");n=o?n+Math.ceil(Number(o.value.split(",")[0])):n+e.bb}}e.u&&0>e.u&&(n=Math.min(-e.u,n),e.u+=n),e.l.si(0),e.l.Vg(n),e.l.Xc(!1)}function pT(e,t,n,i,r){var o=mt(n,"EXT-X-MAP");if(!o)return null;var s=Pe(o,"URI"),a=er(i(),s,r);if(s=[a.toString(),$(o,"BYTERANGE","")].join("-"),!e.ya.has(s)){var u=void 0,l=null;n=g(n);for(var c=n.next();!c.done;c=n.next())c=c.value,c.name=="EXT-X-KEY"?jl(Pe(c,"METHOD"))&&c.id<o.id&&(u=hT(e,c,t,i,r)):c.name=="EXT-X-BYTERANGE"&&c.id<o.id&&(l=c);t=hk(a,o,l,u),e.ya.set(s,t)}return e.ya.get(s)}function hk(e,t,n,i){var r=0,o=null;return t=$(t,"BYTERANGE"),!t&&n&&(t=n.value),t&&(r=t.split("@"),o=Number(r[0]),r=Number(r[1]),o=r+o-1,i&&(n=o+1-r,n%16&&(o+=16-n%16))),new Kt(function(){return e},r,o,null,null,null,i)}function dk(e,t,n,i,r,o,s,a,u){function l(W){W=new $e(W).mb.split(".").pop();var J=Cf[s][W];return J||(J=If[W]),J}var c=i.ea,h=mt(c,"EXTINF"),d=0,p=0,m=null;i.Xb.length&&(e.m.isLowLatency=!0);var v=null;if(!e.g.hls.ignoreManifestProgramDateTime){var y=mt(c,"EXT-X-PROGRAM-DATE-TIME");y&&y.value&&(v=Vi(y.value),e.Ac=!0)}var E=xi;if(mt(c,"EXT-X-GAP")&&(e.m.gapCount++,E=2),!h){if(i.Xb.length==0)throw new R(2,4,4024,"EXTINF");if(!e.L)return null}var S=[];y=!1;var w=null,A=!1,x=!1;if(e.L&&i.Xb.length){d=t&&O.ReadableStream&&e.g.hls.allowLowLatencyByteRangeOptimization;for(var I=v,C={},L=0;L<i.Xb.length;C={qf:void 0,Xe:void 0},L++){var P=i.Xb[L],M=L==0?n:S[S.length-1],D=L==0?r:M.endTime,N=Number($(P,"DURATION"))||e.V;if(N){var b=D+N,_=0,U=null;if(P.name=="EXT-X-PRELOAD-HINT"?(_=(_=$(P,"BYTERANGE-START"))?Number(_):0,(M=$(P,"BYTERANGE-LENGTH"))?U=_+Number(M)-1:_&&(U=Number.MAX_SAFE_INTEGER)):(_=$(P,"BYTERANGE"),U=g(gT(M,_)),_=U.next().value,U=U.next().value),C.Xe=$(P,"URI"),C.Xe){M=xi,$(P,"GAP")=="YES"&&(e.m.gapCount++,M=2,A=!0),C.qf=null;var F=function(W){return function(){return W.qf==null&&(W.qf=er(a(),W.Xe,o)),W.qf}}(C);d&&0<=_&&U!=null&&(w=F,y=!0),D=new ie(D,b,F,_,U,t,0,0,1/0,[],"",null,I,M,u),P.name=="EXT-X-PRELOAD-HINT"&&(D.Dg(),x=!0),$(P,"INDEPENDENT")!="YES"&&0<L&&D.od(),(C=l(C.Xe))&&(D.mimeType=C,ET.has(C)&&(D.ma=null)),S.push(D),I&&(I+=N)}}}}if(h){if(h=Number(h.value.split(",")[0]),h==0)return null;d=r+h}else if(S.length)d=S[S.length-1].endTime;else return null;y&&(A||S[0].$a!=0?(y=!1,w=null):S=[]),(h=mt(c,"EXT-X-BYTERANGE"))?(m=g(gT(n,h.value)),p=m.next().value,m=m.next().value):S.length&&(p=S[0].$a,m=S[S.length-1].La),n="",h=null,s=="image"&&(n="1x1",c=mt(c,"EXT-X-TILES"))&&(n=Pe(c,"LAYOUT"),(c=$(c,"DURATION"))&&(h=Number(c)));var B=null;return t=new ie(r,d,function(){return w?w():(B==null&&(B=er(a(),i.g,o)),B||[])},p,m,t,0,0,1/0,S,n,h,v,E,u,0<S.length&&!!i.g),(r=l(i.g))&&(t.mimeType=r,ET.has(r)&&(t.ma=null)),y&&(e.ec=!0,t.Uh(),x&&t.Dg()),t}function gT(e,t){var n=0,i=null;return t&&(n=t.split("@"),t=Number(n[0]),n=n[1]?Number(n[1]):e.La+1,i=n+t-1),[n,i]}function Af(e,t,n,i,r){if(n=="video"||n=="audio"){var o=e.l.m;if(o&&!Ea(e,n))for(t=yn(t,"EXT-X-DATERANGE"),t=t.sort(function(D,N){return D=Pe(D,"START-DATE"),N=Pe(N,"START-DATE"),D<N?-1:D>N?1:0}),n=0;n<t.length;n++){var s=t[n];try{var a=Pe(s,"ID");if(!e.Ha.has(a)){var u=Pe(s,"START-DATE"),l=Vi(u);if(!isNaN(l)){var c=Math.max(0,l-o),h=null,d=$(s,"END-DATE");if(d){var p=Vi(d);if(!isNaN(p)&&(h=p-o,0>h))continue}if(h==null){var m=$(s,"DURATION")||$(s,"PLANNED-DURATION");if(m){var v=parseFloat(m);if(isNaN(v)||(h=c+v),0>l-o+v)continue}}var y=$(s,"CLASS")||"com.apple.quicktime.HLS",E=$(s,"END-ON-NEXT")=="YES";if(h==null&&E){for(var S=n+1;S<t.length;S++){var w=$(t[S],"CLASS")||"com.apple.quicktime.HLS";if(y==w){var A=Pe(t[S],"START-DATE"),x=Vi(A);if(!isNaN(x)&&x&&x>l){h=Math.max(0,x-o);break}}}if(h==null)continue}S=["CLASS","START-DATE","END-DATE","DURATION","END-ON-NEXT"];for(var I=[],C=g(s.attributes),L=C.next();!L.done;L=C.next()){var P=L.value;if(!S.includes(P.name)){var M=W1(P.value,i);(P.name=="X-ASSET-URI"||P.name=="X-ASSET-LIST")&&(M=er(r(),P.value,i)[0]),I.push({key:P.name,description:"",data:M,mimeType:null,pictureType:null})}}1<I.length&&e.h.onMetadata(y,c,h,I),e.Ha.add(a)}}}catch{}}}}function mT(e,t,n,i,r,o){var s=t.segments,a=void 0,u=Uo(t.ea,"EXT-X-DISCONTINUITY-SEQUENCE",0),l=Uo(t.ea,"EXT-X-MEDIA-SEQUENCE",0),c=mt(t.ea,"EXT-X-SKIP"),h=c?Number($(c,"SKIPPED-SEGMENTS")):0,d=l+h,p=0;Ot(e)&&n.has(d)&&(p=n.get(d)),p===0&&e.Da==Fl&&0<n.size&&!n.has(d)&&e.l.i!=null&&(p=e.l.Hb());var m=[],v=null;c=[];for(var y=0;y<s.length;y++){var E=s[y],S=y==0?p:v.endTime;d=l+h+y,mt(E.ea,"EXT-X-DISCONTINUITY")&&u++;for(var w=g(E.ea),A=w.next();!A.done;A=w.next())A=A.value,A.name=="EXT-X-KEY"&&(jl(Pe(A,"METHOD"))?a=hT(e,A,t,r,i):a=void 0);n.set(d,S),w=pT(e,t,E.ea,r,i),!e.L&&e.h.isAutoLowLatencyMode()&&(e.h.enableLowLatencyMode(),e.L=e.h.isLowLatencyMode()),(S=dk(e,w,v,E,S,i,o,r,a))&&((v=Uo(E.ea,"EXT-X-BITRATE"))?c.push({bitrate:v,duration:S.endTime-S.startTime}):c.length&&(v=c.pop(),v.duration+=S.endTime-S.startTime,c.push(v)),v=S,S.i=u,Ea(e,o)&&e.K!=null&&d<e.K||m.push(S))}if(t=void 0,c.length&&(t=c.reduce(function(x,I){return x+I.duration},0),t=Math.round(c.reduce(function(x,I){return x+I.bitrate*I.duration},0)/t*1e3)),c=m.some(function(x){return x.h!=null})){for(n={},i=0;i<m.length;n={xe:void 0,we:void 0,oe:void 0,Vc:void 0,me:void 0},i++)if(n.Vc=m[i],n.Vc.h==null)for(n.we=0,n.xe=i,r=function(x){return function(){var I=m[x.xe];if(I){if(I.h!=null)return I.h+x.we;x.we-=I.endTime-I.startTime,x.xe+=1}return null}}(n),n.me=0,n.oe=i,s=function(x){return function(){var I=m[x.oe];if(I){if(I!=x.Vc&&(x.me+=I.endTime-I.startTime),I.h!=null)return I.h+x.me;--x.oe}return null}}(n);n.Vc.h==null;)n.Vc.h=s(),n.Vc.h==null&&(n.Vc.h=r())}if(c)for(n=g(m),i=n.next();!i.done;i=n.next())for(r=i.value,i=r.h,r=g(r.g),s=r.next();!s.done;s=r.next())s=s.value,s.h=i,i+=s.endTime-s.startTime;if(n=e.ka,c&&n!=1/0&&!Ea(e,o))for(e=g(m),o=e.next();!o.done;o=e.next())o.value.eh(n);return{segments:m,bandwidth:t}}function wf(e,t){if(e==me){if(t=="vtt"||t=="wvtt")return"text/vtt";if(t&&t!=="")return"application/mp4"}return e!="image"||t&&t!="jpeg"?e=="audio"&&t=="mp4a.40.34"?"audio/mpeg":t=="mjpg"?"application/mp4":null:"image/jpeg"}function Ul(e){return e==me?"text/vtt":Cf[e].mp4}function vT(e,t){e=Ot(e)?Math.trunc((t.length-1)/2):0;for(var n=t[e];n.uc()==2&&e+1<t.length;)e++,n=t[e];return{segment:n,segmentIndex:e}}function fk(e,t,n,i){var r,o,s,a,u,l,c,h,d,p,m,v,y,E;return k(function(S){switch(S.g){case 1:return r=Pn,o=vT(e,i),s=o.segment,s.status==2?S.return(Ul(t)):(a=s.R(),u=new $e(a[0]),l=u.mb.split(".").pop(),c=Cf[t],(h=c[l])||(h=If[l])||(h=wf(t,n))?S.return(h):(p=1,m=ct(a,e.g.retryParameters),Z(S,2),m.method="HEAD",T(S,_i(e,m,r,{type:p}).promise,4)));case 4:v=S.h,d=v.headers["content-type"],he(S,3);break;case 2:if(y=ee(S),!y||y.code!=1002&&y.code!=1001){S.B(3);break}return m.method="GET",T(S,_i(e,m,r,{type:p}).promise,6);case 6:E=S.h,d=E.headers["content-type"];case 3:return d?S.return(d.toLowerCase().split(";")[0]):S.return(Ul(t))}})}function yT(e,t,n,i,r,o,s){e&&(e.width=Number(t)||void 0,e.height=Number(n)||void 0,e.frameRate=Number(i)||void 0,e.hdr=r||void 0,e.videoLayout=o||void 0,e.colorGamut=s||void 0)}function xf(e,t,n){return _i(e,ct(t,e.g.retryParameters),0,{type:n?2:3})}function TT(e){var t,n,i,r,o,s;return k(function(a){switch(a.g){case 1:return e.h?(Z(a,2),t=Date.now(),T(a,e.update(),4)):a.return();case 4:n=Date.now(),Ot(e)&&(i=(n-t)/1e3,e.Kb.sample(1,i),r=e.o,o=Math.max(0,r-ou(e.Kb)),e.C.X(o)),he(a,3);break;case 2:if(s=ee(a),!e.h)return a.return();if(e.g.raiseFatalErrorOnManifestUpdateRequestFailure)return e.h.onError(s),a.return();s.severity=1,e.h.onError(s),e.C.X(.1);case 3:if(!e.h)return a.return();e.h.onManifestUpdated(),H(a)}})}function Ot(e){return e.Da!=bl}function Ol(e,t){e.Da=t,e.l&&e.l.Xc(!Ot(e)),Ot(e)||e.C.stop()}function _i(e,t,n,i){if(!e.aa)throw new R(2,7,7001);return i||(i={}),i.isPreload=e.Mb(),t=e.h.networkingEngine.request(n,t,i),Er(e.aa,t),t}function jl(e){return e=="AES-128"||e=="AES-256"||e=="AES-256-CTR"}function ST(e,t,n,i,r,o){var s,a,u,l,c,h,d,p,m,v,y,E,S,w,A;return k(function(x){switch(x.g){case 1:if(n=="video/mp2t")throw new R(2,4,4040);if(iu())throw new R(2,4,4041);if(s=Pe(t,"METHOD"),a=["SAMPLE-AES","SAMPLE-AES-CTR"],!a.includes(s))return x.return(null);if(u=er(i(),Pe(t,"URI"),o),u[0].startsWith("data:text/plain;base64,")){l=pi(fn(u[0].split("data:text/plain;base64,").pop())),x.B(2);break}return c=u.sort().join(""),e.ra.has(c)||(h=ct(u,e.g.retryParameters),d=_i(e,h,6).promise,e.ra.set(c,d)),T(x,e.ra.get(c),3);case 3:p=x.h,l=pi(p.data);case 2:if(m="00000000000000000000000000000000",!r){x.B(4);break}if(e.Ca.has(r)){v=e.Ca.get(r),x.B(5);break}return y=xr(r.R(),r.Ib(),r.Fb(),e.g.retryParameters),E=Pn,T(x,_i(e,y,E,{type:0}).promise,6);case 6:S=x.h,v=Vx(S.data),e.Ca.set(r,v);case 5:v&&(m=v);case 4:return w=new Map,w.set(m,l),A="cenc",s=="SAMPLE-AES"&&(A="cbcs"),x.return(am(w,A))}})}G("shaka.hls.HlsParser",Nl);var If={aac:"audio/aac",ac3:"audio/ac3",ec3:"audio/ec3",mp3:"audio/mpeg"},Cf={audio:{mp4:"audio/mp4",mp4a:"audio/mp4",m4s:"audio/mp4",m4i:"audio/mp4",m4a:"audio/mp4",m4f:"audio/mp4",cmfa:"audio/mp4",ts:"video/mp2t",tsa:"video/mp2t"},video:{mp4:"video/mp4",mp4v:"video/mp4",m4s:"video/mp4",m4i:"video/mp4",m4v:"video/mp4",m4f:"video/mp4",cmfv:"video/mp4",ts:"video/mp2t",tsv:"video/mp2t"},text:{mp4:"application/mp4",m4s:"application/mp4",m4i:"application/mp4",m4f:"application/mp4",cmft:"application/mp4",vtt:"text/vtt",webvtt:"text/vtt",ttml:"application/ttml+xml"},image:{jpg:"image/jpeg",png:"image/png",svg:"image/svg+xml",webp:"image/webp",avif:"image/avif"}},ET=new Set(["video/mp2t"].concat(X(Wi))),AT={"com.apple.streamingkeydelivery":function(e,t){if(t=="video/mp2t")throw new R(2,4,4040);if(iu())throw new R(2,4,4041);if(t=Pe(e,"METHOD"),!["SAMPLE-AES","SAMPLE-AES-CTR"].includes(t))return null;var n="cenc";return t=="SAMPLE-AES"&&(n="cbcs"),hr("com.apple.fps",n,[{initDataType:"sinf",initData:new Uint8Array(0),keyId:null}],Pe(e,"URI"))},"urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":function(e){var t=Pe(e,"METHOD");if(!["SAMPLE-AES","SAMPLE-AES-CTR"].includes(t))return null;var n="cenc";return t=="SAMPLE-AES"&&(n="cbcs"),t=Pe(e,"URI"),t=mf(t.split("?")[0]),t=fe(t.data),n=hr("com.widevine.alpha",n,[{initDataType:"cenc",initData:t}]),(e=$(e,"KEYID"))&&(n.keyIds=new Set([e.toLowerCase().substr(2)])),n},"com.microsoft.playready":function(e){var t=Pe(e,"METHOD");if(!["SAMPLE-AES","SAMPLE-AES-CTR"].includes(t))return null;var n="cenc";return t=="SAMPLE-AES"&&(n="cbcs"),e=Pe(e,"URI"),e=mf(e.split("?")[0]),e=fe(e.data),t=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]),e=Iu(e,t,new Set,0),hr("com.microsoft.playready",n,[{initDataType:"cenc",initData:e}])}},bl="VOD",wT="EVENT",Fl="LIVE",pk={Oi:bl,fl:wT,rl:Fl};Dn["application/x-mpegurl"]=function(){return new Nl},Dn["application/vnd.apple.mpegurl"]=function(){return new Nl};function gk(e){var t=0,n=Bt(e),i=n.getUint32(t,!0);if(i!=e.byteLength)return[];e:{for(e=t+6,t=[];e<n.byteLength-1;){i=n.getUint16(e,!0),e+=2;var r=n.getUint16(e,!0);if(e+=2,r&1||r+e>n.byteLength){n=[];break e}var o=fe(n,e,r);t.push({type:i,value:o}),e+=r}n=t}return n}function Bl(e){if(e=xT(e))e:{e=g(Ln(e,"DATA"));for(var t=e.next();!t.done;t=e.next())if(t=wt(t.value,"LA_URL")){e=et(t);break e}e=""}else e="";return e}function xT(e){return e=fn(et(e)),e=gk(e).filter(function(t){return t.type===mk})[0],e?(e=di(e.value,!0),(e=Jr(e,"WRMHEADER"))?e:null):null}var mk=1,vk=new Map().set("com.microsoft.playready",Bl).set("com.microsoft.playready.recommendation",Bl).set("com.microsoft.playready.software",Bl).set("com.microsoft.playready.hardware",Bl);function jo(e){if(!kT){kT=!0;var t=new Uint8Array([105,115,111,109]),n=new Uint8Array([97,118,99,49]),i=new Uint8Array([0,0,0,1]);Gl=ye("ftyp",t,i,t,n),t=ye("dref",kk),Mf=ye("dinf",t)}this.g=e}function bo(e){for(var t=[],n=g(e.g),i=n.next();!i.done;i=n.next()){var r=t,o=r.push,s=i.value;i=ye;var a=s.id+1,u=s.stream.width||0,l=s.stream.height||0;s.type=="audio"&&(l=u=0);var c=s.duration*s.timescale,h=Math.floor(c/(tr+1));switch(c=Math.floor(c%(tr+1)),a=new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3].concat(X(We(a,4)),[0,0,0,0],X(We(h,4)),X(We(c,4)),[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0],X(We(u,2)),[0,0],X(We(l,2)),[0,0])),a=ye("tkhd",a),u=ye,h=s.duration*s.timescale,l=Math.floor(h/(tr+1)),h=Math.floor(h%(tr+1)),c=s.stream.language,c=c.charCodeAt(0)-96<<10|c.charCodeAt(1)-96<<5|c.charCodeAt(2)-96,l=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3].concat(X(We(s.timescale,4)),X(We(l,4)),X(We(h,4)),X(We(c,2)),[0,0])),l=ye("mdhd",l),h=s,c=new Uint8Array([]),h.type){case"video":c=Tk;break;case"audio":c=Sk}h=ye("hdlr",c);e:{switch(s.type){case"video":s=ye("minf",ye("vmhd",Ik),Mf,IT(s));break e;case"audio":s=ye("minf",ye("smhd",Ck),Mf,IT(s));break e}s=new Uint8Array([])}s=u("mdia",l,h,s),i=i("trak",a,s),o.call(r,i)}for(t=Je.apply(kt,X(t)),o=e.g[0],n=ye,i=o.duration*o.timescale,r=Math.floor(i/(tr+1)),i=Math.floor(i%(tr+1)),r=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3].concat(X(We(o.timescale,4)),X(We(r,4)),X(We(i,4)),[0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255])),r=ye("mvhd",r),i=[],e=g(e.g),u=e.next();!u.done;u=e.next())s=i,a=s.push,u=new Uint8Array([0,0,0,0].concat(X(We(u.value.id+1,4)),[0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1])),u=ye("trex",u),a.call(s,u);if(e=Je.apply(kt,X(i)),e=ye("mvex",e),i=[],o.encrypted){for(o=g(o.stream.drmInfos),s=o.next();!s.done;s=o.next())if(s=s.value,s.initData)for(s=g(s.initData),a=s.next();!a.done;a=s.next())i.push(a.value.initData);o=Je.apply(kt,X(i))}else o=new Uint8Array([]);return e=n("moov",r,t,e,o),t=new Uint8Array(Gl.byteLength+e.byteLength),t.set(Gl),t.set(e,Gl.byteLength),t}function IT(e){var t=ye,n=new Uint8Array([]);switch(e.type){case"video":if(e.codecs.includes("avc1")){n=e.stream.width||0;var i=e.stream.height||0;if(0<e.Qa.byteLength)var r=ye("avcC",e.Qa);else{r=ye;for(var o=7,s=[],a=[],u=0,l=0,c=0,h=0;h<e.wb.length;h++){var d=MT(e.wb[h]);switch(d[0]&31){case 7:s.push(d),o+=d.length+2;break;case 8:a.push(d),o+=d.length+2}}for(0<s.length&&(u=s[0][1],c=s[0][2],l=s[0][3]),o=new Uint8Array(o),h=0,o[h++]=1,o[h++]=u,o[h++]=c,o[h++]=l,o[h++]=255,o[h++]=224|s.length,u=0;u<s.length;u++)o[h++]=(s[u].length&65280)>>8,o[h++]=s[u].length&255,o.set(s[u],h),h+=s[u].length;for(o[h++]=a.length,s=0;s<a.length;s++)o[h++]=(a[s].length&65280)>>8,o[h++]=a[s].length&255,o.set(a[s],h),h+=a[s].length;r=r("avcC",o)}n=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].concat(X(We(n,2)),X(We(i,2)),[0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17])),i="avc1",a=CT(e),s=new Uint8Array([]),e.encrypted&&(s=Fo(e),i="encv"),n=ye(i,n,r,a,s)}else e.codecs.includes("hvc1")&&(i=e.stream.width||0,r=e.stream.height||0,n=new Uint8Array([]),0<e.Qa.byteLength&&(n=ye("hvcC",e.Qa)),i=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].concat(X(We(i,2)),X(We(r,2)),[0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17])),r="hvc1",a=CT(e),s=new Uint8Array([]),e.encrypted&&(s=Fo(e),r="encv"),n=ye(r,i,n,a,s));break;case"audio":e.codecs.includes("mp3")?e=ye(".mp3",Aa(e)):e.codecs.includes("ac-3")?(n=ye("dac3",e.Ea),i="ac-3",r=new Uint8Array([]),e.encrypted&&(r=Fo(e),i="enca"),e=ye(i,Aa(e),n,r)):e.codecs.includes("ec-3")?(n=ye("dec3",e.Ea),i="ec-3",r=new Uint8Array([]),e.encrypted&&(r=Fo(e),i="enca"),e=ye(i,Aa(e),n,r)):e.codecs.includes("opus")?(n=ye("dOps",e.Ea),i="Opus",r=new Uint8Array([]),e.encrypted&&(r=Fo(e),i="enca"),e=ye(i,Aa(e),n,r)):(0<e.Ea.byteLength?n=ye("esds",e.Ea):(n=ye,i=e.id+1,r=e.stream.channelsCount||2,s=e.stream.audioSamplingRate||44100,u=Hr("audio",e.codecs.split(",")),l={96e3:0,88200:1,64e3:2,48e3:3,44100:4,32e3:5,24e3:6,22050:7,16e3:8,12e3:9,11025:10,8e3:11,7350:12},a=l[s],(u==="mp4a.40.5"||u==="mp4a.40.29")&&(a=l[2*s]),s=parseInt(u.split(".").pop(),10),i=new Uint8Array([0,0,0,0,3,25].concat(X(We(i,2)),[0,4,17,64,21,0,0,0,0,0,0,0,0,0,0,0,5,2,s<<3|a>>>1,a<<7|r<<3,6,1,2])),n=n("esds",i)),i="mp4a",r=new Uint8Array([]),e.encrypted&&(r=Fo(e),i="enca"),e=ye(i,Aa(e),n,r)),n=e}return e=ye("stsd",Mk,n),t("stbl",e,ye("stts",Ek),ye("stsc",Ak),ye("stsz",xk),ye("stco",wk))}function CT(e){if(!e.Wa&&!e.Xa)return new Uint8Array([]);var t=e.Xa;return e=new Uint8Array([].concat(X(We(e.Wa,4)),X(We(t,4)))),ye("pasp",e)}function Aa(e){return new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,e.stream.channelsCount||2,0,16,0,0,0,0].concat(X(We(e.stream.audioSamplingRate||44100,2)),[0,0]))}function Fo(e){for(var t=ye,n=e.codecs.substring(0,e.codecs.indexOf(".")),i=0,r=0;r<n.length;r+=1)i|=n.charCodeAt(r)<<8*(n.length-r-1);n=new Uint8Array([].concat(X(We(i,4)))),n=ye("frma",n),i=new Uint8Array([0,0,0,0,99,101,110,99,0,1,0,0]),i=ye("schm",i),r=ye;var o=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);e=g(e.stream.drmInfos);for(var s=e.next();!s.done;s=e.next())if((s=s.value)&&s.keyIds&&s.keyIds.size){s=g(s.keyIds);for(var a=s.next();!a.done;a=s.next())o=MT(a.value)}return e=new Uint8Array([0,0,0,0,0,0,1,8]),o=ye("tenc",e,o),t("sinf",n,i,r("schi",o))}function wa(e){var t=[];e=g(e.g);for(var n=e.next();!n.done;n=e.next()){n=n.value;var i=t.push,r=i.apply,o=ye,s=new Uint8Array([0,0,0,0].concat(X(We(n.data?n.data.Rb:0,4))));s=ye("mfhd",s);var a,u=n.data?n.data.ub:[],l=new Uint8Array(4+u.length);for(a=0;a<u.length;a++){var c=u[a].flags;l[a+4]=c.qb<<4|c.sb<<2|c.rb}u=ye("sdtp",l);var h=u.length+92;l=ye,a=new Uint8Array([0,0,0,58].concat(X(We(n.id+1,4)),[0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),a=ye("tfhd",a),c=n.data?n.data.baseMediaDecodeTime:0;var d=Math.floor(c%(tr+1));c=new Uint8Array([1,0,0,0].concat(X(We(Math.floor(c/(tr+1)),4)),X(We(d,4)))),c=ye("tfdt",c);var p=h;h=n.data?n.data.ub:[],d=h.length;var m=12+16*d,v=new Uint8Array(m);for(p+=8+m,v.set([n.type==="video"?1:0,0,15,1].concat(X(We(d,4)),X(We(p,4))),0),p=0;p<d;p++){var y=h[p];m=We(y.duration,4);var E=We(y.size,4),S=y.flags;y=We(y.yb,4),v.set([].concat(X(m),X(E),[S.zb<<2|S.qb,S.sb<<6|S.rb<<4|S.Ab,S.pb&61440,S.pb&15],X(y)),12+16*p)}h=ye("trun",v),u=l("traf",a,c,h,u),o=o("moof",s,u),r.call(i,t,[o,yk(n)])}return Je.apply(kt,X(t))}function yk(e){return e=(e.data?e.data.ub:[]).map(function(t){return t.data}),e=Je.apply(kt,X(e)),ye("mdat",e)}function We(e,t){var n=[];for(--t;0<=t;t--)n.push(e>>8*t&255);return n}function MT(e){for(var t=new Uint8Array(e.length/2),n=0;n<e.length/2;n+=1)t[n]=parseInt(String(e[2*n]+e[2*n+1]),16);return t}function ye(e){var t=In.apply(1,arguments),n=RT[e];n||(n=[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)],RT[e]=n);for(var i=8,r=t.length-1;0<=r;r--)i+=t[r].byteLength;for(r=new Uint8Array(i),r[0]=i>>24&255,r[1]=i>>16&255,r[2]=i>>8&255,r[3]=i&255,r.set(n,4),n=0,i=8;n<t.length;n++)r.set(t[n],i),i+=t[n].byteLength;return r}var kT=!1,tr=Math.pow(2,32)-1,RT={},Tk=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),Sk=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),Ek=new Uint8Array([0,0,0,0,0,0,0,0]),Ak=new Uint8Array([0,0,0,0,0,0,0,0]),wk=new Uint8Array([0,0,0,0,0,0,0,0]),xk=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),Ik=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),Ck=new Uint8Array([0,0,0,0,0,0,0,0]),Mk=new Uint8Array([0,0,0,0,0,0,0,1]),Gl=new Uint8Array([]),kk=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),Mf=new Uint8Array([]);function kf(){var e=this;this.h=this.g=null,this.l=[],this.j=null,this.u=1,this.i=null,this.G=new qr(5),this.o=new oe(function(){Rk(e)}),this.C=new so,this.m=new Map,this.A=function(){return!1}}f=kf.prototype,f.configure=function(e,t){this.g=e,t&&(this.A=t)},f.start=function(e,t){var n=this;return k(function(i){if(i.g==1)return n.l=[e],n.h=t,T(i,Rf(n),2);if(!n.h)throw new R(2,7,7001);return i.return(n.j)})};function Rk(e){var t;k(function(n){switch(n.g){case 1:return Z(n,2),T(n,Rf(e),4);case 4:he(n,3);break;case 2:t=ee(n),e.h&&(t.severity=1,e.h.onError(t));case 3:if(!e.h)return n.return();H(n)}})}f.stop=function(){return this.g=this.h=null,this.l=[],this.j=null,this.o!=null&&(this.o.stop(),this.o=null),this.m.clear(),this.C.destroy()},f.update=function(){var e=this,t;return k(function(n){if(n.g==1)return Z(n,2),T(n,Rf(e),4);if(n.g!=2)return he(n,0);if(t=ee(n),!e.h||!t)return n.return();e.h.onError(t),H(n)})},f.onExpirationUpdated=function(){},f.onInitialVariantChosen=function(){},f.banLocation=function(){},f.setMediaElement=function(){};function Rf(e){var t,n,i,r,o,s,a;return k(function(u){if(u.g==1)return t=ct(e.l,e.g.retryParameters),n=e.h.networkingEngine,i=Date.now(),r=n.request(0,t,{type:5,isPreload:e.A()}),Er(e.C,r),T(u,r.promise,2);if(o=u.h,!e.h)return u.return();o.uri&&!e.l.includes(o.uri)&&e.l.unshift(o.uri);var l=o.uri,c=o.data,h=e.g.mss.manifestPreprocessor;if(h!=Hu){if(Ke("manifest.mss.manifestPreprocessor configuration","Please Use manifest.mss.manifestPreprocessorTXml instead."),c=k1(c,"SmoothStreamingMedia"),!c)throw new R(2,4,4046,l);h(c),c=Hn(c.outerHTML)}var d=As(c,"SmoothStreamingMedia");if(!d)throw new R(2,4,4046,l);if(l=e.g.mss.manifestPreprocessorTXml,l!=zu&&l(d),e.i||(e.i=new te(null,0)),l=Te(d,"IsLive",hu,!1))throw new R(2,4,4047);e.i.Xc(!l),h=Te(d,"TimeScale",xt,1e7),c=Te(d,"DVRWindowLength",xt),l&&(c===0||isNaN(c))&&(c=1/0);var p=Te(d,"CanSeek",hu,!1);c===0&&p&&(c=1/0),p=null,c&&0<c&&(p=c/h),l&&!isNaN(e.g.availabilityWindowOverride)&&(p=e.g.availabilityWindowOverride),p==null&&(p=1/0),e.i.hf(p),c=Te(d,"Duration",xt,1/0),l||e.i.vb(c/h),l={variants:[],textStreams:[],timescale:h,duration:c/h};var m;for(p=Le(d,"Protection"),h=e.g.mss.keySystemsBySystemId,c=[],p=g(p),m=p.next();!m.done;m=p.next())c=c.concat(Le(m.value,"ProtectionHeader"));if(c.length){for(p=[],m=0;m<c.length;m++){var v=c[m],y=v.attributes.SystemID.toLowerCase(),E=h[y];if(E){var S=xT(v);if(S)e:{S=g(Ln(S,"DATA"));for(var w=S.next();!w.done;w=S.next())if(w=wt(w.value,"KID")){S=fn(et(w)),S=new Uint8Array([S[3],S[2],S[1],S[0],S[5],S[4],S[7],S[6]].concat(X(S.slice(8)))),S=pi(S);break e}S=null}else S=null;w=fn(et(v)),y=cr(y.replace(/-/g,"")),y=[{initData:Iu(w,y,new Set,0),initDataType:"cenc",keyId:S}],y=hr(E,"cenc",y),S&&y.keyIds.add(S),(E=vk.get(E))&&(y.licenseServerUri=E(v)),p.push(y)}}h=p}else h=[];for(m=h,p=[],h=[],c=[],d=Le(d,"StreamIndex"),d=g(d),v=d.next();!v.done;v=d.next()){v=v.value,E=Le(v,"QualityLevel"),y=l.timescale,S=l.duration,w=Le(v,"c");for(var A=[],x=0,I=0;I<w.length;++I){var C=w[I],L=w[I+1],P=Te(C,"t",xt),M=Te(C,"d",xt);if(C=Te(C,"r",lu),!M)break;if(P=P??x,(C=C||0)&&C--,0>C)if(L){if(L=Te(L,"t",xt),L==null)break;if(P>=L)break;C=Math.ceil((L-P)/M)-1}else{if(S==1/0)break;if(P/y>=S)break;C=Math.ceil((S*y-P)/M)-1}for(L=0;L<=C;++L)x=P+M,A.push({start:P/y,end:x/y,jh:P}),P=x}for(y=A,E=g(E),S=E.next();!S.done;S=E.next())(S=Lk(e,v,S.value,y,m,l))&&(S.type!="audio"||e.g.disableAudio?S.type!="video"||e.g.disableVideo?S.type!=me||e.g.disableText||c.push(S):h.push(S):p.push(S))}for(d=[],p=g(0<p.length?p:[null]),m=p.next();!m.done;m=p.next())for(m=m.value,v=g(0<h.length?h:[null]),A=v.next();!A.done;A=v.next())E=d,y=E.push,S=e,w=m,A=A.value,I=0,w&&w.bandwidth&&0<w.bandwidth&&(I+=w.bandwidth),A&&A.bandwidth&&0<A.bandwidth&&(I+=A.bandwidth),S={id:S.u++,language:w?w.language:"und",disabledUntilTime:0,primary:!!w&&w.primary||!!A&&A.primary,audio:w,video:A,bandwidth:I,allowedByApplication:!0,allowedByKeySystem:!0,decodingInfos:[]},y.call(E,S);l.variants=d,l.textStreams=c,e.j?(e.j.variants=l.variants,e.j.textStreams=l.textStreams,e.h.filter(e.j)):(e.j={presentationTimeline:e.i,variants:l.variants,textStreams:l.textStreams,imageStreams:[],offlineSessionIds:[],minBufferTime:0,sequenceMode:e.g.mss.sequenceMode,ignoreManifestTimestampsInSegmentsMode:!1,type:"MSS",serviceDescription:null,nextUrl:null,periodCount:1,gapCount:0,isLowLatency:!1,startTime:null},e.i.Oe()),Promise.resolve(),s=Date.now(),a=(s-i)/1e3,e.G.sample(1,a),H(u)})}function Lk(e,t,n,i,r,o){var s=t.attributes.Type;if(s!=="audio"&&s!=="video"&&s!=="text")return de("Ignoring unrecognized type:",s),null;var a=t.attributes.Language,u=e.u++,l=Te(n,"Bitrate",mi),c=Te(n,"MaxWidth",mi),h=Te(n,"MaxHeight",mi),d=Te(n,"Channels",mi),p=Te(n,"SamplingRate",mi),m=o.duration;i.length&&(m=i[i.length-1].end-i[0].start);var v=e.i.getDuration();e.i.vb(Math.min(m,v));var y={id:u,originalId:t.attributes.Name||String(u),groupId:null,createSegmentIndex:function(){return Promise.resolve()},closeSegmentIndex:function(){return Promise.resolve()},segmentIndex:null,mimeType:"",codecs:"",frameRate:void 0,pixelAspectRatio:void 0,bandwidth:l||0,width:c||void 0,height:h||void 0,kind:"",encrypted:0<r.length,drmInfos:r,keyIds:new Set,language:Ce(a||"und"),originalLanguage:a,label:"",type:"",primary:!1,trickModeVideo:null,emsgSchemeIdUris:[],roles:[],forced:!1,channelsCount:d,audioSamplingRate:p,spatialAudio:!1,closedCaptions:null,hdr:void 0,colorGamut:void 0,videoLayout:void 0,tilesLayout:void 0,matchedStreams:[],mssPrivateData:{duration:m,timescale:o.timescale,codecPrivateData:null},accessibilityPurpose:null,external:!1,fastSwitching:!1,fullMimeTypes:new Set};if((r=t.attributes.Subtype)&&((r=Ok[r])&&y.roles.push(r),r==="main"&&(y.primary=!0)),r=n.attributes.FourCC,(r===null||r==="")&&(r=t.attributes.FourCC),!r){if(s==="audio")r="AAC";else if(s==="video")return de('FourCC is not defined whereas it is required for a QualityLevel element for a StreamIndex of type "video"'),null}if(!Uk.includes(r.toUpperCase()))return de("Codec not supported:",r),null;switch(n=Pk(n,s,r,y),y.mssPrivateData.codecPrivateData=n,s){case"audio":if(!n)return de("Quality unsupported without CodecPrivateData",s),null;y.type="audio",y.mimeType="mss/audio/mp4",y.codecs=Dk(r,n);break;case"video":if(!n)return de("Quality unsupported without CodecPrivateData",s),null;y.type="video",y.mimeType="mss/video/mp4",y.codecs=Nk(n);break;case"text":y.type=me,y.mimeType="application/mp4",(r==="TTML"||r==="DFXP")&&(y.codecs="stpp")}return y.fullMimeTypes.add(ot(y.mimeType,y.codecs)),y.createSegmentIndex=function(){if(y.segmentIndex)return Promise.resolve();if(e.m.has(y.id))var E=e.m.get(y.id);else E=[],y.type=="video"&&(E=y.mssPrivateData.codecPrivateData.split("00000001").slice(1)),E={id:y.id,type:y.type,codecs:y.codecs,encrypted:y.encrypted,timescale:y.mssPrivateData.timescale,duration:y.mssPrivateData.duration,wb:E,Ea:new Uint8Array([]),Qa:new Uint8Array([]),Wa:0,Xa:0,data:null,stream:y},E=bo(new jo([E])),e.m.set(y.id,E);return E=_k(e,new Kt(function(){return[]},0,null,ju(y),y.mssPrivateData.timescale,E),y,t,i),y.segmentIndex=new we(E),Promise.resolve()},y.closeSegmentIndex=function(){y.segmentIndex&&(y.segmentIndex.release(),y.segmentIndex=null)},y}function Pk(e,t,n,i){if(e=e.attributes.CodecPrivateData)return e;if(t!=="audio")return null;t=i.channelsCount||2,e=i.audioSamplingRate||44100;var r={96e3:0,88200:1,64e3:2,48e3:3,44100:4,32e3:5,24e3:6,22050:7,16e3:8,12e3:9,11025:10,8e3:11,7350:12};return i=r[e],n==="AACH"?(n=new Uint8Array(4),e=r[2*e],n[0]=40|i>>1,n[1]=i<<7|t<<3|e>>1,n[2]=e<<7|8,n[3]=0,t=new Uint16Array(2),t[0]=(n[0]<<8)+n[1],t[1]=(n[2]<<8)+n[3],t[0].toString(16)+t[1].toString(16)):(n=new Uint8Array(2),n[0]=16|i>>1,n[1]=i<<7|t<<3,t=new Uint16Array(1),t[0]=(n[0]<<8)+n[1],t[0].toString(16))}function Dk(e,t){var n=0;return e==="AACH"&&(n=5),t?n===0&&(n=(parseInt(t.substr(0,2),16)&248)>>3):(n=2,e==="AACH"&&(n=5)),"mp4a.40."+n}function Nk(e){var t=/00000001[0-9]7/.exec(e);return t.length&&e?"avc1."+e.substr(e.indexOf(t[0])+10,6):""}function _k(e,t,n,i,r){var o=i.attributes.Url.replace("{bitrate}",String(n.bandwidth));i=[],r=g(r);for(var s=r.next(),a={};!s.done;a={kf:void 0},s=r.next())a.kf=s.value,i.push(new ie(a.kf.start,a.kf.end,function(u){return function(){return pt(e.l,[o.replace("{start time}",String(u.kf.jh))])}}(a),0,null,t,0,0,n.mssPrivateData.duration));return i}G("shaka.mss.MssParser",kf);var Uk="AAC AACL AACH AACP AVC1 H264 TTML DFXP".split(" "),Ok={CAPT:"main",SUBT:"alternate",DESC:"main"};Dn["application/vnd.ms-sstr+xml"]=function(){return new kf};function LT(e,t,n,i,r,o){if(200<=n&&299>=n&&n!=202)return{uri:r||i,originalUri:i,data:t,status:n,headers:e,fromCache:!!e["x-shaka-from-cache"]};var s=null;try{s=fi(t)}catch{}throw new R(n==401||n==403?2:1,1,1001,i,n,s,e,o,r||i)}function Lf(){}function Vl(e,t,n,i,r,o){var s=new Gk;Ds(t.headers).forEach(function(c,h){s.append(h,c)});var a=new Fk,u={sh:!1,Gi:!1};if(e=jk(e,n,{body:t.body||void 0,headers:s,method:t.method,signal:a.signal,credentials:t.allowCrossSiteCredentials?"include":void 0},u,i,r,t.streamDataCallback,o.minBytesForProgressEvents||0),e=new Qe(e,function(){return u.sh=!0,a.abort(),Promise.resolve()}),t=t.retryParameters.timeout){var l=new oe(function(){u.Gi=!0,a.abort()});l.X(t/1e3),e.finally(function(){l.stop()})}return e}function jk(e,t,n,i,r,o,s,a){var u,l,c,h,d,p,m,v,y,E,S,w,A;return k(function(x){switch(x.g){case 1:return u=bk,l=Bk,p=d=0,m=Date.now(),Z(x,2),T(x,u(e,n),4);case 4:if(c=x.h,o(PT(c.headers)),n.method=="HEAD"){x.B(5);break}return v=c.clone().body.getReader(),E=(y=c.headers.get("Content-Length"))?parseInt(y,10):0,S=function(I){function C(){var L,P,M,D;return k(function(N){switch(N.g){case 1:return Z(N,2),T(N,v.read(),4);case 4:L=N.h,he(N,3);break;case 2:return ee(N),N.return();case 3:if(L.done){N.B(5);break}if(d+=L.value.byteLength,!s){N.B(5);break}return T(N,s(L.value),5);case 5:P=Date.now(),M=d-p,(100<P-m&&M>=a||L.done)&&(D=L.done?0:E-d,r(P-m,M,D),p=d,m=P),L.done?I.close():(I.enqueue(L.value),C()),H(N)}})}C()},new l({start:S}),T(x,c.arrayBuffer(),6);case 6:h=x.h;case 5:he(x,3);break;case 2:throw w=ee(x),i.sh?new R(1,1,7001,e,t):i.Gi?new R(1,1,1003,e,t):new R(1,1,1002,e,w,t);case 3:return A=PT(c.headers),x.return(LT(A,h,c.status,e,c.url,t))}})}function PT(e){var t={};return e.forEach(function(n,i){t[i.trim()]=n}),t}function DT(){if(O.ReadableStream)try{new ReadableStream({})}catch{return!1}else return!1;if(O.Response){if(!new Response("").body)return!1}else return!1;return!(!O.fetch||"polyfill"in O.fetch||!O.AbortController)}G("shaka.net.HttpFetchPlugin",Lf),Lf.isSupported=DT,Lf.parse=Vl;var bk=O.fetch,Fk=O.AbortController,Bk=O.ReadableStream,Gk=O.Headers;DT()&&(Ai("http",Vl,2,!0),Ai("https",Vl,2,!0),Ai("blob",Vl,2,!0));function NT(){}function Hl(e,t,n,i,r,o){var s=new Vk,a=Date.now(),u=0,l=new Promise(function(c,h){s.open(t.method,e,!0),s.responseType="arraybuffer",s.timeout=t.retryParameters.timeout,s.withCredentials=t.allowCrossSiteCredentials,s.onabort=function(){h(new R(1,1,7001,e,n))};var d=!1;s.onreadystatechange=function(){if(s.readyState==2&&!d){var m=_T(s);r(m),d=!0}},s.onload=function(m){var v=_T(s),y=s.response;try{i(Date.now()-a,m.loaded-u,0);var E=LT(v,y,s.status,e,s.responseURL,n);c(E)}catch(S){h(S)}},s.onerror=function(m){h(new R(1,1,1002,e,m,n))},s.ontimeout=function(){h(new R(1,1,1003,e,n))},s.onprogress=function(m){var v=Date.now(),y=o.minBytesForProgressEvents||0,E=m.loaded-u;(100<v-a&&E>=y||m.lengthComputable&&m.loaded==m.total)&&(i(v-a,E,s.readyState==4?0:m.total-m.loaded),u=m.loaded,a=v)};for(var p in t.headers)s.setRequestHeader(p.toLowerCase(),t.headers[p]);s.send(t.body)});return new Qe(l,function(){return s.abort(),Promise.resolve()})}function _T(e){var t=e.getAllResponseHeaders().trim().split(`\r
`);e={},t=g(t);for(var n=t.next();!n.done;n=t.next())n=n.value.split(": "),e[n[0].toLowerCase()]=n.slice(1).join(": ");return e}G("shaka.net.HttpXHRPlugin",NT),NT.parse=Hl;var Vk=O.XMLHttpRequest;Ai("http",Hl,1,!0),Ai("https",Hl,1,!0),Ai("blob",Hl,1,!0);function UT(e,t,n,i){this.g=e,this.i=t,this.groupId=n,this.h=i}function Pf(e){return e.R().map(function(t){return"{"+encodeURI(t)+"}"}).join("")+":"+e.$a+":"+e.La}function Hk(e,t){return xr(e.g.R(),e.g.$a,e.g.La,t.streaming.retryParameters)}function OT(){this.h=this.j=this.i=0,this.g=new Map,this.l=0}function jT(e,t){e.i+=t;var n=e.l;return e.l++,e.g.set(n,t),n}OT.prototype.close=function(e,t){if(this.g.has(e)){var n=this.g.get(e);this.g.delete(e),this.j+=n,this.h+=t}};function bT(e){var t=this;this.o=e,this.j=new Map,this.i=new ao(function(){return Df(t).catch(function(){})}),this.h=[],this.m=function(){},this.l=function(){},this.g=new OT}bT.prototype.destroy=function(){return this.i.destroy()};function zk(e,t,n){e.m=t,e.l=n}function Df(e){var t=e.h.map(function(n){return n()});return e.h=[],Promise.all(t)}function Kk(e,t,n,i,r,o){_e(e.i);var s=(e.j.get(t)||Promise.resolve()).then(function(){var a,u,l,c,h,d,p;return k(function(m){if(m.g==1)return T(m,Wk(e,n),2);if(a=m.h,e.i.g)throw new R(2,9,7001);if(r)for(c in u=fe(a),l=new gv(u),l.data)h=Number(c),d=l.data[h],p=l.g[h],e.l(d,p);e.g.close(i,a.byteLength);var v=e.g;return e.m(v.i==0?0:v.j/v.i,e.g.h),m.return(o(a))})});e.j.set(t,s)}function qk(e){return k(function(t){return t.g==1?T(t,Promise.all(e.j.values()),2):t.return(e.g.h)})}function Wk(e,t){var n,i,r,o;return k(function(s){return s.g==1?(n=Pn,i=e.o.request(n,t),r=function(){return i.abort()},e.h.push(r),T(s,i.promise,2)):(o=s.h,zn(e.h,r),s.return(o.data))})}function zl(e,t){var n=this;this.i=e,this.h=e.objectStore(t),this.g=new De,e.onabort=function(i){i.preventDefault(),n.g.reject()},e.onerror=function(i){i.preventDefault(),n.g.reject()},e.oncomplete=function(){n.g.resolve()}}zl.prototype.abort=function(){var e=this;return k(function(t){if(t.g==1){try{e.i.abort()}catch{}return Z(t,2),T(t,e.g,4)}if(t.g!=2)return he(t,0);ee(t),H(t)})};function Nf(e,t){return new Promise(function(n,i){var r=e.h.openCursor();r.onerror=i,r.onsuccess=function(){var o;return k(function(s){if(s.g==1)return r.result==null?(n(),s.return()):(o=r.result,T(s,t(o.key,o.value,o),2));o.continue(),H(s)})}})}zl.prototype.store=function(){return this.h},zl.prototype.promise=function(){return this.g};function _f(e){this.h=e,this.g=[]}_f.prototype.destroy=function(){return Promise.all(this.g.map(function(e){return e.abort()}))};function Lr(e,t){return Kl(e,t,"readwrite")}function Kl(e,t,n){n=e.h.transaction([t],n);var i=new zl(n,t);return e.g.push(i),i.promise().then(function(){zn(e.g,i)},function(){zn(e.g,i)}),i}function Pr(e,t,n){this.h=new _f(e),this.i=t,this.g=n}f=Pr.prototype,f.destroy=function(){return this.h.destroy()},f.hasFixedKeySpace=function(){return!0},f.addSegments=function(){return FT(this.i)},f.removeSegments=function(e,t){return BT(this,this.i,e,t)},f.getSegments=function(e){var t=this,n;return k(function(i){return i.g==1?T(i,GT(t,t.i,e),2):(n=i.h,i.return(n.map(function(r){return t.yh(r)})))})},f.addManifests=function(){return FT(this.g)},f.updateManifest=function(){return Promise.reject(new R(2,9,9016,"Cannot modify values in "+this.g))};function Xk(e,t,n){e=Lr(e.h,e.g);var i=e.store();return i.get(t).onsuccess=function(){i.put(n,t)},e.promise()}f.updateManifestExpiration=function(e,t){var n=Lr(this.h,this.g),i=n.store();return i.get(e).onsuccess=function(r){(r=r.target.result)&&(r.expiration=t,i.put(r,e))},n.promise()},f.removeManifests=function(e,t){return BT(this,this.g,e,t)},f.getManifests=function(e){var t=this,n;return k(function(i){return i.g==1?T(i,GT(t,t.g,e),2):(n=i.h,i.return(Promise.all(n.map(function(r){return t.Fd(r)}))))})},f.getAllManifests=function(){var e=this,t,n;return k(function(i){return i.g==1?(t=Kl(e.h,e.g,"readonly"),n=new Map,T(i,Nf(t,function(r,o){var s;return k(function(a){if(a.g==1)return T(a,e.Fd(o),2);s=a.h,n.set(r,s),H(a)})}),2)):i.g!=3?T(i,t.promise(),3):i.return(n)})},f.yh=function(e){return e},f.Fd=function(e){return Promise.resolve(e)};function FT(e){return Promise.reject(new R(2,9,9011,"Cannot add new value to "+e))}f.add=function(e,t){var n=this,i,r,o,s,a,u,l;return k(function(c){if(c.g==1){for(i=Lr(n.h,e),r=i.store(),o=[],s=g(t),a=s.next(),u={};!a.done;u={Ng:void 0},a=s.next())l=a.value,u.Ng=r.add(l),u.Ng.onsuccess=function(h){return function(){o.push(h.Ng.result)}}(u);return T(c,i.promise(),2)}return c.return(o)})};function BT(e,t,n,i){e=Lr(e.h,t),t=e.store(),n=g(n);for(var r=n.next(),o={};!r.done;o={zg:void 0},r=n.next())o.zg=r.value,t.delete(o.zg).onsuccess=function(s){return function(){return i(s.zg)}}(o);return e.promise()}function GT(e,t,n){var i,r,o,s,a,u,l;return k(function(c){if(c.g==1){for(i=Kl(e.h,t,"readonly"),r=i.store(),o={},s=[],a=g(n),u=a.next(),l={};!u.done;l={bf:void 0,Ke:void 0},u=a.next())l.Ke=u.value,l.bf=r.get(l.Ke),l.bf.onsuccess=function(h){return function(){h.bf.result==null&&s.push(h.Ke),o[h.Ke]=h.bf.result}}(l);return T(c,i.promise(),2)}if(s.length)throw new R(2,9,9012,"Could not find values for "+s);return c.return(n.map(function(h){return o[h]}))})}function xa(e){this.g=new _f(e)}xa.prototype.destroy=function(){return this.g.destroy()},xa.prototype.getAll=function(){var e=this,t,n;return k(function(i){return i.g==1?(t=Kl(e.g,"session-ids","readonly"),n=[],T(i,Nf(t,function(r,o){n.push(o)}),2)):i.g!=3?T(i,t.promise(),3):i.return(n)})},xa.prototype.add=function(e){var t=Lr(this.g,"session-ids"),n=t.store();e=g(e);for(var i=e.next();!i.done;i=e.next())n.add(i.value);return t.promise()},xa.prototype.remove=function(e){var t=this,n;return k(function(i){return i.g==1?(n=Lr(t.g,"session-ids"),T(i,Nf(n,function(r,o,s){e.includes(o.sessionId)&&s.delete()}),2)):T(i,n.promise(),0)})};function jt(){this.g=new Map}jt.prototype.destroy=function(){for(var e=[],t=g(this.g.values()),n=t.next();!n.done;n=t.next())e.push(n.value.destroy());return this.g.clear(),Promise.all(e)},jt.prototype.init=function(){var e=this;Ia.forEach(function(r,o){(r=r())&&e.g.set(o,r)});for(var t=[],n=g(this.g.values()),i=n.next();!i.done;i=n.next())t.push(i.value.init());return Promise.all(t)};function VT(e){var t=null;if(e.g.forEach(function(n,i){n.getCells().forEach(function(r,o){r.hasFixedKeySpace()||t||(t={path:{Nb:i,ab:o},ab:r})})}),t)return t;throw new R(2,9,9013,"Could not find a cell that supports add-operations")}function Yk(e,t){e.g.forEach(function(n,i){n.getCells().forEach(function(r,o){t({Nb:i,ab:o},r)})})}function ql(e,t,n){if(e=e.g.get(t),!e)throw new R(2,9,9013,"Could not find mechanism with name "+t);if(t=e.getCells().get(n),!t)throw new R(2,9,9013,"Could not find cell with name "+n);return t}function $k(e,t){e.g.forEach(function(n){t(n.getEmeSessionCell())})}function Jk(e){var t=Array.from(e.g.keys());if(!t.length)throw new R(2,9,9e3,"No supported storage mechanisms found");return e.g.get(t[0]).getEmeSessionCell()}function Qk(e){var t,n,i;return k(function(r){return r.g==1?(t=Array.from(e.g.values()),n=0<t.length,n||(i=Ia,i.forEach(function(o){(o=o())&&t.push(o)})),T(r,Promise.all(t.map(function(o){return o.erase()})),2)):n?r.B(0):T(r,Promise.all(t.map(function(o){return o.destroy()})),0)})}function HT(e,t){Ia.set(e,t)}G("shaka.offline.StorageMuxer",jt),jt.unregister=function(e){Ia.delete(e)},jt.register=HT,jt.prototype.destroy=jt.prototype.destroy;var Ia=new Map;function Ca(){Pr.apply(this,arguments)}pe(Ca,Pr),Ca.prototype.updateManifestExpiration=function(e,t){var n=this,i,r,o;return k(function(s){return i=Lr(n.h,n.g),r=i.store(),o=new De,r.get(e).onsuccess=function(a){(a=a.target.result)?(a.expiration=t,r.put(a),o.resolve()):o.reject(new R(2,9,9012,"Could not find values for "+e))},T(s,Promise.all([i.promise(),o]),0)})},Ca.prototype.Fd=function(e){var t,n,i,r,o,s;return k(function(a){if(a.g==1){for(t=[],n=0;n<e.periods.length;++n)i=n==e.periods.length-1?e.duration:e.periods[n+1].startTime,r=i-e.periods[n].startTime,o=Zk(e.periods[n],r),t.push(o);return T(a,S1(t),2)}return s=a.h,a.return({creationTime:0,originalManifestUri:e.originalManifestUri,duration:e.duration,size:e.size,expiration:e.expiration==null?1/0:e.expiration,streams:s,sessionIds:e.sessionIds,drmInfo:e.drmInfo,appMetadata:e.appMetadata,sequenceMode:!1})})};function Zk(e,t){tR(e);for(var n=g(e.streams),i=n.next();!i.done;i=n.next());return e.streams.map(function(r){return eR(r,e.startTime,t)})}function eR(e,t,n){var i=e.initSegmentUri?zT(e.initSegmentUri):null,r=t+e.presentationTimeOffset,o=t+n;return{id:e.id,originalId:null,groupId:null,primary:e.primary,type:e.contentType,mimeType:e.mimeType,codecs:e.codecs,frameRate:e.frameRate,pixelAspectRatio:void 0,hdr:void 0,colorGamut:void 0,videoLayout:void 0,kind:e.kind,language:e.language,originalLanguage:e.language||null,label:e.label,width:e.width,height:e.height,initSegmentKey:i,encrypted:e.encrypted,keyIds:new Set([e.keyId]),segments:e.segments.map(function(s){var a=zT(s.uri);return{startTime:t+s.startTime,endTime:t+s.endTime,dataKey:a,initSegmentKey:i,appendWindowStart:t,appendWindowEnd:o,timestampOffset:r,tilesLayout:"",mimeType:null,codecs:null}}),variantIds:e.variantIds,roles:[],forced:!1,audioSamplingRate:null,channelsCount:null,spatialAudio:!1,closedCaptions:null,tilesLayout:void 0,external:!1,fastSwitching:!1}}Ca.prototype.yh=function(e){return{data:e.data}};function zT(e){var t;if((t=/^offline:[0-9]+\/[0-9]+\/([0-9]+)$/.exec(e))||(t=/^offline:segment\/([0-9]+)$/.exec(e)))return Number(t[1]);throw new R(2,9,9004,"Could not parse uri "+e)}function tR(e){var t=e.streams.filter(function(a){return a.contentType=="audio"});if(e=e.streams.filter(function(a){return a.contentType=="video"}),!t.every(function(a){return a.variantIds})||!e.every(function(a){return a.variantIds})){for(var n=g(t),i=n.next();!i.done;i=n.next())i.value.variantIds=[];for(n=g(e),i=n.next();!i.done;i=n.next())i.value.variantIds=[];if(n=0,e.length&&!t.length){i=n++;for(var r=g(e),o=r.next();!o.done;o=r.next())o.value.variantIds.push(i)}if(!e.length&&t.length)for(i=n++,r=g(t),o=r.next();!o.done;o=r.next())o.value.variantIds.push(i);if(e.length&&t.length)for(t=g(t),i=t.next();!i.done;i=t.next())for(i=i.value,r=g(e),o=r.next();!o.done;o=r.next()){o=o.value;var s=n++;i.variantIds.push(s),o.variantIds.push(s)}}}function Wl(){Pr.apply(this,arguments)}pe(Wl,Pr),Wl.prototype.Fd=function(e){var t,n,i,r,o,s;return k(function(a){if(a.g==1){for(t=[],n=0;n<e.periods.length;++n){i=n==e.periods.length-1?e.duration:e.periods[n+1].startTime,r=i-e.periods[n].startTime;for(var u=e.periods[n],l=[],c=g(u.streams),h=c.next();!h.done;h=c.next())h=h.value,h.variantIds.length!=0&&l.push(nR(h,u.startTime,u.startTime+r));o=l,t.push(o)}return T(a,S1(t),2)}return s=a.h,a.return({appMetadata:e.appMetadata,creationTime:0,drmInfo:e.drmInfo,duration:e.duration,expiration:e.expiration==null?1/0:e.expiration,originalManifestUri:e.originalManifestUri,sessionIds:e.sessionIds,size:e.size,streams:s,sequenceMode:!1})})};function nR(e,t,n){return{id:e.id,originalId:e.originalId,groupId:null,primary:e.primary,type:e.contentType,mimeType:e.mimeType,codecs:e.codecs,frameRate:e.frameRate,pixelAspectRatio:e.pixelAspectRatio,hdr:void 0,colorGamut:void 0,videoLayout:void 0,kind:e.kind,language:e.language,originalLanguage:e.language||null,label:e.label,width:e.width,height:e.height,encrypted:e.encrypted,keyIds:new Set([e.keyId]),segments:e.segments.map(function(i){return{startTime:t+i.startTime,endTime:t+i.endTime,initSegmentKey:e.initSegmentKey,appendWindowStart:t,appendWindowEnd:n,timestampOffset:t-e.presentationTimeOffset,dataKey:i.dataKey,tilesLayout:"",mimeType:null,codecs:null}}),variantIds:e.variantIds,roles:[],forced:!1,audioSamplingRate:null,channelsCount:null,spatialAudio:!1,closedCaptions:null,tilesLayout:void 0,external:!1,fastSwitching:!1}}function Uf(){Pr.apply(this,arguments)}pe(Uf,Pr),f=Uf.prototype,f.hasFixedKeySpace=function(){return!1},f.addSegments=function(e){return this.add(this.i,e)},f.addManifests=function(e){return this.add(this.g,e)},f.updateManifest=function(e,t){return Xk(this,e,t)},f.Fd=function(e){return e.expiration==null&&(e.expiration=1/0),Promise.resolve(e)};function KT(){this.m=this.j=this.i=this.h=this.g=this.l=null}f=KT.prototype,f.init=function(){var e=this,t=new De,n=!1,i=new oe(function(){n=!0,t.reject(new R(2,9,9017))});i.X(5);var r=O.indexedDB.open("shaka_offline_db",5);return r.onsuccess=function(){if(!n){var o=r.result;e.l=o;var s=o.objectStoreNames;s=s.contains("manifest")&&s.contains("segment")?new Ca(o,"segment","manifest"):null,e.g=s,s=o.objectStoreNames,s=s.contains("manifest-v2")&&s.contains("segment-v2")?new Wl(o,"segment-v2","manifest-v2"):null,e.h=s,s=o.objectStoreNames,s=s.contains("manifest-v3")&&s.contains("segment-v3")?new Wl(o,"segment-v3","manifest-v3"):null,e.i=s,s=o.objectStoreNames,s=s.contains("manifest-v5")&&s.contains("segment-v5")?new Uf(o,"segment-v5","manifest-v5"):null,e.j=s,o=o.objectStoreNames.contains("session-ids")?new xa(o):null,e.m=o,i.stop(),t.resolve()}},r.onupgradeneeded=function(){for(var o=r.result,s=g(["segment-v5","manifest-v5","session-ids"]),a=s.next();!a.done;a=s.next())a=a.value,o.objectStoreNames.contains(a)||o.createObjectStore(a,{autoIncrement:!0})},r.onerror=function(o){n||(t.reject(new R(2,9,9001,r.error)),i.stop(),o.preventDefault())},t},f.destroy=function(){var e=this;return k(function(t){switch(t.g){case 1:if(!e.g){t.B(2);break}return T(t,e.g.destroy(),2);case 2:if(!e.h){t.B(4);break}return T(t,e.h.destroy(),4);case 4:if(!e.i){t.B(6);break}return T(t,e.i.destroy(),6);case 6:if(!e.j){t.B(8);break}return T(t,e.j.destroy(),8);case 8:if(!e.m){t.B(10);break}return T(t,e.m.destroy(),10);case 10:e.l&&e.l.close(),H(t)}})},f.getCells=function(){var e=new Map;return this.g&&e.set("v1",this.g),this.h&&e.set("v2",this.h),this.i&&e.set("v3",this.i),this.j&&e.set("v5",this.j),e},f.getEmeSessionCell=function(){return this.m},f.erase=function(){var e=this;return k(function(t){switch(t.g){case 1:if(!e.g){t.B(2);break}return T(t,e.g.destroy(),2);case 2:if(!e.h){t.B(4);break}return T(t,e.h.destroy(),4);case 4:if(!e.i){t.B(6);break}return T(t,e.i.destroy(),6);case 6:if(!e.j){t.B(8);break}return T(t,e.j.destroy(),8);case 8:return e.l&&e.l.close(),T(t,iR(),10);case 10:return e.l=null,e.g=null,e.h=null,e.i=null,e.j=null,T(t,e.init(),0)}})};function iR(){var e=new De,t=O.indexedDB.deleteDatabase("shaka_offline_db");return t.onblocked=function(){},t.onsuccess=function(){e.resolve()},t.onerror=function(n){e.reject(new R(2,9,9001,t.error)),n.preventDefault()},e}HT("idb",function(){return Gt()||Vn()||!O.indexedDB?null:new KT});function ii(e,t,n,i){this.g=e,this.i=t,this.h=n,this.l=i,this.j=["offline:",e,"/",t,"/",n,"/",i].join("")}ii.prototype.Nb=function(){return this.i},ii.prototype.ab=function(){return this.h},ii.prototype.key=function(){return this.l},ii.prototype.toString=function(){return this.j};function Of(e){if(e=/^offline:([a-z]+)\/([^/]+)\/([^/]+)\/([0-9]+)$/.exec(e),e==null)return null;var t=e[1];if(t!="manifest"&&t!="segment")return null;var n=e[2];if(!n)return null;var i=e[3];return i&&t!=null?new ii(t,n,i,Number(e[4])):null}function qT(e,t){this.h=e,this.g=t}function WT(e,t){var n=new te(null,0);n.vb(t.duration);var i=t.streams.filter(function(l){return l.type=="audio"}),r=t.streams.filter(function(l){return l.type=="video"});i=rR(e,i,r,n),r=t.streams.filter(function(l){return l.type==me}).map(function(l){return Xl(e,l,n)});var o=t.streams.filter(function(l){return l.type=="image"}).map(function(l){return Xl(e,l,n)}),s=t.drmInfo?[t.drmInfo]:[];if(t.drmInfo)for(var a=g(i.values()),u=a.next();!u.done;u=a.next())u=u.value,u.audio&&u.audio.encrypted&&(u.audio.drmInfos=s),u.video&&u.video.encrypted&&(u.video.drmInfos=s);return{presentationTimeline:n,minBufferTime:2,offlineSessionIds:t.sessionIds,variants:Array.from(i.values()),textStreams:r,imageStreams:o,sequenceMode:t.sequenceMode||!1,ignoreManifestTimestampsInSegmentsMode:!1,type:t.type||"UNKNOWN",serviceDescription:null,nextUrl:null,periodCount:1,gapCount:0,isLowLatency:!1,startTime:null}}function rR(e,t,n,i){for(var r=new Set,o=g(t),s=o.next();!s.done;s=o.next()){s=g(s.value.variantIds);for(var a=s.next();!a.done;a=s.next())r.add(a.value)}for(o=g(n),s=o.next();!s.done;s=o.next())for(s=g(s.value.variantIds),a=s.next();!a.done;a=s.next())r.add(a.value);for(o=new Map,r=g(r),s=r.next();!s.done;s=r.next())s=s.value,o.set(s,{id:s,language:"",disabledUntilTime:0,primary:!1,audio:null,video:null,bandwidth:0,allowedByApplication:!0,allowedByKeySystem:!0,decodingInfos:[]});for(t=g(t),r=t.next();!r.done;r=t.next())for(s=r.value,r=Xl(e,s,i),s=g(s.variantIds),a=s.next();!a.done;a=s.next())a=o.get(a.value),a.language=r.language,a.primary=a.primary||r.primary,a.audio=r;for(n=g(n),t=n.next();!t.done;t=n.next())for(r=t.value,t=Xl(e,r,i),r=g(r.variantIds),s=r.next();!s.done;s=r.next())s=o.get(s.value),s.primary=s.primary||t.primary,s.video=t;return o}function Xl(e,t,n){var i=t.segments.map(function(r){return oR(e,r,t)});return n.Ud(i),{id:t.id,originalId:t.originalId,groupId:t.groupId,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:new we(i),mimeType:t.mimeType,codecs:t.codecs,width:t.width||void 0,height:t.height||void 0,frameRate:t.frameRate,pixelAspectRatio:t.pixelAspectRatio,hdr:t.hdr,colorGamut:t.colorGamut,videoLayout:t.videoLayout,kind:t.kind,encrypted:t.encrypted,drmInfos:[],keyIds:t.keyIds,language:t.language,originalLanguage:t.originalLanguage||null,label:t.label,type:t.type,primary:t.primary,trickModeVideo:null,emsgSchemeIdUris:null,roles:t.roles,forced:t.forced,channelsCount:t.channelsCount,audioSamplingRate:t.audioSamplingRate,spatialAudio:t.spatialAudio,closedCaptions:t.closedCaptions,tilesLayout:t.tilesLayout,accessibilityPurpose:null,external:t.external,fastSwitching:t.fastSwitching,fullMimeTypes:new Set([ot(t.mimeType,t.codecs)])}}function oR(e,t,n){var i=new ii("segment",e.h,e.g,t.dataKey);return e=new ie(t.startTime,t.endTime,function(){return[i.toString()]},0,null,t.initSegmentKey!=null?sR(e,t.initSegmentKey):null,t.timestampOffset,t.appendWindowStart,t.appendWindowEnd,[],t.tilesLayout||""),e.mimeType=t.mimeType||n.mimeType||"",e.codecs=t.codecs||n.codecs||"",e}function sR(e,t){var n=new ii("segment",e.h,e.g,t);return new Kt(function(){return[n.toString()]},0,null)}function XT(){this.g=null}f=XT.prototype,f.configure=function(){},f.start=function(e,t){var n=this,i,r,o,s,a,u,l;return k(function(c){switch(c.g){case 1:if(i=Of(e),n.g=i,i==null||i.g!="manifest")throw new R(2,1,9004,e);return r=new jt,ui(c,2),T(c,r.init(),4);case 4:return T(c,ql(r,i.Nb(),i.ab()),5);case 5:return o=c.h,T(c,o.getManifests([i.key()]),6);case 6:return s=c.h,a=s[0],u=new qT(i.Nb(),i.ab()),l=WT(u,a),t.makeTextStreamsForClosedCaptions(l),c.return(l);case 2:return Zt(c),T(c,r.destroy(),7);case 7:en(c,0)}})},f.stop=function(){return Promise.resolve()},f.update=function(){},f.onExpirationUpdated=function(e,t){var n=this,i,r,o,s,a,u,l;return k(function(c){switch(c.g){case 1:return i=n.g,r=new jt,Z(c,2,3),T(c,r.init(),5);case 5:return T(c,ql(r,i.Nb(),i.ab()),6);case 6:return o=c.h,T(c,o.getManifests([i.key()]),7);case 7:if(s=c.h,a=s[0],u=a.sessionIds.includes(e),l=a.expiration==null||a.expiration>t,!u||!l){c.B(3);break}return T(c,o.updateManifestExpiration(i.key(),t),3);case 3:return Zt(c),T(c,r.destroy(),10);case 10:en(c,0);break;case 2:ee(c),c.B(3)}})},f.onInitialVariantChosen=function(){},f.banLocation=function(){},f.setMediaElement=function(){},Dn["application/x-offline-manifest"]=function(){return new XT};function YT(){}function $T(e){var t=Of(e);return t&&t.g=="manifest"?(e={uri:e,originalUri:e,data:new ArrayBuffer(0),headers:{"content-type":"application/x-offline-manifest"}},e=oo(e)):e=t&&t.g=="segment"?aR(t.key(),t):Sr(new R(2,1,9004,e)),e}function aR(e,t){var n=new jt;return oo(void 0).Ua(function(){return n.init()}).Ua(function(){return ql(n,t.Nb(),t.ab())}).Ua(function(i){return i.getSegments([t.key()])}).Ua(function(i){return{uri:t,data:i[0].data,headers:{}}}).finally(function(){return n.destroy()})}G("shaka.offline.OfflineScheme",YT),YT.plugin=$T,Ai("offline",$T);function JT(e,t,n){var i,r,o,s,a,u;return k(function(l){switch(l.g){case 1:i=[];for(var c=[],h=g(n),d=h.next();!d.done;d=h.next()){d=d.value;for(var p=!1,m=g(c),v=m.next();!v.done;v=m.next())if(v=v.value,lR(v.info,d)){v.sessionIds.push(d.sessionId),p=!0;break}p||c.push({info:d,sessionIds:[d.sessionId]})}r=g(c),o=r.next();case 2:if(o.done){l.B(4);break}return s=o.value,a=uR(e,t,s),T(l,a,5);case 5:u=l.h,i=i.concat(u),o=r.next(),l.B(2);break;case 4:return l.return(i)}})}function uR(e,t,n){var i,r;return k(function(o){switch(o.g){case 1:return i=new Cu({ic:t,onError:function(){},Ve:function(){},onExpirationUpdated:function(){},onEvent:function(){}}),Z(o,2),i.configure(e),T(o,Bw(i,n.info.keySystem,n.info.licenseUri,n.info.serverCertificate,n.info.audioCapabilities,n.info.videoCapabilities),4);case 4:he(o,3);break;case 2:return ee(o),T(o,i.destroy(),5);case 5:return o.return([]);case 3:return r=[],T(o,Promise.all(n.sessionIds.map(function(s){return k(function(a){if(a.g==1)return Z(a,2),T(a,Hw(i,s),4);if(a.g!=2)return r.push(s),he(a,0);ee(a),H(a)})})),6);case 6:return T(o,i.destroy(),7);case 7:return o.return(r)}})}function lR(e,t){function n(i,r){return i.robustness==r.robustness&&i.contentType==r.contentType}return e.keySystem==t.keySystem&&e.licenseUri==t.licenseUri&&vm(e.audioCapabilities,t.audioCapabilities,n)&&vm(e.videoCapabilities,t.videoCapabilities,n)}function cR(e,t,n){var i=t.presentationTimeline.getDuration();return t=QT(t),{offlineUri:null,originalManifestUri:e,duration:i,size:0,expiration:1/0,tracks:t,appMetadata:n,isIncomplete:!1}}function jf(e,t){var n=WT(new qT(e.Nb(),e.ab()),t),i=t.appMetadata||{};return n=QT(n),{offlineUri:e.toString(),originalManifestUri:t.originalManifestUri,duration:t.duration,size:t.size,expiration:t.expiration,tracks:n,appMetadata:i,isIncomplete:t.isIncomplete||!1}}function QT(e){var t=[],n=Tu(e.variants);n=g(n);for(var i=n.next();!i.done;i=n.next())t.push(no(i.value));for(e=g(e.textStreams),n=e.next();!n.done;n=e.next())t.push(yu(n.value));return t}function hR(){this.g={}}function dR(e,t){var n=t.audio,i=t.video;if(n&&!i&&(e.g[n.id]=n.bandwidth||t.bandwidth),!n&&i&&(e.g[i.id]=i.bandwidth||t.bandwidth),n&&i){var r=n.bandwidth||393216,o=i.bandwidth||t.bandwidth-r;0>=o&&(o=t.bandwidth),e.g[n.id]=r,e.g[i.id]=o}}function fR(e,t){e.g[t.id]=t.bandwidth||2048}function ZT(e,t){return e=e.g[t],e==null&&(e=0),e}function vt(e){var t=this;if(e&&e.constructor!=j)throw new R(2,9,9008);this.g=this.h=null,e?(this.h=e.g,this.g=e.Gb()):(this.h=yo(),this.g=new Fe),this.i=[],this.j=[];var n=!e;this.l=new ao(function(){var i,r,o,s,a;return k(function(u){switch(u.g){case 1:return T(u,Promise.all(t.j.map(function(l){return Df(l)})),2);case 2:for(i=function(){},r=[],o=g(t.i),s=o.next();!s.done;s=o.next())a=s.value,r.push(a.then(i,i));return T(u,Promise.all(r),3);case 3:if(!n){u.B(4);break}return T(u,t.g.destroy(),4);case 4:t.h=null,t.g=null,H(u)}})})}function bf(){if(Gn())e:{for(var e=g(Ia.values()),t=e.next();!t.done;t=e.next())if(t=t.value,t=t()){t.destroy(),e=!0;break e}e=!1}else e=!1;return e}f=vt.prototype,f.destroy=function(){return this.l.destroy()},f.configure=function(e,t){return arguments.length==2&&typeof e=="string"&&(e=Xs(e,t)),$i(this.h,e)},f.getConfiguration=function(){var e=yo();return $i(e,this.h,yo()),e},f.Gb=function(){return this.g},f.store=function(e,t,n){var i=this,r=this.getConfiguration(),o=new bT(this.g);return this.j.push(o),t=pR(this,e,t||{},function(){var s;return k(function(a){return a.g==1?n?a.B(2):T(a,qu(e,i.g,r.manifest.retryParameters),3):(a.g!=2&&(n=a.h),s=Dv(e,n||null),a.return(s()))})},r,o),t=new Qe(t,function(){return Df(o)}),t.finally(function(){zn(i.j,o)}),MR(this,t)};function pR(e,t,n,i,r,o){var s,a,u,l,c,h,d,p,m,v,y,E,S,w;return k(function(A){switch(A.g){case 1:return Yl(),a=s=null,u=new jt,h=c=l=null,Z(A,2,3),T(A,i(),5);case 5:return s=A.h,T(A,wR(e,t,s,r),6);case 6:if(d=A.h,St(e),p=!d.presentationTimeline.T()&&!d.presentationTimeline.Qc(),!p)throw new R(2,9,9005,t);return T(A,e.ed(d,function(x){h=h||x},r),7);case 7:if(a=A.h,St(e),h)throw h;return T(A,mR(d,a,r),8);case 8:return T(A,u.init(),9);case 9:return St(e),T(A,VT(u),10);case 10:return l=A.h,St(e),m=vR(a,d,t,n,r,o),v=m.Yj,y=m.gh,T(A,l.ab.addManifests([v]),11);case 11:if(E=A.h,St(e),c=E[0],St(e),h)throw h;return T(A,gR(e,y,c,v,o,r,l.ab,d,a),12);case 12:return St(e),iS(d,v,a,r),T(A,l.ab.updateManifest(c,v),13);case 13:return St(e),S=new ii("manifest",l.path.Nb,l.path.ab,c),A.return(jf(S,v));case 3:return Zt(A),T(A,u.destroy(),14);case 14:if(!s){A.B(15);break}return T(A,s.stop(),15);case 15:if(!a){A.B(17);break}return T(A,a.destroy(),17);case 17:en(A,0);break;case 2:if(w=ee(A),c==null){A.B(19);break}return T(A,eS(c),19);case 19:throw h||w}})}function gR(e,t,n,i,r,o,s,a,u){var l,c,h,d,p,m,v,y,E,S;return k(function(w){switch(w.g){case 1:if(l={},c=0,h=function(A,x){var I,C,L,P,M,D,N;return k(function(b){if(b.g==1){for(I=g(A),C=I.next(),L={};!C.done;L={gd:void 0},C=I.next())L.gd=C.value,P=Hk(L.gd,o),M=L.gd.i,D=L.gd.h,N=function(_){return function(U){var F,B,W;return k(function(J){if(J.g==1)return T(J,s.addSegments([{data:U}]),2);F=J.h,St(e),B=_.gd.g,W=Pf(B),l[W]=F[0],c+=U.byteLength,H(J)})}}(L),Kk(r,L.gd.groupId,P,M,D,N);return T(b,qk(r),2)}return x?(St(e),iS(a,i,u,o),T(b,s.updateManifest(n,i),0)):b.B(0)})},d=!1,Z(w,2),!Ff(a)||!d||nS(a)){w.B(4);break}return T(w,h(t.filter(function(A){return A.h}),!0),5);case 5:return St(e),t=t.filter(function(A){return!A.h}),p=l,m=c,l={},c=0,T(w,tS(s,n,i,p,m,function(){return St(e)}),6);case 6:St(e);case 4:if(d){w.B(7);break}return T(w,h(t,!1),8);case 8:return St(e),v=l,y=c,l={},c=0,T(w,tS(s,n,i,v,y,function(){return St(e)}),9);case 9:St(e);case 7:he(w,0);break;case 2:return E=ee(w),S=Object.values(l),T(w,s.removeSegments(S,function(){}),10);case 10:throw E}})}function eS(e){var t,n,i,r;return k(function(o){switch(o.g){case 1:return t=new jt,T(o,t.init(),2);case 2:return T(o,VT(t),3);case 3:return n=o.h,i=new ii("manifest",n.path.Nb,n.path.ab,e),T(o,t.destroy(),4);case 4:return r=new vt,T(o,r.remove(i.toString()),0)}})}function tS(e,t,n,i,r,o){var s,a,u,l,c,h,d,p,m,v,y;return k(function(E){switch(E.g){case 1:for(s=!1,Z(E,2),a=!0,u=g(n.streams),l=u.next();!l.done;l=u.next())for(c=l.value,h=g(c.segments),d=h.next();!d.done;d=h.next())p=d.value,m=p.pendingSegmentRefId?i[p.pendingSegmentRefId]:null,m!=null&&(p.dataKey=m,p.pendingSegmentRefId=void 0),m=p.pendingInitSegmentRefId?i[p.pendingInitSegmentRefId]:null,m!=null&&(p.initSegmentKey=m,p.pendingInitSegmentRefId=void 0),p.pendingSegmentRefId&&(a=!1),p.pendingInitSegmentRefId&&(a=!1);return n.size+=r,a&&(n.isIncomplete=!1),T(E,e.updateManifest(t,n),4);case 4:s=!0,o(),he(E,0);break;case 2:return v=ee(E),T(E,eS(t),5);case 5:if(s){E.B(6);break}return y=Object.values(i),T(E,e.removeSegments(y,function(){}),6);case 6:throw v}})}function mR(e,t,n){var i,r,o,s,a,u,l,c,h,d,p,m,v,y,E,S,w,A,x,I,C,L,P,M,D,N,b,_,U;return k(function(F){switch(F.g){case 1:return i={width:1/0,height:1/0},dw(e,n.restrictions,i),T(F,Bm(t,e,n.offline.usePersistentLicense,n.drm.preferredKeySystems),2);case 2:for(r=[],o=n.preferredDecodingAttributes,s=n.preferredVideoCodecs,a=n.preferredAudioCodecs,Fm(e,s,a,o),u=g(e.variants),l=u.next();!l.done;l=u.next())c=l.value,r.push(no(c));for(h=g(e.textStreams),d=h.next();!d.done;d=h.next())p=d.value,r.push(yu(p));for(m=g(e.imageStreams),v=m.next();!v.done;v=m.next())y=v.value,r.push(Mh(y));return T(F,n.offline.trackSelectionCallback(r),3);case 3:for(E=F.h,S=e.presentationTimeline.getDuration(),w=0,A=g(E),x=A.next();!x.done;x=A.next())I=x.value,C=I.bandwidth*S/8,w+=C;return Z(F,4),T(F,n.offline.downloadSizeCallback(w),6);case 6:if(L=F.h,!L)throw new R(2,9,9014);he(F,5);break;case 4:throw P=ee(F),P instanceof R?P:new R(2,9,9015);case 5:for(M=new Set,D=new Set,N=new Set,b=g(E),_=b.next();!_.done;_=b.next())U=_.value,U.type=="variant"&&M.add(U.id),U.type=="text"&&D.add(U.id),U.type=="image"&&N.add(U.id);e.variants=e.variants.filter(function(B){return M.has(B.id)}),e.textStreams=e.textStreams.filter(function(B){return D.has(B.id)}),e.imageStreams=e.imageStreams.filter(function(B){return N.has(B.id)}),LR(e),H(F)}})}function vR(e,t,n,i,r,o){var s=cR(n,t,i),a=r.offline.progressCallback;zk(o,function(p,m){s.size=m,a(s,p)},function(p,m){u&&r.offline.usePersistentLicense&&l==m&&Ns(e,"cenc",p)});var u=Ff(t)&&!nS(t),l=null;u&&(l=PR.get(e.g.keySystem));for(var c=new hR,h=g(t.textStreams),d=h.next();!d.done;d=h.next())c.g[d.value.id]=52;for(h=g(t.imageStreams),d=h.next();!d.done;d=h.next())fR(c,d.value);for(h=g(t.variants),d=h.next();!d.done;d=h.next())dR(c,d.value);return c=xR(o,c,t,r),o=c.streams,c=c.gh,h=e.g,d=r.offline.usePersistentLicense,h&&d&&(h.initData=[]),{Yj:{creationTime:Date.now(),originalManifestUri:n,duration:t.presentationTimeline.getDuration(),size:0,expiration:e.Jd(),streams:o,sessionIds:d?Sv(e):[],drmInfo:h,appMetadata:i,isIncomplete:!0,sequenceMode:t.sequenceMode,type:t.type},gh:c}}function Ff(e){return e.variants.some(function(t){var n=t.audio&&t.audio.encrypted;return t.video&&t.video.encrypted||n})}function nS(e){return e.variants.some(function(t){return(t.video?t.video.drmInfos:[]).concat(t.audio?t.audio.drmInfos:[]).some(function(n){return n.initData&&n.initData.length})})}function iS(e,t,n,i){if(t.expiration=n.Jd(),n=Sv(n),t.sessionIds=i.offline.usePersistentLicense?n:[],Ff(e)&&i.offline.usePersistentLicense&&!n.length)throw new R(2,9,9007)}f.remove=function(e){return Bf(this,yR(this,e))};function yR(e,t){var n,i,r,o,s,a;return k(function(u){switch(u.g){case 1:if(Yl(),n=Of(t),n==null||n.g!="manifest")throw new R(2,9,9004,t);return i=n,r=new jt,ui(u,2),T(u,r.init(),4);case 4:return T(u,ql(r,i.Nb(),i.ab()),5);case 5:return o=u.h,T(u,o.getManifests([i.key()]),6);case 6:return s=u.h,a=s[0],T(u,Promise.all([TR(e,a,r),SR(o,i,a)]),2);case 2:return Zt(u),T(u,r.destroy(),8);case 8:en(u,0)}})}function rS(e,t){for(var n=[],i=g(e.streams),r=i.next();!r.done;r=i.next())r=r.value,t&&r.type=="video"?n.push({contentType:ot(r.mimeType,r.codecs),robustness:e.drmInfo.videoRobustness}):t||r.type!="audio"||n.push({contentType:ot(r.mimeType,r.codecs),robustness:e.drmInfo.audioRobustness});return n}function TR(e,t,n){return k(function(i){return T(i,RR(e.g,e.h.drm,n,t),0)})}function SR(e,t,n){function i(){}var r=kR(n);return jf(t,n),Promise.all([e.removeSegments(r,i),e.removeManifests([t.key()],i)])}f.tk=function(){return Bf(this,ER(this))};function ER(e){var t,n,i,r,o,s,a,u,l,c;return k(function(h){switch(h.g){case 1:return Yl(),t=e.g,n=e.h.drm,i=new jt,r=!1,ui(h,2),T(h,i.init(),4);case 4:o=[],$k(i,function(d){return o.push(d)}),s=g(o),a=s.next();case 5:if(a.done){h.B(2);break}return u=a.value,T(h,u.getAll(),8);case 8:return l=h.h,T(h,JT(n,t,l),9);case 9:return c=h.h,T(h,u.remove(c),10);case 10:c.length!=l.length&&(r=!0),a=s.next(),h.B(5);break;case 2:return Zt(h),T(h,i.destroy(),11);case 11:en(h,3);break;case 3:return h.return(!r)}})}f.list=function(){return Bf(this,AR())};function AR(){var e,t,n;return k(function(i){switch(i.g){case 1:return Yl(),e=[],t=new jt,ui(i,2),T(i,t.init(),4);case 4:return n=Promise.resolve(),Yk(t,function(r,o){n=n.then(function(){var s;return k(function(a){if(a.g==1)return T(a,o.getAllManifests(),2);s=a.h,s.forEach(function(u,l){u=jf(new ii("manifest",r.Nb,r.ab,l),u),e.push(u)}),H(a)})})}),T(i,n,2);case 2:return Zt(i),T(i,t.destroy(),6);case 6:en(i,3);break;case 3:return i.return(e)}})}function wR(e,t,n,i){var r,o,s,a,u;return k(function(l){if(l.g==1)return r=null,o=e.g,s={networkingEngine:o,filter:function(){return Promise.resolve()},makeTextStreamsForClosedCaptions:function(){},onTimelineRegionAdded:function(){},onEvent:function(){},onError:function(c){r=c},isLowLatencyMode:function(){return!1},isAutoLowLatencyMode:function(){return!1},enableLowLatencyMode:function(){},updateDuration:function(){},newDrmInfo:function(){},onManifestUpdated:function(){},getBandwidthEstimate:function(){return i.abr.defaultBandwidthEstimate},onMetadata:function(){},disableStream:function(){},addFont:function(){}},n.configure(i.manifest),St(e),T(l,n.start(t,s),2);if(l.g!=3)return a=l.h,St(e),u=oS(a),T(l,Promise.all($c(u,function(c){return c.createSegmentIndex()})),3);if(St(e),r)throw r;return l.return(a)})}f.ed=function(e,t,n){var i=this,r;return k(function(o){return o.g==1?(r=new Cu({ic:i.g,onError:t,Ve:function(){},onExpirationUpdated:function(){},onEvent:function(){}}),r.configure(n.drm),T(o,Fw(r,e.variants,n.offline.usePersistentLicense),2)):o.g!=3?T(o,Tv(r),3):o.return(r)})};function xR(e,t,n,i){var r=new Map,o=oS(n),s=new Map;o=g(o);for(var a=o.next();!a.done;a=o.next()){a=a.value;var u=IR(e,t,n,a,i,r);s.set(a.id,u)}for(e=g(n.variants),t=e.next();!t.done;t=e.next())t=t.value,t.audio&&s.get(t.audio.id).variantIds.push(t.id),t.video&&s.get(t.video.id).variantIds.push(t.id);return{streams:Array.from(s.values()),gh:Array.from(r.values())}}function IR(e,t,n,i,r,o){var s={id:i.id,originalId:i.originalId,groupId:i.groupId,primary:i.primary,type:i.type,mimeType:i.mimeType,codecs:i.codecs,frameRate:i.frameRate,pixelAspectRatio:i.pixelAspectRatio,hdr:i.hdr,colorGamut:i.colorGamut,videoLayout:i.videoLayout,kind:i.kind,language:i.language,originalLanguage:i.originalLanguage,label:i.label,width:i.width||null,height:i.height||null,encrypted:i.encrypted,keyIds:i.keyIds,segments:[],variantIds:[],roles:i.roles,forced:i.forced,channelsCount:i.channelsCount,audioSamplingRate:i.audioSamplingRate,spatialAudio:i.spatialAudio,closedCaptions:i.closedCaptions,tilesLayout:i.tilesLayout,external:i.external,fastSwitching:i.fastSwitching},a=r.offline.numberOfParallelDownloads,u=a===0?i.id:0;return CR(i,n.presentationTimeline.Hb(),function(l){var c=Pf(l),h=void 0;if(!o.has(c)){var d=l.endTime-l.startTime;d=ZT(t,i.id)*d,d=jT(e.g,d),o.set(c,new UT(l,d,u,!1))}l.ma&&(h=Pf(l.ma),o.has(h)||(d=.5*ZT(t,i.id),d=jT(e.g,d),o.set(h,new UT(l.ma,d,u,!0)))),s.segments.push({pendingInitSegmentRefId:h,initSegmentKey:h?0:null,startTime:l.startTime,endTime:l.endTime,appendWindowStart:l.appendWindowStart,appendWindowEnd:l.appendWindowEnd,timestampOffset:l.timestampOffset,tilesLayout:l.tilesLayout,pendingSegmentRefId:c,dataKey:0,mimeType:l.mimeType,codecs:l.codecs}),a!==0&&(u=(u+1)%a)}),s}function CR(e,t,n){if(t=e.segmentIndex.find(t),t!=null)for(var i=e.segmentIndex.get(t);i;)n(i),i=e.segmentIndex.get(++t)}function St(e){if(e.l.g)throw new R(2,9,7001)}function Yl(){if(!bf())throw new R(2,9,9e3)}function Bf(e,t){return k(function(n){return n.g==1?(e.i.push(t),ui(n,2),T(n,t,4)):n.g!=2?n.return(n.h):(Zt(n),zn(e.i,t),en(n,0))})}function MR(e,t){var n=t.promise;return e.i.push(n),t.finally(function(){zn(e.i,n)})}function kR(e){var t=new Set;e=g(e.streams);for(var n=e.next();!n.done;n=e.next()){n=g(n.value.segments);for(var i=n.next();!i.done;i=n.next())i=i.value,i.initSegmentKey!=null&&t.add(i.initSegmentKey),t.add(i.dataKey)}return Array.from(t)}function RR(e,t,n,i){var r,o,s;return k(function(a){return a.g==1?i.drmInfo?(r=Jk(n),o=i.sessionIds.map(function(u){return{sessionId:u,keySystem:i.drmInfo.keySystem,licenseUri:i.drmInfo.licenseServerUri,serverCertificate:i.drmInfo.serverCertificate,audioCapabilities:rS(i,!1),videoCapabilities:rS(i,!0)}}),T(a,JT(t,e,o),2)):a.return():a.g!=3?(s=a.h,T(a,r.remove(s),3)):T(a,r.add(o.filter(function(u){return!s.includes(u.sessionId)})),0)})}function oS(e){for(var t=new Set,n=g(e.variants),i=n.next();!i.done;i=n.next())i=i.value,i.audio&&t.add(i.audio),i.video&&t.add(i.video);for(n=g(e.textStreams),i=n.next();!i.done;i=n.next())t.add(i.value);for(e=g(e.imageStreams),n=e.next();!n.done;n=e.next())t.add(n.value);return t}function LR(e){e.variants.map(function(o){return o.video});var t=new Set(e.variants.map(function(o){return o.audio}));e=e.textStreams;for(var n=g(t),i=n.next();!i.done;i=n.next()){i=g(t);for(var r=i.next();!r.done;r=i.next());}for(t=g(e),n=t.next();!n.done;n=t.next())for(n=g(e),i=n.next();!i.done;i=n.next());}G("shaka.offline.Storage",vt),vt.deleteAll=function(){var e;return k(function(t){return t.g==1?(e=new jt,ui(t,2),T(t,Qk(e),2)):t.g!=5?(Zt(t),T(t,e.destroy(),5)):en(t,0)})},vt.prototype.list=vt.prototype.list,vt.prototype.removeEmeSessions=vt.prototype.tk,vt.prototype.remove=vt.prototype.remove,vt.prototype.store=vt.prototype.store,vt.prototype.getNetworkingEngine=vt.prototype.Gb,vt.prototype.getConfiguration=vt.prototype.getConfiguration,vt.prototype.configure=vt.prototype.configure,vt.prototype.destroy=vt.prototype.destroy,vt.support=bf;var PR=new Map().set("org.w3.clearkey","1077efecc0b24d02ace33c1e52e2fb4b").set("com.widevine.alpha","edef8ba979d64acea3c827dcd51d21ed").set("com.microsoft.playready","9a04f07998404286ab92e65be0885f95").set("com.microsoft.playready.recommendation","9a04f07998404286ab92e65be0885f95").set("com.microsoft.playready.software","9a04f07998404286ab92e65be0885f95").set("com.microsoft.playready.hardware","9a04f07998404286ab92e65be0885f95");Ud.offline=bf;function Et(){}function sS(){for(var e=g(Ma),t=e.next();!t.done;t=e.next()){t=t.value;try{t.callback()}catch(n){de("Error installing polyfill!",n)}}}function bt(e,t){for(e={priority:t||0,callback:e},t=0;t<Ma.length;t++)if(Ma[t].priority<e.priority){Ma.splice(t,0,e);return}Ma.push(e)}G("shaka.polyfill",Et),Et.register=bt,Et.installAll=sS;var Ma=[];function aS(){}function uS(){if(!Object.getOwnPropertyDescriptor(Element.prototype,"ariaHidden"))for(var e=g(["ariaHidden","ariaLabel","ariaPressed","ariaSelected"]),t=e.next();!t.done;t=e.next())DR(t.value)}function DR(e){var t="aria-"+e.toLowerCase().replace(/^aria/,"");Object.defineProperty(Element.prototype,e,{get:function(){return this.getAttribute(t)},set:function(n){n==null||n==null?this.removeAttribute(t):this.setAttribute(t,n)}})}Et.Aria=aS,aS.install=uS,bt(uS);function lS(){}function cS(){Mn()||ke("Sky_STB")||wE()}Et.EncryptionScheme=lS,lS.install=cS,bt(cS,-2);function hS(){}function dS(){if(O.Document){var e=Element.prototype;e.requestFullscreen=e.requestFullscreen||e.mozRequestFullScreen||e.msRequestFullscreen||e.webkitRequestFullscreen,e=Document.prototype,e.exitFullscreen=e.exitFullscreen||e.mozCancelFullScreen||e.msExitFullscreen||e.webkitCancelFullScreen,"fullscreenElement"in document||(Object.defineProperty(document,"fullscreenElement",{get:function(){return document.mozFullScreenElement||document.msFullscreenElement||document.webkitCurrentFullScreenElement||document.webkitFullscreenElement}}),Object.defineProperty(document,"fullscreenEnabled",{get:function(){return document.mozFullScreenEnabled||document.msFullscreenEnabled||document.webkitFullscreenEnabled}})),document.addEventListener("webkitfullscreenchange",Bo),document.addEventListener("webkitfullscreenerror",Bo),document.addEventListener("mozfullscreenchange",Bo),document.addEventListener("mozfullscreenerror",Bo),document.addEventListener("MSFullscreenChange",Bo),document.addEventListener("MSFullscreenError",Bo)}}function Bo(e){var t=e.type.replace(/^(webkit|moz|MS)/,"").toLowerCase(),n=document.createEvent("Event");n.initEvent(t,e.bubbles,e.cancelable),e.target.dispatchEvent(n)}Et.Fullscreen=hS,hS.install=dS,bt(dS);function $l(){}function fS(){var e=!0;!Gt()||Gt()&&nu()||Gt()&&ke("Fuchsia")||(e=!1),(ar()||ps()||Mn()||Jn()||Cn()||ke("PC=EOS")||tu())&&(e=!1),e&&navigator.mediaCapabilities||(navigator.mediaCapabilities||(navigator.mediaCapabilities={}),pS=navigator.mediaCapabilities,navigator.mediaCapabilities.decodingInfo=NR)}function NR(e){var t,n,i,r,o,s,a,u,l,c,h;return k(function(d){switch(d.g){case 1:if(t={supported:!1,powerEfficient:!0,smooth:!0,keySystemAccess:null,configuration:e},n=e.video,i=e.audio,e.type!="media-source"){if(e.type=="file"){if(n&&(r=n.contentType,o=hs(r),!o)||i&&(s=i.contentType,a=hs(s),!a))return d.return(t)}else return d.return(t);d.B(2);break}if(!Gn())return d.return(t);if(!n){d.B(3);break}return T(d,_R(n),4);case 4:if(u=d.h,!u)return d.return(t);case 3:if(i){var p=i.contentType;if(Gt()&&i.spatialRendering&&(p+="; spatialRendering=true"),l=rt(p),!l)return d.return(t)}case 2:return e.keySystemConfiguration?(c=e.keySystemConfiguration,T(d,UR(n,i,c),6)):(t.supported=!0,d.return(t));case 6:(h=d.h)&&(t.supported=!0,t.keySystemAccess=h);case 5:return d.return(t)}})}function _R(e){var t,n;return k(function(i){return i.g==1?Gt()?T(i,OR(e),3):Cn()?(t=e.contentType,e.width&&e.height&&(t+="; width="+e.width,t+="; height="+e.height),e.framerate&&(t+="; framerate="+e.framerate),e.bitrate&&(t+="; bitrate="+e.bitrate),i.return(rt(t))):i.B(2):i.g!=2?(n=i.h,i.return(n)):i.return(rt(e.contentType))})}function UR(e,t,n){var i,r,o,s,a,u,l,c,h,d,p;return k(function(m){switch(m.g){case 1:if(i=[],r=[],n.audio&&(o={robustness:n.audio.robustness||"",contentType:t.contentType},Cn()&&t.contentType.includes('codecs="ac-3"')&&(o.contentType='audio/mp4; codecs="ec-3"'),n.audio.encryptionScheme&&(o.encryptionScheme=n.audio.encryptionScheme),i.push(o)),n.video&&(s={robustness:n.video.robustness||"",contentType:e.contentType},n.video.encryptionScheme&&(s.encryptionScheme=n.video.encryptionScheme),r.push(s)),a={initDataTypes:[n.initDataType],distinctiveIdentifier:n.distinctiveIdentifier,persistentState:n.persistentState,sessionTypes:n.sessionTypes},i.length&&(a.audioCapabilities=i),r.length&&(a.videoCapabilities=r),u=e?e.contentType:"",l=t?t.contentType:"",c=nn(u)+";"+qi(u),h=nn(l)+";"+qi(l),d=n.keySystem,p=null,Z(m,2),Qa.has(c+"#"+h+"#"+d)){p=Qa.get(c+"#"+h+"#"+d)||null,m.B(4);break}return T(m,navigator.requestMediaKeySystemAccess(n.keySystem,[a]),5);case 5:p=m.h,Qa.set(c+"#"+h+"#"+d,p);case 4:he(m,3);break;case 2:ee(m);case 3:return m.return(p)}})}function OR(e){var t,n;return k(function(i){return i.g==1?O.cast&&cast.__platform__&&cast.__platform__.canDisplayType?(t=e.contentType,e.width&&e.height&&(t+="; width="+e.width+"; height="+e.height),e.framerate&&(t+="; framerate="+e.framerate),e.transferFunction==="pq"&&(t+="; eotf=smpte2084"),n=!1,t in Jl?(n=Jl[t],i.B(2)):T(i,cast.__platform__.canDisplayType(t),3)):i.return(rt(e.contentType)):(i.g!=2&&(n=i.h,Jl[t]=n),i.return(n))})}Et.MediaCapabilities=$l,$l.install=fS;var pS=null;$l.originalMcap=pS;var Jl={};$l.memoizedCanDisplayTypeRequests_=Jl,bt(fS,-1);function gS(){}function mS(){var e=Bi();(O.MediaSource||O.ManagedMediaSource)&&(e&&O.MediaSource?10>=e?O.MediaSource=null:12>=e?(Gf(),vS()):15>=e&&Gf():ke("DT_STB_BCM")?(Gf(),vS()):(Za()||fs()||ke("Tizen 4"))&&bR()),(O.MediaSource||O.ManagedMediaSource)&&jR(),O.MediaSource&&MediaSource.isTypeSupported('video/webm; codecs="vp9"')&&!MediaSource.isTypeSupported('video/webm; codecs="vp09.00.10.08"')&&FR()}function Gf(){var e=MediaSource.prototype.addSourceBuffer;MediaSource.prototype.addSourceBuffer=function(){var t=e.apply(this,In.apply(0,arguments));return t.abort=function(){},t}}function vS(){var e=SourceBuffer.prototype.remove;SourceBuffer.prototype.remove=function(t,n){return e.call(this,t,n-.001)}}function jR(){if(O.MediaSource){var e=MediaSource.isTypeSupported.bind(MediaSource);MediaSource.isTypeSupported=function(n){return mu(n)!="mp2t"&&e(n)}}if(O.ManagedMediaSource){var t=ManagedMediaSource.isTypeSupported.bind(ManagedMediaSource);O.ManagedMediaSource.isTypeSupported=function(n){return mu(n)!="mp2t"&&t(n)}}}function bR(){var e=MediaSource.isTypeSupported.bind(MediaSource);if(MediaSource.isTypeSupported=function(n){return qi(n)!="opus"&&e(n)},O.ManagedMediaSource){var t=ManagedMediaSource.isTypeSupported.bind(ManagedMediaSource);O.ManagedMediaSource.isTypeSupported=function(n){return qi(n)!="opus"&&t(n)}}}function FR(){var e=MediaSource.isTypeSupported;Jn()||(MediaSource.isTypeSupported=function(t){var n=t.split(/ *; */),i=n.findIndex(function(s){return s.startsWith("codecs=")});if(0>i)return e(t);var r=n[i].replace("codecs=","").replace(/"/g,"").split(/\s*,\s*/),o=r.findIndex(function(s){return s.startsWith("vp09")});return 0<=o&&(r[o]="vp9",n[i]='codecs="'+r.join(",")+'"',t=n.join("; ")),e(t)})}Et.MediaSource=gS,gS.install=mS,bt(mS);function yS(){}function TS(){screen.orientation&&screen.orientation.unlock||(screen.orientation!=null?BR():O.orientation!=null&&GR())}function BR(){screen.orientation.lock===void 0&&(screen.orientation.lock=function(){return Promise.resolve()}),screen.orientation.unlock===void 0&&(screen.orientation.unlock=function(){})}function GR(){function e(){switch(O.orientation){case-90:t.type="landscape-secondary",t.angle=270;break;case 0:t.type="portrait-primary",t.angle=0;break;case 90:t.type="landscape-primary",t.angle=90;break;case 180:t.type="portrait-secondary",t.angle=180}}var t=new Ql;screen.orientation=t,e(),O.addEventListener("orientationchange",function(){e();var n=new V("change");t.dispatchEvent(n)})}Et.Orientation=yS,yS.install=TS;function Ql(){Se.call(this),this.type="",this.angle=0}pe(Ql,Se),Ql.prototype.lock=function(e){function t(i){return screen.lockOrientation?screen.lockOrientation(i):screen.mozLockOrientation?screen.mozLockOrientation(i):screen.msLockOrientation?screen.msLockOrientation(i):!1}var n=!1;switch(e){case"natural":n=t("default");break;case"any":n=!0,this.unlock();break;default:n=t(e)}return n?Promise.resolve():(e=Error("screen.orientation.lock() is not available on this device"),e.name="NotSupportedError",e.code=DOMException.NOT_SUPPORTED_ERR,Promise.reject(e))},Ql.prototype.unlock=function(){screen.unlockOrientation?screen.unlockOrientation():screen.mozUnlockOrientation?screen.mozUnlockOrientation():screen.msUnlockOrientation&&screen.msUnlockOrientation()},bt(TS);function Vf(){}var Hf,zf,Kf,qf,Wf,Xf;function VR(e,t){try{var n=new Zl(e,t);return Promise.resolve(n)}catch(i){return Promise.reject(i)}}function HR(e){var t=this.mediaKeys;return t&&t!=e&&SS(t,null),delete this.mediaKeys,(this.mediaKeys=e)?SS(e,this):Promise.resolve()}function zR(e){if(e=fe(e.initData),Bt(e).getUint32(0,!0)+4!=e.byteLength)throw new RangeError("Malformed FairPlay init data");e=di(e.subarray(4),!0),e=Hn(e);var t=new Event("encrypted");t.initDataType="skd",t.initData=dn(e),this.dispatchEvent(t)}Et.PatchedMediaKeysApple=Vf,Vf.uninstall=function(){Hf&&(Hf=!1,Object.defineProperty(HTMLMediaElement.prototype,"mediaKeys",zf),HTMLMediaElement.prototype.setMediaKeys=Kf,O.MediaKeys=qf,O.MediaKeySystemAccess=Wf,navigator.requestMediaKeySystemAccess=Xf,zf=Xf=Kf=Wf=qf=null,O.shakaMediaKeysPolyfill="")},Vf.install=function(e){O.HTMLVideoElement&&O.WebKitMediaKeys&&(e!==void 0&&e&&(Hf=!0,zf=Object.getOwnPropertyDescriptor(HTMLMediaElement.prototype,"mediaKeys"),Kf=HTMLMediaElement.prototype.setMediaKeys,qf=O.MediaKeys,Wf=O.MediaKeySystemAccess,Xf=navigator.requestMediaKeySystemAccess),delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=HR,O.MediaKeys=ka,O.MediaKeySystemAccess=Zl,navigator.requestMediaKeySystemAccess=VR,O.shakaMediaKeysPolyfill=KR)};function Zl(e,t){if(this.keySystem=e,e.startsWith("com.apple.fps"))for(e=g(t),t=e.next();!t.done;t=e.next()){var n=t.value;if(n.persistentState=="required")t=null;else{t={audioCapabilities:[],videoCapabilities:[],persistentState:"optional",distinctiveIdentifier:"optional",initDataTypes:n.initDataTypes,sessionTypes:["temporary"],label:n.label};var i=!1,r=!1;if(n.audioCapabilities)for(var o=g(n.audioCapabilities),s=o.next();!s.done;s=o.next())s=s.value,s.contentType&&(i=!0,WebKitMediaKeys.isTypeSupported(this.keySystem,s.contentType.split(";")[0])&&(t.audioCapabilities.push(s),r=!0));if(n.videoCapabilities)for(n=g(n.videoCapabilities),o=n.next();!o.done;o=n.next())o=o.value,o.contentType&&(i=!0,WebKitMediaKeys.isTypeSupported(this.keySystem,o.contentType.split(";")[0])&&(t.videoCapabilities.push(o),r=!0));i||(r=WebKitMediaKeys.isTypeSupported(this.keySystem,"video/mp4")),t=r?t:null}if(t){this.g=t;return}}throw e=Error("Unsupported keySystem"),e.name="NotSupportedError",e.code=DOMException.NOT_SUPPORTED_ERR,e}Zl.prototype.createMediaKeys=function(){var e=new ka(this.keySystem);return Promise.resolve(e)},Zl.prototype.getConfiguration=function(){return this.g};function ka(e){this.h=new WebKitMediaKeys(e),this.g=new Ae}ka.prototype.createSession=function(e){if(e=e||"temporary",e!="temporary")throw new TypeError("Session type "+e+" is unsupported on this platform.");return new Yf(this.h)},ka.prototype.setServerCertificate=function(){return Promise.resolve(!1)};function SS(e,t){if(e.g.Za(),!t)return Promise.resolve();e.g.s(t,"webkitneedkey",zR);try{return go(t,HTMLMediaElement.HAVE_METADATA,e.g,function(){t.webkitSetMediaKeys(e.h)}),Promise.resolve()}catch(n){return Promise.reject(n)}}ka.prototype.getStatusForPolicy=function(){return Promise.resolve("usable")};function Yf(e){Se.call(this),this.i=null,this.l=e,this.g=this.h=null,this.j=new Ae,this.sessionId="",this.expiration=NaN,this.closed=new De,this.keyStatuses=new ES}pe(Yf,Se),f=Yf.prototype,f.generateRequest=function(e,t){var n=this;this.h=new De;try{var i=this.l.createSession("video/mp4",fe(t));this.i=i,this.sessionId=i.sessionId||"",this.j.s(this.i,"webkitkeymessage",function(r){n.h&&(n.h.resolve(),n.h=null),r=new Map().set("messageType",n.keyStatuses.uc()==null?"license-request":"license-renewal").set("message",dn(r.message)),r=new V("message",r),n.dispatchEvent(r)}),this.j.s(i,"webkitkeyadded",function(){n.g&&(ec(n,"usable"),n.g.resolve(),n.g=null)}),this.j.s(i,"webkitkeyerror",function(){var r=Error("EME PatchedMediaKeysApple key error");if(r.errorCode=n.i.error,n.h!=null)n.h.reject(r),n.h=null;else if(n.g!=null)n.g.reject(r),n.g=null;else switch(n.i.error.code){case WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT:case WebKitMediaKeyError.MEDIA_KEYERR_HARDWARECHANGE:ec(n,"output-not-allowed");break;default:ec(n,"internal-error")}}),ec(this,"status-pending")}catch(r){this.h.reject(r)}return this.h},f.load=function(){return Promise.reject(Error("MediaKeySession.load not yet supported"))},f.update=function(e){this.g=new De;try{this.i.update(fe(e))}catch(t){this.g.reject(t)}return this.g},f.close=function(){try{this.i.close(),this.closed.resolve(),this.j.Za()}catch(e){this.closed.reject(e)}return this.closed},f.remove=function(){return Promise.reject(Error("MediaKeySession.remove is only applicable for persistent licenses, which are not supported on this platform"))};function ec(e,t){var n=e.keyStatuses;n.size=t==null?0:1,n.g=t,t=new V("keystatuseschange"),e.dispatchEvent(t)}function ES(){this.size=0,this.g=void 0}f=ES.prototype,f.uc=function(){return this.g},f.forEach=function(e){this.g&&e(this.g,Ja.value())},f.get=function(e){if(this.has(e))return this.g},f.has=function(e){var t=Ja.value();return!!(this.g&&hi(e,t))},f.entries=function(){},f.keys=function(){},f.values=function(){};var KR="apple";function AS(){}function wS(){O.MediaKeys&&(!MediaKeys.prototype.setServerCertificate||fs()||ke("Tizen 4")||ke("Tizen 5.0")||eu())&&(MediaKeys.prototype.setServerCertificate=qR)}function qR(){return Promise.resolve(!1)}Et.PatchedMediaKeysCert=AS,AS.install=wS,bt(wS);function xS(){}function IS(){!O.HTMLVideoElement||navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration||(navigator.requestMediaKeySystemAccess=WR,delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=XR,O.MediaKeys=tc,O.MediaKeySystemAccess=$f,O.shakaMediaKeysPolyfill=YR)}function WR(){return Promise.reject(Error("The key system specified is not supported."))}function XR(e){return e==null?Promise.resolve():Promise.reject(Error("MediaKeys not supported."))}Et.PatchedMediaKeysNop=xS,xS.install=IS;function tc(){throw new TypeError("Illegal constructor.")}tc.prototype.createSession=function(){},tc.prototype.setServerCertificate=function(){},tc.prototype.getStatusForPolicy=function(){return Promise.resolve("usable")};function $f(){throw this.keySystem="",new TypeError("Illegal constructor.")}$f.prototype.getConfiguration=function(){},$f.prototype.createMediaKeys=function(){};var YR="nop";bt(IS,-10);function CS(){}function MS(){if(!(!O.HTMLVideoElement||navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration)){if(HTMLMediaElement.prototype.webkitGenerateKeyRequest)tp="webkit";else if(!HTMLMediaElement.prototype.generateKeyRequest)return;navigator.requestMediaKeySystemAccess=$R,delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=JR,O.MediaKeys=Ra,O.MediaKeySystemAccess=nc,O.shakaMediaKeysPolyfill=QR}}function Jf(e){var t=tp;return t?t+e.charAt(0).toUpperCase()+e.slice(1):e}function $R(e,t){try{var n=new nc(e,t);return Promise.resolve(n)}catch(i){return Promise.reject(i)}}function JR(e){var t=this.mediaKeys;return t&&t!=e&&kS(t,null),delete this.mediaKeys,(this.mediaKeys=e)&&kS(e,this),Promise.resolve()}Et.PatchedMediaKeysWebkit=CS,CS.install=MS;function nc(e,t){this.g=this.keySystem=e;var n=!1;e=="org.w3.clearkey"&&(this.g="webkit-org.w3.clearkey",n=!1);var i=!1,r=document.getElementsByTagName("video");r=r.length?r[0]:document.createElement("video"),t=g(t);for(var o=t.next();!o.done;o=t.next()){o=o.value;var s={audioCapabilities:[],videoCapabilities:[],persistentState:"optional",distinctiveIdentifier:"optional",initDataTypes:o.initDataTypes,sessionTypes:["temporary"],label:o.label},a=!1;if(o.audioCapabilities)for(var u=g(o.audioCapabilities),l=u.next();!l.done;l=u.next())l=l.value,l.contentType&&(a=!0,r.canPlayType(l.contentType.split(";")[0],this.g)&&(s.audioCapabilities.push(l),i=!0));if(o.videoCapabilities)for(u=g(o.videoCapabilities),l=u.next();!l.done;l=u.next())l=l.value,l.contentType&&(a=!0,r.canPlayType(l.contentType,this.g)&&(s.videoCapabilities.push(l),i=!0));if(a||(i=r.canPlayType("video/mp4",this.g)||r.canPlayType("video/webm",this.g)),o.persistentState=="required"&&(n?(s.persistentState="required",s.sessionTypes=["persistent-license"]):i=!1),i){this.h=s;return}}throw n="Unsupported keySystem",(e=="org.w3.clearkey"||e=="com.widevine.alpha")&&(n="None of the requested configurations were supported."),e=Error(n),e.name="NotSupportedError",e.code=DOMException.NOT_SUPPORTED_ERR,e}nc.prototype.createMediaKeys=function(){var e=new Ra(this.g);return Promise.resolve(e)},nc.prototype.getConfiguration=function(){return this.h};function Ra(e){this.l=e,this.h=null,this.g=new Ae,this.i=[],this.j=new Map}function kS(e,t){e.h=t,e.g.Za();var n=tp;t&&(e.g.s(t,n+"needkey",function(i){var r=new CustomEvent("encrypted");r.initDataType="cenc",r.initData=dn(i.initData),e.h.dispatchEvent(r)}),e.g.s(t,n+"keymessage",function(i){var r=Qf(e,i.sessionId);r&&(i=new Map().set("messageType",r.keyStatuses.uc()==null?"licenserequest":"licenserenewal").set("message",i.message),i=new V("message",i),r.h&&(r.h.resolve(),r.h=null),r.dispatchEvent(i))}),e.g.s(t,n+"keyadded",function(i){(i=Qf(e,i.sessionId))&&i.ready()}),e.g.s(t,n+"keyerror",function(i){var r=Qf(e,i.sessionId);if(r){var o=Error("EME v0.1b key error"),s=i.errorCode;s.systemCode=i.systemCode,o.errorCode=s,!i.sessionId&&r.h?(i.systemCode==45&&(o.message="Unsupported session type."),r.h.reject(o),r.h=null):i.sessionId&&r.g?(r.g.reject(o),r.g=null):(o=i.systemCode,i.errorCode.code==MediaKeyError.MEDIA_KEYERR_OUTPUT?ic(r,"output-restricted"):o==1?ic(r,"expired"):ic(r,"internal-error"))}}))}Ra.prototype.createSession=function(e){if(e=e||"temporary",e!="temporary"&&e!="persistent-license")throw new TypeError("Session type "+e+" is unsupported on this platform.");var t=this.h||document.createElement("video");return t.src||(t.src="about:blank"),e=new Zf(t,this.l,e),this.i.push(e),e},Ra.prototype.setServerCertificate=function(){return Promise.resolve(!1)},Ra.prototype.getStatusForPolicy=function(){return Promise.resolve("usable")};function Qf(e,t){var n=e.j.get(t);return n||((n=e.i.shift())?(n.sessionId=t,e.j.set(t,n),n):null)}function Zf(e,t,n){Se.call(this),this.j=e,this.m=!1,this.g=this.h=null,this.i=t,this.l=n,this.sessionId="",this.expiration=NaN,this.closed=new De,this.keyStatuses=new LS}pe(Zf,Se),f=Zf.prototype,f.ready=function(){ic(this,"usable"),this.g&&this.g.resolve(),this.g=null};function RS(e,t,n){if(e.m)return Promise.reject(Error("The session is already initialized."));e.m=!0;try{if(e.l=="persistent-license")if(n)var i=fe(Hn("LOAD_SESSION|"+n));else{var r=Hn("PERSISTENT|");i=Je(r,t)}else i=fe(t)}catch(s){return Promise.reject(s)}e.h=new De;var o=Jf("generateKeyRequest");try{e.j[o](e.i,i)}catch(s){if(s.name!="InvalidStateError")return e.h=null,Promise.reject(s);new oe(function(){try{e.j[o](e.i,i)}catch(a){e.h.reject(a),e.h=null}}).X(.01)}return e.h}function ep(e,t,n){if(e.g)e.g.then(function(){return ep(e,t,n)}).catch(function(){return ep(e,t,n)});else{if(e.g=t,e.i=="webkit-org.w3.clearkey"){var i=ze(n),r=JSON.parse(i);r.keys[0].kty!="oct"&&(e.g.reject(Error("Response is not a valid JSON Web Key Set.")),e.g=null),i=fn(r.keys[0].k),r=fn(r.keys[0].kid)}else i=fe(n),r=null;var o=Jf("addKey");try{e.j[o](e.i,i,r,e.sessionId)}catch(s){e.g.reject(s),e.g=null}}}function ic(e,t){var n=e.keyStatuses;n.size=t==null?0:1,n.g=t,t=new V("keystatuseschange"),e.dispatchEvent(t)}f.generateRequest=function(e,t){return RS(this,t,null)},f.load=function(e){return this.l=="persistent-license"?RS(this,null,e):Promise.reject(Error("Not a persistent session."))},f.update=function(e){var t=new De;return ep(this,t,e),t},f.close=function(){if(this.l!="persistent-license"){if(!this.sessionId)return this.closed.reject(Error("The session is not callable.")),this.closed;var e=Jf("cancelKeyRequest");try{this.j[e](this.i,this.sessionId)}catch{}}return this.closed.resolve(),this.closed},f.remove=function(){return this.l!="persistent-license"?Promise.reject(Error("Not a persistent session.")):this.close()};function LS(){this.size=0,this.g=void 0}f=LS.prototype,f.uc=function(){return this.g},f.forEach=function(e){this.g&&e(this.g,Ja.value())},f.get=function(e){if(this.has(e))return this.g},f.has=function(e){var t=Ja.value();return!!(this.g&&hi(e,t))},f.entries=function(){},f.keys=function(){},f.values=function(){};var tp="",QR="webkit";bt(MS);function PS(){}function DS(){if(O.HTMLVideoElement){var e=HTMLVideoElement.prototype;e.requestPictureInPicture&&document.exitPictureInPicture||!e.webkitSupportsPresentationMode||(document.pictureInPictureEnabled=!0,document.pictureInPictureElement=null,e.requestPictureInPicture=eL,Object.defineProperty(e,"disablePictureInPicture",{get:nL,set:iL,enumerable:!0,configurable:!0}),document.exitPictureInPicture=tL,document.addEventListener("webkitpresentationmodechanged",ZR,!0))}}function ZR(e){if(e=e.target,e.webkitPresentationMode=="picture-in-picture"){document.pictureInPictureElement=e;var t=new Event("enterpictureinpicture");e.dispatchEvent(t)}else document.pictureInPictureElement==e&&(document.pictureInPictureElement=null),t=new Event("leavepictureinpicture"),e.dispatchEvent(t)}function eL(){return this.webkitSupportsPresentationMode("picture-in-picture")?(this.webkitSetPresentationMode("picture-in-picture"),document.pictureInPictureElement=this,Promise.resolve()):Promise.reject(Error("PiP not allowed by video element"))}function tL(){var e=document.pictureInPictureElement;return e?(e.webkitSetPresentationMode("inline"),document.pictureInPictureElement=null,Promise.resolve()):Promise.reject(Error("No picture in picture element found"))}function nL(){return this.hasAttribute("disablePictureInPicture")?!0:!this.webkitSupportsPresentationMode("picture-in-picture")}function iL(e){e?this.setAttribute("disablePictureInPicture",""):this.removeAttribute("disablePictureInPicture")}Et.PiPWebkit=PS,PS.install=DS,bt(DS);function NS(){}function _S(){O.crypto&&("randomUUID"in O.crypto||(O.crypto.randomUUID=rL))}function rL(){var e=URL.createObjectURL(new Blob),t=e.toString();return URL.revokeObjectURL(e),t.substr(t.lastIndexOf("/")+1)}Et.RandomUUID=NS,NS.install=_S,bt(_S);function US(){}function OS(){var e=Symbol.prototype;"description"in e||Object.defineProperty(e,"description",{get:oL})}function oL(){var e=/\((.*)\)/.exec(this.toString());return e?e[1]:void 0}Et.Symbol=US,US.install=OS,bt(OS);function jS(){}function bS(){if(O.HTMLMediaElement){var e=HTMLMediaElement.prototype.play;HTMLMediaElement.prototype.play=function(){var t=e.apply(this);return t&&t.catch(function(){}),t}}}Et.VideoPlayPromise=jS,jS.install=bS,bt(bS);function FS(){}function BS(){if(O.HTMLVideoElement){var e=HTMLVideoElement.prototype;!e.getVideoPlaybackQuality&&("webkitDroppedFrameCount"in e||eu())&&(e.getVideoPlaybackQuality=sL)}}function sL(){return{droppedVideoFrames:this.webkitDroppedFrameCount,totalVideoFrames:this.webkitDecodedFrameCount,corruptedVideoFrames:0,creationTime:NaN,totalFrameDelay:0}}Et.VideoPlaybackQuality=FS,FS.install=BS,bt(BS);function GS(){}function VS(){if(!O.VTTCue&&O.TextTrackCue){var e=null,t=TextTrackCue.length;if(t==3)e=np;else if(t==6)e=aL;else{try{var n=!!np(1,2,"")}catch{n=!1}n&&(e=np)}e&&(O.VTTCue=function(i,r,o){return e(i,r,o)})}}function np(e,t,n){return new O.TextTrackCue(e,t,n)}function aL(e,t,n){return new O.TextTrackCue(e+"-"+t+"-"+n,e,t,n)}Et.VTTCue=GS,GS.install=VS,bt(VS);function on(){}on.prototype.parseInit=function(){},on.prototype.setSequenceMode=function(){},on.prototype.setManifestType=function(){},on.prototype.parseMedia=function(e,t){var n=null,i=[];e=ze(e).split(/\r?\n/),e=g(e);for(var r=e.next();!r.done;r=e.next())if((r=r.value)&&!/^\s+$/.test(r)&&(r=uL.exec(r))){var o=lL.exec(r[1]);o=60*parseInt(o[1],10)+parseFloat(o[2].replace(",",".")),r=new je(o,t.segmentEnd?t.segmentEnd:o+2,r[2]),n&&(n.endTime=o,i.push(n)),n=r}return n&&i.push(n),i},G("shaka.text.LrcTextParser",on),on.prototype.parseMedia=on.prototype.parseMedia,on.prototype.setManifestType=on.prototype.setManifestType,on.prototype.setSequenceMode=on.prototype.setSequenceMode,on.prototype.parseInit=on.prototype.parseInit;var uL=/^\[(\d{1,2}:\d{1,2}(?:[.,]\d{1,3})?)\](.*)/,lL=/^(\d+):(\d{1,2}(?:[.,]\d{1,3})?)$/;tt["application/x-subtitle-lrc"]=function(){return new on};function Jt(){}Jt.prototype.parseInit=function(){},Jt.prototype.setSequenceMode=function(){},Jt.prototype.setManifestType=function(){},Jt.prototype.parseMedia=function(e,t,n,i){var r=ze(e);if(e=[],r=="")return e;var o=Jr(r,"tt",!0);if(!o)throw new R(2,2,2005,"Failed to parse TTML.");if(r=Ln(o,"body")[0],!r)return[];var s=ei(o,La,"frameRate"),a=ei(o,La,"subFrameRate"),u=ei(o,La,"frameRateMultiplier"),l=ei(o,La,"tickRate"),c=ei(o,La,"cellResolution"),h=o.attributes["xml:space"]||"default",d=ei(o,sc,"extent");if(h!="default"&&h!="preserve")throw new R(2,2,2005,"Invalid xml:space value: "+h);h=h=="default",s=new pL(s,a,u,l),c=fL(c),a=Ln(o,"metadata")[0],a=(a?a.children:[]).filter(function(v){return v!=`
`}),u=Ln(o,"style"),o=Ln(o,"region"),l=[];for(var p=g(o),m=p.next();!m.done;m=p.next())(m=cL(m.value,u,d))&&l.push(m);if(Le(r,"p").length)throw new R(2,2,2001,"<p> can only be inside <div> in TTML");for(d=g(Le(r,"div")),p=d.next();!p.done;p=d.next())if(Le(p.value,"span").length)throw new R(2,2,2001,"<span> can only be inside <p> in TTML");return(t=HS(r,t,s,a,u,o,l,h,c,null,!1,n,i))&&(t.backgroundColor||(t.backgroundColor="transparent"),e.push(t)),e};function HS(e,t,n,i,r,o,s,a,u,l,c,h,d){var p=l;if(au(e)){if(!c)return null;var m={tagName:"span",children:[et(e)],attributes:{},parent:null}}else m=e;for(var v=null,y=g(ZS),E=y.next();!E.done&&!(v=oc(m,"backgroundImage",i,"#",E.value)[0]);E=y.next());y=null,E=ei(m,ZS,"backgroundImage");var S=/^(urn:)(mpeg:[a-z0-9][a-z0-9-]{0,31}:)(subs:)([0-9]+)$/;if(E&&S.test(E)){if(y=parseInt(E.split(":").pop(),10)-1,y>=d.length)return null;y=d[y]}else h&&E&&!E.startsWith("#")&&(S=new $e(h),E=new $e(E),(E=S.resolve(E).toString())&&(y=E));if((e.tagName=="p"||v||y)&&(c=!0),e=c,E=(m.attributes["xml:space"]||(a?"default":"preserve"))=="default",S=m.children.every(au),a=[],!S)for(var w=g(m.children),A=w.next();!A.done;A=w.next())(A=HS(A.value,t,n,i,r,o,s,E,u,m,c,h,d))&&a.push(A);if(i=l!=null,h=et(m),h=m.children.length&&h&&/\S/.test(h),w=m.attributes.begin||m.attributes.end||m.attributes.dur,!(w||h||m.tagName=="br"||a.length!=0||i&&!E))return null;for(d=qS(m,n),h=d.start,d=d.end;p&&p.tagName&&p.tagName!="tt";)d=dL(p,n,h,d),h=d.start,d=d.end,p=p.parent;if(h==null&&(h=0),h+=t.periodStart,d=d==null?1/0:d+t.periodStart,h=Math.max(h,t.segmentStart),d=Math.min(d,t.segmentEnd),!w&&0<a.length)for(h=1/0,d=0,t=g(a),n=t.next();!n.done;n=t.next())n=n.value,h=Math.min(h,n.startTime),d=Math.max(d,n.endTime);if(m.tagName=="br")return r=new je(h,d,""),r.lineBreak=!0,r;if(t="",S&&(t=Nt(et(m)||""),E&&(t=t.replace(/\s+/g," "))),t=new je(h,d,t),t.nestedCues=a,c||(t.isContainer=!0),u&&(t.cellResolution=u),u=oc(m,"region",o,"")[0],m.attributes.region&&u&&u.attributes["xml:id"]){var x=u.attributes["xml:id"];t.region=s.filter(function(I){return I.id==x})[0]}return s=u,l&&i&&!m.attributes.region&&!m.attributes.style&&(s=oc(l,"region",o,"")[0]),hL(t,m,s,v,y,r,e,a.length==0),t}function cL(e,t,n){var i=new fr,r=e.attributes["xml:id"];if(!r)return null;i.id=r,r=null,n&&(r=ap.exec(n)||up.exec(n)),n=r?Number(r[1]):null,r=r?Number(r[2]):null;var o,s=rc(e,t,"extent");if(s){var a=(o=ap.exec(s))||up.exec(s);a!=null&&(i.width=Number(a[1]),i.height=Number(a[2]),o||(n!=null&&(i.width=100*i.width/n),r!=null&&(i.height=100*i.height/r)),i.widthUnits=o||n!=null?Ht:0,i.heightUnits=o||r!=null?Ht:0)}return(e=rc(e,t,"origin"))&&(a=(o=ap.exec(e))||up.exec(e),a!=null&&(i.viewportAnchorX=Number(a[1]),i.viewportAnchorY=Number(a[2]),o?s||(i.width=100-i.viewportAnchorX,i.widthUnits=Ht,i.height=100-i.viewportAnchorY,i.heightUnits=Ht):(r!=null&&(i.viewportAnchorY=100*i.viewportAnchorY/r),n!=null&&(i.viewportAnchorX=100*i.viewportAnchorX/n)),i.viewportAnchorUnits=o||n!=null?Ht:0)),i}function ip(e){var t=e.match(/rgba\(([^)]+)\)/);return t&&(t=t[1].split(","),t.length==4)?(t[3]=String(Number(t[3])/255),"rgba("+t.join(",")+")"):e}function hL(e,t,n,i,r,o,s,a){if(s=s||a,At(t,n,o,"direction",s)=="rtl"&&(e.direction="rtl"),a=At(t,n,o,"writingMode",s),a=="tb"||a=="tblr"?e.writingMode="vertical-lr":a=="tbrl"?e.writingMode="vertical-rl":a=="rltb"||a=="rl"?e.direction="rtl":a&&(e.direction=Is),(a=At(t,n,o,"textAlign",!0))?(e.positionAlign=vL[a],e.lineAlign=mL[a],e.textAlign=Sh[a.toUpperCase()]):e.textAlign=vi,(a=At(t,n,o,"displayAlign",!0))&&(e.displayAlign=Mm[a.toUpperCase()]),(a=At(t,n,o,"color",s))&&(e.color=ip(a)),(a=At(t,n,o,"backgroundColor",s))&&(e.backgroundColor=ip(a)),(a=At(t,n,o,"border",s))&&(e.border=a),a=At(t,n,o,"fontFamily",s))switch(a){case"monospaceSerif":e.fontFamily="Courier New,Liberation Mono,Courier,monospace";break;case"proportionalSansSerif":e.fontFamily="Arial,Helvetica,Liberation Sans,sans-serif";break;case"sansSerif":e.fontFamily="sans-serif";break;case"monospaceSansSerif":e.fontFamily="Consolas,monospace";break;case"proportionalSerif":e.fontFamily="serif";break;default:e.fontFamily=a.split(",").filter(function(u){return u!="default"}).join(",")}switch((a=At(t,n,o,"fontWeight",s))&&a=="bold"&&(e.fontWeight=Qr),a=At(t,n,o,"wrapOption",s),e.wrapLine=!(a&&a=="noWrap"),(a=At(t,n,o,"lineHeight",s))&&a.match(Go)&&(e.lineHeight=a),(a=At(t,n,o,"fontSize",s))&&(a.match(Go)||a.match(gL))&&(e.fontSize=a),(a=At(t,n,o,"fontStyle",s))&&(e.fontStyle=Pm[a.toUpperCase()]),i?(r=i.attributes.imageType||i.attributes.imagetype,a=i.attributes.encoding,i=et(i).trim(),r=="PNG"&&a=="Base64"&&i&&(e.backgroundImage="data:image/png;base64,"+i)):r&&(e.backgroundImage=r),(i=At(t,n,o,"textOutline",s))&&(i=i.split(" "),i[0].match(Go)?e.textStrokeColor=e.color:(e.textStrokeColor=ip(i[0]),i.shift()),i[0]&&i[0].match(Go)?e.textStrokeWidth=i[0]:e.textStrokeColor=""),(i=At(t,n,o,"letterSpacing",s))&&i.match(Go)&&(e.letterSpacing=i),(i=At(t,n,o,"linePadding",s))&&i.match(Go)&&(e.linePadding=i),(i=At(t,n,o,"opacity",s))&&(e.opacity=parseFloat(i)),(i=rc(n,o,"textDecoration"))&&zS(e,i),(i=rp(t,o,"textDecoration"))&&zS(e,i),(i=At(t,n,o,"textCombine",s))&&(e.textCombineUpright=i),At(t,n,o,"ruby",s)){case"container":e.rubyTag="ruby";break;case"text":e.rubyTag="rt"}}function zS(e,t){t=g(t.split(" "));for(var n=t.next();!n.done;n=t.next())switch(n.value){case"underline":e.textDecoration.includes(yi)||e.textDecoration.push(yi);break;case"noUnderline":e.textDecoration.includes(yi)&&zn(e.textDecoration,yi);break;case"lineThrough":e.textDecoration.includes("lineThrough")||e.textDecoration.push("lineThrough");break;case"noLineThrough":e.textDecoration.includes("lineThrough")&&zn(e.textDecoration,"lineThrough");break;case"overline":e.textDecoration.includes("overline")||e.textDecoration.push("overline");break;case"noOverline":e.textDecoration.includes("overline")&&zn(e.textDecoration,"overline")}}function At(e,t,n,i,r){return r=r===void 0?!0:r,(e=rp(e,n,i))?e:r?rc(t,n,i):null}function rc(e,t,n){if(!e)return null;var i=ei(e,sc,n);return i||KS(e,t,n)}function rp(e,t,n){var i=ei(e,sc,n);return i||KS(e,t,n)}function KS(e,t,n){e=oc(e,"style",t,"");for(var i=null,r=0;r<e.length;r++){var o=gi(e[r],"urn:ebu:tt:style",n);o||(o=ei(e[r],sc,n)),o||(o=rp(e[r],t,n)),o&&(i=o)}return i}function oc(e,t,n,i,r){var o=[];if(!e||1>n.length)return o;var s=e;for(e=null;!e&&!(e=r?gi(s,r,t):s.attributes[t])&&(s=s.parent,s););if(t=e){for(t=g(t.split(" ")),r=t.next();!r.done;r=t.next())for(r=r.value,e=g(n),s=e.next();!s.done;s=e.next())if(s=s.value,i+s.attributes["xml:id"]==r){o.push(s);break}}return o}function dL(e,t,n,i){return e=qS(e,t),n==null?n=e.start:e.start!=null&&(n+=e.start),i==null?i=e.end:e.start!=null&&(i+=e.start),{start:n,end:i}}function qS(e,t){var n=op(e.attributes.begin,t),i=op(e.attributes.end,t);return e=op(e.attributes.dur,t),i==null&&e!=null&&(i=n+e),{start:n,end:i}}function op(e,t){var n=null;if(WS.test(e)){e=WS.exec(e),n=Number(e[1]);var i=Number(e[2]),r=Number(e[3]),o=Number(e[4]);o+=(Number(e[5])||0)/t.h,r+=o/t.frameRate,n=r+60*i+3600*n}else if(XS.test(e))n=sp(XS,e);else if(YS.test(e))n=sp(YS,e);else if($S.test(e))e=$S.exec(e),n=Number(e[1])/t.frameRate;else if(JS.test(e))e=JS.exec(e),n=Number(e[1])/t.g;else if(QS.test(e))n=sp(QS,e);else if(e)throw new R(2,2,2001,"Could not parse cue time range in TTML");return n}function sp(e,t){return e=e.exec(t),e==null||e[0]==""?null:(Number(e[4])||0)/1e3+(Number(e[3])||0)+60*(Number(e[2])||0)+3600*(Number(e[1])||0)}function fL(e){return e&&(e=/^(\d+) (\d+)$/.exec(e))?{Hc:parseInt(e[1],10),rows:parseInt(e[2],10)}:null}G("shaka.text.TtmlTextParser",Jt),Jt.prototype.parseMedia=Jt.prototype.parseMedia,Jt.prototype.setManifestType=Jt.prototype.setManifestType,Jt.prototype.setSequenceMode=Jt.prototype.setSequenceMode,Jt.prototype.parseInit=Jt.prototype.parseInit;function pL(e,t,n,i){this.frameRate=Number(e)||30,this.h=Number(t)||1,this.g=Number(i),this.g==0&&(this.g=e?this.frameRate*this.h:1),n&&(e=/^(\d+) (\d+)$/g.exec(n))&&(this.frameRate*=Number(e[1])/Number(e[2]))}var ap=/^(\d{1,2}(?:\.\d+)?|100(?:\.0+)?)% (\d{1,2}(?:\.\d+)?|100(?:\.0+)?)%$/,gL=/^(\d{1,4}(?:\.\d+)?|100)%$/,Go=/^(\d+px|\d+em|\d*\.?\d+c)$/,up=/^(\d+)px (\d+)px$/,WS=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,XS=/^(?:(\d{2,}):)?(\d{2}):(\d{2})$/,YS=/^(?:(\d{2,}):)?(\d{2}):(\d{2}\.\d+)$/,$S=/^(\d*(?:\.\d*)?)f$/,JS=/^(\d*(?:\.\d*)?)t$/,QS=RegExp("^(?:(\\d*(?:\\.\\d*)?)h)?(?:(\\d*(?:\\.\\d*)?)m)?(?:(\\d*(?:\\.\\d*)?)s)?(?:(\\d*(?:\\.\\d*)?)ms)?$"),mL={left:yr,center:"center",right:"end",start:yr,end:"end"},vL={left:"line-left",center:"center",right:"line-right"},La=["http://www.w3.org/ns/ttml#parameter","http://www.w3.org/2006/10/ttaf1#parameter"],sc=["http://www.w3.org/ns/ttml#styling","http://www.w3.org/2006/10/ttaf1#styling"],ZS=["http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt","http://www.smpte-ra.org/schemas/2052-1/2013/smpte-tt"];tt["application/ttml+xml"]=function(){return new Jt};function st(){this.g=new Jt}st.prototype.parseInit=function(e){var t=!1;if(new Ue().box("moov",ge).box("trak",ge).box("mdia",ge).box("minf",ge).box("stbl",ge).W("stsd",Xi).box("stpp",function(n){t=!0,n.parser.stop()}).parse(e),!t)throw new R(2,2,2007)},st.prototype.setSequenceMode=function(){},st.prototype.setManifestType=function(){},st.prototype.parseMedia=function(e,t,n){var i=this,r=!1,o=[],s=[];if(new Ue().box("moof",ge).box("traf",ge).W("subs",function(a){s=[];for(var u=a.reader,l=u.U(),c=0;c<l;c++){u.U();for(var h=u.za(),d=0;d<h;d++)a.version==1?s.push(u.U()):s.push(u.za()),u.Z(),u.Z(),u.U()}}).box("mdat",Ar(function(a){if(r=!0,s.length){for(var u=fe(a,0,s[0]),l=[],c=s[0],h=1;h<s.length;h++){var d=fe(a,c,s[h]);d=lh(d),l.push("data:image/png;base64,"+d),c+=s[h]}o=o.concat(i.g.parseMedia(u,t,n,l))}else o=o.concat(i.g.parseMedia(a,t,n,[]))})).parse(e,!1),!r)throw new R(2,2,2007);return o},G("shaka.text.Mp4TtmlParser",st),st.prototype.parseMedia=st.prototype.parseMedia,st.prototype.setManifestType=st.prototype.setManifestType,st.prototype.setSequenceMode=st.prototype.setSequenceMode,st.prototype.parseInit=st.prototype.parseInit,tt['application/mp4; codecs="stpp"']=function(){return new st},tt['application/mp4; codecs="stpp.ttml"']=function(){return new st},tt['application/mp4; codecs="stpp.ttml.im1i"']=function(){return new st},tt['application/mp4; codecs="stpp.ttml.im1t"']=function(){return new st},tt['application/mp4; codecs="stpp.ttml.im2i"']=function(){return new st},tt['application/mp4; codecs="stpp.ttml.im2t"']=function(){return new st},tt['application/mp4; codecs="stpp.ttml.etd1"']=function(){return new st},tt['application/mp4; codecs="stpp.ttml.etd1|im1t"']=function(){return new st},tt['application/mp4; codecs="stpp.ttml.im1t|etd1"']=function(){return new st},tt['application/mp4; codecs="stpp.TTML.im1t"']=function(){return new st};function Lt(){this.h=!1,this.g="UNKNOWN"}Lt.prototype.parseInit=function(){},Lt.prototype.setSequenceMode=function(e){this.h=e},Lt.prototype.setManifestType=function(e){this.g=e},Lt.prototype.parseMedia=function(e,t){e=ze(e),e=e.replace(/\r\n|\r(?=[^\n]|$)/gm,`
`);var n=e.split(/\n{2,}/m);if(!/^WEBVTT($|[ \t\n])/m.test(n[0]))throw new R(2,2,2e3);if(e=t.vttOffset,n[0].includes("X-TIMESTAMP-MAP")&&this.g=="HLS")if(this.h){var i=n[0];if(e=i.match(/LOCAL:((?:(\d{1,}):)?(\d{2}):(\d{2})\.(\d{3}))/m),i=i.match(/MPEGTS:(\d+)/m),!e||!i)throw new R(2,2,2e3);if(e=Es(e[1]),e==null)throw new R(2,2,2e3);i=Number(i[1]);for(var r=t.segmentStart-t.periodStart;95443.7176888889<=r;)r-=95443.7176888889,i+=8589934592;e=t.periodStart+i/9e4-e}else e=t.segmentStart;for(t=[],i=g(n[0].split(`
`)),r=i.next();!r.done;r=i.next())if(r=r.value,/^Region:/.test(r)){r=new Yr(r);var o=new fr;gr(r),$r(r);for(var s=gr(r);s;){var a=o,u=s;(s=/^id=(.*)$/.exec(u))?a.id=s[1]:(s=/^width=(\d{1,2}|100)%$/.exec(u))?a.width=Number(s[1]):(s=/^lines=(\d+)$/.exec(u))?(a.height=Number(s[1]),a.heightUnits=2):(s=/^regionanchor=(\d{1,2}|100)%,(\d{1,2}|100)%$/.exec(u))?(a.regionAnchorX=Number(s[1]),a.regionAnchorY=Number(s[2])):(s=/^viewportanchor=(\d{1,2}|100)%,(\d{1,2}|100)%$/.exec(u))?(a.viewportAnchorX=Number(s[1]),a.viewportAnchorY=Number(s[2])):/^scroll=up$/.exec(u)&&(a.scroll="up"),$r(r),s=gr(r)}t.push(o)}for(i=new Map,Im(i),r=[],n=g(n.slice(1)),o=n.next();!o.done;o=n.next()){if(o=o.value.split(`
`),(o.length!=1||o[0])&&!/^NOTE($|[ \t])/.test(o[0])&&o[0]=="STYLE"){for(a=[],s=-1,u=1;u<o.length;u++)o[u].includes("::cue")&&(a.push([]),s=a.length-1),s!=-1&&(a[s].push(o[u]),o[u].includes("}")&&(s=-1));for(a=g(a),s=a.next();!s.done;s=a.next()){var l=s.value;s="global",(u=l[0].match(/\((.*)\)/))&&(s=u.pop()),u=l.slice(1,-1),l[0].includes("}")&&(l=/\{(.*?)\}/.exec(l[0]))&&(u=l[1].split(";")),(l=i.get(s))||(l=new je(0,0,""));for(var c=!1,h=0;h<u.length;h++){var d=/^\s*([^:]+):\s*(.*)/.exec(u[h]);if(d){var p=d[2].trim().replace(";","");switch(d[1].trim()){case"background-color":case"background":c=!0,l.backgroundColor=p;break;case"color":c=!0,l.color=p;break;case"font-family":c=!0,l.fontFamily=p;break;case"font-size":c=!0,l.fontSize=p;break;case"font-weight":(700<=parseInt(p,10)||p=="bold")&&(c=!0,l.fontWeight=Qr);break;case"font-style":switch(p){case"normal":c=!0,l.fontStyle=Ah;break;case"italic":c=!0,l.fontStyle=Zr;break;case"oblique":c=!0,l.fontStyle="oblique"}break;case"opacity":c=!0,l.opacity=parseFloat(p);break;case"text-combine-upright":c=!0,l.textCombineUpright=p;break;case"text-shadow":c=!0,l.textShadow=p;break;case"white-space":c=!0,l.wrapLine=p!="noWrap"}}}c&&i.set(s,l)}}if(l=o,c=e,l.length==1&&!l[0]||/^NOTE($|[ \t])/.test(l[0])||l[0]=="STYLE"||l[0]=="REGION")o=null;else if(o=null,l[0].includes("-->")||(o=l[0],l.splice(0,1)),a=new Yr(l[0]),s=Ss(a),h=pr(a,/[ \t]+--\x3e[ \t]+/g),u=Ss(a),s==null||h==null||u==null)de("Failed to parse VTT time code. Cue skipped:",o,l),o=null;else{for(s+=c,u+=c,c=l.slice(1).join(`
`).trim(),i.has("global")?(l=i.get("global").clone(),l.startTime=s,l.endTime=u,l.payload=c):l=new je(s,u,c),$r(a),s=gr(a);s;)eE(l,s,t),$r(a),s=gr(a);pu(l,i),o!=null&&(l.id=o),o=l}o&&r.push(o)}return r};function eE(e,t,n){var i;(i=/^align:(start|middle|center|end|left|right)$/.exec(t))?(t=i[1],t=="middle"?e.textAlign=vi:e.textAlign=Sh[t.toUpperCase()]):(i=/^vertical:(lr|rl)$/.exec(t))?e.writingMode=i[1]=="lr"?"vertical-lr":"vertical-rl":(i=/^size:([\d.]+)%$/.exec(t))?e.size=Number(i[1]):(i=/^position:([\d.]+)%(?:,(line-left|line-right|middle|center|start|end|auto))?$/.exec(t))?(e.position=Number(i[1]),i[2]&&(t=i[2],e.positionAlign=t=="line-left"||t=="start"?"line-left":t=="line-right"||t=="end"?"line-right":t=="center"||t=="middle"?"center":gu)):(i=/^region:(.*)$/.exec(t))?(t=yL(n,i[1]))&&(e.region=t):(n=/^line:([\d.]+)%(?:,(start|end|center))?$/.exec(t))?(e.lineInterpretation=1,e.line=Number(n[1]),n[2]&&(e.lineAlign=Eh[n[2].toUpperCase()])):(n=/^line:(-?\d+)(?:,(start|end|center))?$/.exec(t))&&(e.lineInterpretation=Cs,e.line=Number(n[1]),n[2]&&(e.lineAlign=Eh[n[2].toUpperCase()]))}function yL(e,t){return e=e.filter(function(n){return n.id==t}),e.length?e[0]:null}G("shaka.text.VttTextParser",Lt),Lt.prototype.parseMedia=Lt.prototype.parseMedia,Lt.prototype.setManifestType=Lt.prototype.setManifestType,Lt.prototype.setSequenceMode=Lt.prototype.setSequenceMode,Lt.prototype.parseInit=Lt.prototype.parseInit,tt["text/vtt"]=function(){return new Lt},tt['text/vtt; codecs="vtt"']=function(){return new Lt},tt['text/vtt; codecs="wvtt"']=function(){return new Lt};function sn(){this.g=null}sn.prototype.parseInit=function(e){var t=this,n=!1;if(new Ue().box("moov",ge).box("trak",ge).box("mdia",ge).W("mdhd",function(i){i=ku(i.reader,i.version),t.g=i.timescale}).box("minf",ge).box("stbl",ge).W("stsd",Xi).box("wvtt",function(){n=!0}).parse(e),!this.g)throw new R(2,2,2008);if(!n)throw new R(2,2,2008)},sn.prototype.setSequenceMode=function(){},sn.prototype.setManifestType=function(){},sn.prototype.parseMedia=function(e,t){if(!e.length)return[];if(!this.g)throw new R(2,2,2008);var n=0,i=[],r,o=[],s=!1,a=!1,u=!1,l=null;if(new Ue().box("moof",ge).box("traf",ge).W("tfdt",function(w){s=!0,n=Mu(w.reader,w.version).baseMediaDecodeTime}).W("tfhd",function(w){l=Fv(w.reader,w.flags).Hd}).W("trun",function(w){a=!0,i=Bv(w.reader,w.version,w.flags).ki}).box("mdat",Ar(function(w){u=!0,r=w})).parse(e,!1),!u&&!s&&!a)throw new R(2,2,2008);e=n;for(var c=new be(r,0),h=g(i),d=h.next();!d.done;d=h.next()){d=d.value;var p=d.Qg||l,m=d.cf?n+d.cf:e;e=m+(p||0);var v=0;do{var y=c.U();v+=y;var E=c.U(),S=null;xu(E)=="vttc"?8<y&&(S=c.Qb(y-8)):c.skip(y-8),p&&S&&(y=TL(S,t.periodStart+m/this.g,t.periodStart+e/this.g),o.push(y))}while(d.sampleSize&&v<d.sampleSize)}return o.filter(Ei)};function TL(e,t,n){var i,r,o;return new Ue().box("payl",Ar(function(s){i=ze(s)})).box("iden",Ar(function(s){r=ze(s)})).box("sttg",Ar(function(s){o=ze(s)})).parse(e),i?SL(i,r,o,t,n):null}function SL(e,t,n,i,r){if(e=new je(i,r,e),pu(e),t&&(e.id=t),n)for(t=new Yr(n),n=gr(t);n;)eE(e,n,[]),$r(t),n=gr(t);return e}G("shaka.text.Mp4VttParser",sn),sn.prototype.parseMedia=sn.prototype.parseMedia,sn.prototype.setManifestType=sn.prototype.setManifestType,sn.prototype.setSequenceMode=sn.prototype.setSequenceMode,sn.prototype.parseInit=sn.prototype.parseInit,tt['application/mp4; codecs="wvtt"']=function(){return new sn};function an(){}an.prototype.parseInit=function(){},an.prototype.setSequenceMode=function(){},an.prototype.setManifestType=function(){},an.prototype.parseMedia=function(e){var t=ze(e).replace(/\r+/g,"");if(t=t.trim(),e=[],t=="")return e;t=g(t.split(`

`));for(var n=t.next();!n.done;n=t.next()){n=n.value.split(`
`);var i=new Yr(n[0]),r=Ss(i),o=pr(i,/,/g);if(i=Ss(i),r==null||o==null||i==null)throw new R(2,2,2001,"Could not parse cue time range in SubViewer");e.push(new je(r,i,n.slice(1).join(`
`).trim()))}return e},G("shaka.text.SbvTextParser",an),an.prototype.parseMedia=an.prototype.parseMedia,an.prototype.setManifestType=an.prototype.setManifestType,an.prototype.setSequenceMode=an.prototype.setSequenceMode,an.prototype.parseInit=an.prototype.parseInit,tt["text/x-subviewer"]=function(){return new an};function Qt(){this.g=new Lt}Qt.prototype.parseInit=function(){},Qt.prototype.setSequenceMode=function(){},Qt.prototype.setManifestType=function(){},Qt.prototype.parseMedia=function(e,t,n){return e=ze(e),e=tE(e),e=fe(Hn(e)),this.g.parseMedia(e,t,n,[])};function tE(e){var t=`WEBVTT

`;if(e=="")return t;e=e.replace(/\r+/g,""),e=e.trim(),e=g(e.split(`

`));for(var n=e.next();!n.done;n=e.next())n=n.value.split(/\n/),n[0].match(/\d+/)&&n.shift(),n[0]=n[0].replace(/,/g,"."),t+=n.join(`
`).replace(/{b}/g,"<b>").replace(/{\/b}/g,"</b>").replace(/{i}/g,"<i>").replace(/{\/i}/g,"</i>").replace(/{u}/g,"<u>").replace(/{\/u}/g,"</u>")+`

`;return t}G("shaka.text.SrtTextParser",Qt),Qt.srt2webvtt=tE,Qt.prototype.parseMedia=Qt.prototype.parseMedia,Qt.prototype.setManifestType=Qt.prototype.setManifestType,Qt.prototype.setSequenceMode=Qt.prototype.setSequenceMode,Qt.prototype.parseInit=Qt.prototype.parseInit,tt["text/srt"]=function(){return new Qt};function un(){}un.prototype.parseInit=function(){},un.prototype.setSequenceMode=function(){},un.prototype.setManifestType=function(){},un.prototype.parseMedia=function(e){var t="",n="",i=null,r=null;for(r=ze(e).split(/\r?\n\s*\r?\n/),e=g(r),r=e.next();!r.done;r=e.next()){var o=r.value;r=o,(o=AL.exec(o))&&(i=o[1],r=o[2]),i=="V4 Styles"||i=="V4+ Styles"?(t=r,t=n?t+(`
`+r):r):i=="Events"&&(n=n?n+(`
`+r):r)}for(i=[],r=null,t=g(t.split(/\r?\n/)),e=t.next();!e.done;e=t.next())if(e=e.value,!/^\s*;/.test(e)&&(o=rE.exec(e))){if(e=o[1].trim(),o=o[2].trim(),e=="Format")r=o.split(ac);else if(e=="Style"){e=o.split(ac),o={};for(var s=0;s<r.length&&s<e.length;s++)o[r[s]]=e[s];i.push(o)}}for(r=[],t=null,n=g(n.split(/\r?\n/)),o=n.next(),e={};!o.done;e={Ai:void 0},o=n.next())if(o=o.value,!/^\s*;/.test(o)&&(s=rE.exec(o))){if(o=s[1].trim(),s=s[2].trim(),o=="Format")t=s.split(ac);else if(o=="Dialogue"){s=s.split(ac),o={};for(var a=0;a<t.length&&a<s.length;a++)o[t[a]]=s[a];a=iE(o.Start);var u=iE(o.End);s=new je(a,u,s.slice(t.length-1).join(",").replace(/\\N/g,`
`).replace(/\{[^}]+\}/g,"")),e.Ai=o.Style,(e=i.find(function(l){return function(c){return c.Name==l.Ai}}(e)))&&EL(s,e),r.push(s)}}return r};function EL(e,t){var n=t.Fontname;if(n&&(e.fontFamily=n),(n=t.Fontsize)&&(e.fontSize=n+"px"),(n=t.PrimaryColour)&&(n=nE(n))&&(e.color=n),(n=t.BackColour)&&(n=nE(n))&&(e.backgroundColor=n),t.Bold&&(e.fontWeight=Qr),t.Italic&&(e.fontStyle=Zr),t.Underline&&e.textDecoration.push(yi),(n=t.Spacing)&&(e.letterSpacing=n+"px"),n=t.Alignment)switch(parseInt(n,10)){case 1:e.displayAlign=xs,e.textAlign="start";break;case 2:e.displayAlign=xs,e.textAlign=vi;break;case 3:e.displayAlign=xs,e.textAlign="end";break;case 5:e.displayAlign="before",e.textAlign="start";break;case 6:e.displayAlign="before",e.textAlign=vi;break;case 7:e.displayAlign="before",e.textAlign="end";break;case 9:e.displayAlign="center",e.textAlign="start";break;case 10:e.displayAlign="center",e.textAlign=vi;break;case 11:e.displayAlign="center",e.textAlign="end"}(t=t.AlphaLevel)&&(e.opacity=parseFloat(t))}function nE(e){return e=parseInt(e.replace("&H",""),16),0<=e?"rgba("+(e&255)+","+(e>>8&255)+","+(e>>16&255)+","+(e>>24&255^255)/255+")":null}function iE(e){return e=wL.exec(e),3600*(e[1]?parseInt(e[1].replace(":",""),10):0)+60*parseInt(e[2],10)+parseFloat(e[3])}G("shaka.text.SsaTextParser",un),un.prototype.parseMedia=un.prototype.parseMedia,un.prototype.setManifestType=un.prototype.setManifestType,un.prototype.setSequenceMode=un.prototype.setSequenceMode,un.prototype.parseInit=un.prototype.parseInit;var AL=/^\s*\[([^\]]+)\]\r?\n([\s\S]*)/,rE=/^\s*([^:]+):\s*(.*)/,ac=/\s*,\s*/,wL=/^(\d+:)?(\d{1,2}):(\d{1,2}(?:[.]\d{1,3})?)?$/;tt["text/x-ssa"]=function(){return new un};function oE(e,t){var n=e[t+1]&1?7:9;return t+n<=e.length&&(e=((e[t+3]&3)<<11|e[t+4]<<3|(e[t+5]&224)>>>5)-n,0<e)?{Ee:n,qa:e}:null}function sE(e,t){var n=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],i=(e[t+2]&60)>>>2;if(i>n.length-1)return null;var r=((e[t+2]&192)>>>6)+1,o=(e[t+2]&1)<<2;return o|=(e[t+3]&192)>>>6,{sampleRate:n[i],channelCount:o,codec:"mp4a.40."+r}}function aE(e,t){if(t+1<e.length&&e[t]===255&&(e[t+1]&246)===240){var n=e[t+1]&1?7:9;if(t+n>=e.length)return!1;var i=(e[t+3]&3)<<11|e[t+4]<<3|(e[t+5]&224)>>>5;return i<=n?!1:(t+=i,t===e.length||t+1<e.length&&e[t]===255&&(e[t+1]&246)===240)}return!1}function xL(e,t){switch(e){case"mp4a.40.2":if(t===1)return new Uint8Array([0,200,0,128,35,128]);if(t===2)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(t===3)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(t===4)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(t===5)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(t===6)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224]);break;default:if(t===1)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(t===2||t===3)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}return null}function ln(e){this.i=e,this.h=0,this.g=new Map}f=ln.prototype,f.destroy=function(){this.g.clear()},f.isSupported=function(e){return e.toLowerCase().split(";")[0]=="audio/aac"?rt(this.convertCodecs("audio",e)):!1},f.convertCodecs=function(e,t){return t.toLowerCase().split(";")[0]=="audio/aac"?'audio/mp4; codecs="'+(rn(t)||"mp4a.40.2")+'"':t},f.getOriginalMimeType=function(){return this.i},f.transmux=function(e,t,n,i){for(var r=fe(e),o=lo(r),s=o.length;s<r.length&&!aE(r,s);s++);if(e=1e3*n.endTime,o=wr(o),o.length&&n&&(o=o.find(function(c){return c.description==="com.apple.streaming.transportStreamTimestamp"}))&&(e=o.data),o=sE(r,s),!o)return Promise.reject(new R(2,3,3018,n?n.R()[0]:null));t.audioSamplingRate=o.sampleRate,t.channelsCount=o.channelCount;for(var a=[];s<r.length;){var u=oE(r,s);if(!u)return Promise.reject(new R(2,3,3018,n?n.R()[0]:null));var l=u.Ee+u.qa;s+l<=r.length&&a.push({data:r.subarray(s+u.Ee,s+l),size:u.qa,duration:1024,yb:0,flags:{zb:0,sb:0,rb:0,pb:0,qb:2,Ab:0}}),s+=l}return r=o.sampleRate,e=Math.floor(e*r/1e3),i={id:t.id,type:"audio",codecs:o.codec,encrypted:t.encrypted&&0<t.drmInfos.length,timescale:r,duration:i,wb:[],Ea:new Uint8Array([]),Qa:new Uint8Array([]),Wa:0,Xa:0,data:{Rb:this.h,baseMediaDecodeTime:e,ub:a},stream:t},i=new jo([i]),n=t.id+"_"+n.i,this.g.has(n)?t=this.g.get(n):(t=bo(i),this.g.set(n,t)),n=wa(i),this.h++,t=Je(t,n),Promise.resolve(t)},G("shaka.transmuxer.AacTransmuxer",ln),ln.prototype.transmux=ln.prototype.transmux,ln.prototype.getOriginalMimeType=ln.prototype.getOriginalMimeType,ln.prototype.convertCodecs=ln.prototype.convertCodecs,ln.prototype.isSupported=ln.prototype.isSupported,ln.prototype.destroy=ln.prototype.destroy,Ti("audio/aac",function(){return new ln("audio/aac")},Ki);function uE(e,t){if(t+8>e.length||e[t]!==11||e[t+1]!==119)return null;var n=e[t+4]>>6;if(3<=n)return null;var i=e[t+4]&63,r=2*[64,69,96,64,70,96,80,87,120,80,88,120,96,104,144,96,105,144,112,121,168,112,122,168,128,139,192,128,140,192,160,174,240,160,175,240,192,208,288,192,209,288,224,243,336,224,244,336,256,278,384,256,279,384,320,348,480,320,349,480,384,417,576,384,418,576,448,487,672,448,488,672,512,557,768,512,558,768,640,696,960,640,697,960,768,835,1152,768,836,1152,896,975,1344,896,976,1344,1024,1114,1536,1024,1115,1536,1152,1253,1728,1152,1254,1728,1280,1393,1920,1280,1394,1920][3*i+n];if(t+r>e.length)return null;var o=e[t+6]>>5,s=0;o===2?s+=2:(o&1&&o!==1&&(s+=2),o&4&&(s+=2)),s=(e[t+6]<<8|e[t+7])>>12-s&1;var a=e[t+5]&7;return e=new Uint8Array([n<<6|e[t+5]>>3<<1|a>>2,(a&3)<<6|o<<3|s<<2|i>>4,i<<4&224]),{sampleRate:[48e3,44100,32e3][n],channelCount:[2,1,2,3,3,4,4,5][o]+s,Ea:e,qa:r}}function IL(e,t){if(e[t]===11&&e[t+1]===119){var n=0,i=5;t+=i;for(var r,o;0<i;){o=e[t];var s=Math.min(i,8),a=8-s;r=4278190080>>>24+a<<a,r=(o&r)>>a,n=n?n<<s|r:r,t+=1,i-=s}if(16>n)return!0}return!1}function Tn(e){this.i=e,this.h=0,this.g=new Map}f=Tn.prototype,f.destroy=function(){this.g.clear()},f.isSupported=function(e){return e.toLowerCase().split(";")[0]=="audio/ac3"?rt(this.convertCodecs("audio",e)):!1},f.convertCodecs=function(e,t){return t.toLowerCase().split(";")[0]=="audio/ac3"?'audio/mp4; codecs="ac-3"':t},f.getOriginalMimeType=function(){return this.i},f.transmux=function(e,t,n,i){e=fe(e);for(var r=lo(e),o=r.length;o<e.length&&!IL(e,o);o++);var s=1e3*n.endTime;r=wr(r),r.length&&n&&(r=r.find(function(c){return c.description==="com.apple.streaming.transportStreamTimestamp"}))&&(s=r.data),r=0;for(var a=new Uint8Array([]),u=[];o<e.length;){var l=uE(e,o);if(!l)return Promise.reject(new R(2,3,3018,n?n.R()[0]:null));t.audioSamplingRate=l.sampleRate,t.channelsCount=l.channelCount,r=l.sampleRate,a=l.Ea,u.push({data:e.subarray(o,o+l.qa),size:l.qa,duration:1536,yb:0,flags:{zb:0,sb:0,rb:0,pb:0,qb:2,Ab:0}}),o+=l.qa}return e=Math.floor(s*r/1e3),i={id:t.id,type:"audio",codecs:"ac-3",encrypted:t.encrypted&&0<t.drmInfos.length,timescale:r,duration:i,wb:[],Ea:a,Qa:new Uint8Array([]),Wa:0,Xa:0,data:{Rb:this.h,baseMediaDecodeTime:e,ub:u},stream:t},i=new jo([i]),n=t.id+"_"+n.i,this.g.has(n)?t=this.g.get(n):(t=bo(i),this.g.set(n,t)),n=wa(i),this.h++,t=Je(t,n),Promise.resolve(t)},G("shaka.transmuxer.Ac3Transmuxer",Tn),Tn.prototype.transmux=Tn.prototype.transmux,Tn.prototype.getOriginalMimeType=Tn.prototype.getOriginalMimeType,Tn.prototype.convertCodecs=Tn.prototype.convertCodecs,Tn.prototype.isSupported=Tn.prototype.isSupported,Tn.prototype.destroy=Tn.prototype.destroy,Ti("audio/ac3",function(){return new Tn("audio/ac3")},Ki);function lE(e,t){if(t+8>e.length||(e[t]<<8|e[t+1]<<0)!==2935)return null;var n=new Ii(e.subarray(t+2));Wt(n,2),Wt(n,3);var i=ve(n,11)+1<<1,r=ve(n,2);if(r==3){r=ve(n,2),r=[24e3,22060,16e3][r];var o=3}else r=[48e3,44100,32e3][r],o=ve(n,2);var s=ve(n,3),a=ve(n,1);return n=ve(n,5),t+i>e.byteLength?null:(e=Math.floor(i*r/(16*[1,2,3,6][o])),e=new Uint8Array([(e&8160)>>5,(e&31)<<3,r<<6|n<<1|0,0|s<<1|a<<0,0]),{sampleRate:r,channelCount:[2,1,2,3,3,4,4,5][s]+a,Ea:e,qa:i})}function Sn(e){this.i=e,this.h=0,this.g=new Map}f=Sn.prototype,f.destroy=function(){this.g.clear()},f.isSupported=function(e){return e.toLowerCase().split(";")[0]=="audio/ec3"?rt(this.convertCodecs("audio",e)):!1},f.convertCodecs=function(e,t){return t.toLowerCase().split(";")[0]=="audio/ec3"?'audio/mp4; codecs="ec-3"':t},f.getOriginalMimeType=function(){return this.i},f.transmux=function(e,t,n,i){e=fe(e);for(var r=lo(e),o=r.length;o<e.length&&(e[o]<<8|e[o+1]<<0)!==2935;o++);var s=1e3*n.endTime;r=wr(r),r.length&&n&&(r=r.find(function(c){return c.description==="com.apple.streaming.transportStreamTimestamp"}))&&(s=r.data),r=0;for(var a=new Uint8Array([]),u=[];o<e.length;){var l=lE(e,o);if(!l)return Promise.reject(new R(2,3,3018,n?n.R()[0]:null));t.audioSamplingRate=l.sampleRate,t.channelsCount=l.channelCount,r=l.sampleRate,a=l.Ea,u.push({data:e.subarray(o,o+l.qa),size:l.qa,duration:1536,yb:0,flags:{zb:0,sb:0,rb:0,pb:0,qb:2,Ab:0}}),o+=l.qa}return e=Math.floor(s*r/1e3),i={id:t.id,type:"audio",codecs:"ec-3",encrypted:t.encrypted&&0<t.drmInfos.length,timescale:r,duration:i,wb:[],Ea:a,Qa:new Uint8Array([]),Wa:0,Xa:0,data:{Rb:this.h,baseMediaDecodeTime:e,ub:u},stream:t},i=new jo([i]),n=t.id+"_"+n.i,this.g.has(n)?t=this.g.get(n):(t=bo(i),this.g.set(n,t)),n=wa(i),this.h++,t=Je(t,n),Promise.resolve(t)},G("shaka.transmuxer.Ec3Transmuxer",Sn),Sn.prototype.transmux=Sn.prototype.transmux,Sn.prototype.getOriginalMimeType=Sn.prototype.getOriginalMimeType,Sn.prototype.convertCodecs=Sn.prototype.convertCodecs,Sn.prototype.isSupported=Sn.prototype.isSupported,Sn.prototype.destroy=Sn.prototype.destroy,Ti("audio/ec3",function(){return new Sn("audio/ec3")},Ki);function CL(e){if(!e.length)return null;var t=e.find(function(v){return v.type==7});if(e=e.find(function(v){return v.type==8}),!t||!e)return null;var n=new Ii(t.data),i=xe(n);if(xe(n),xe(n),_t(n),kL.includes(i)&&(i=q(n),i===3&&Wt(n,1),_t(n),_t(n),Wt(n,1),Q(n))){i=i!==3?8:12;for(var r=0;r<i;r++)Q(n)&&(6>r?Ru(n,16):Ru(n,64))}if(_t(n),i=q(n),i===0)q(n);else if(i===1)for(Wt(n,1),_t(n),_t(n),i=q(n),r=0;r<i;r++)_t(n);_t(n),Wt(n,1);var o=q(n),s=q(n),a=ve(n,1);a===0&&Wt(n,1),Wt(n,1);var u=0,l=0,c=0,h=0;if(Q(n)&&(u=q(n),l=q(n),c=q(n),h=q(n)),r=i=1,Q(n)&&Q(n)){var d=xe(n),p=[1,12,10,16,40,24,20,32,80,18,15,64,160,4,3,2],m=[1,11,11,11,33,11,11,11,33,11,11,33,99,3,2,1];0<d&&16>=d?(i=p[d-1],r=m[d-1]):d===255&&(i=ve(n,16),r=ve(n,16))}return n=(2-a)*(s+1)*16-2*c-2*h,o=16*(o+1)-2*u-2*l,u=[],t=t.fullData,u.push(t.byteLength>>>8&255),u.push(t.byteLength&255),u=u.concat.apply(u,X(t)),t=[],e=e.fullData,t.push(e.byteLength>>>8&255),t.push(e.byteLength&255),t=t.concat.apply(t,X(e)),e=new Uint8Array([1,u[3],u[4],u[5],255,225].concat(u,[1],t)),{height:n,width:o,Qa:e,Wa:i,Xa:r}}function ML(e){var t=!1,n=[],i=e.find(function(u){return u.type==7}),r=!1;e=g(e);for(var o=e.next();!o.done;o=e.next()){o=o.value;var s=!1;switch(o.type){case 1:s=r=!0;var a=o.data;i&&4<a.length&&(a=cx(new Ii(a)),a===2||a===4||a===7||a===9)&&(t=!0);break;case 5:t=s=r=!0;break;case 6:s=!0;break;case 7:s=!0;break;case 8:s=!0;break;case 9:r=s=!0;break;case 12:s=!0;break;default:s=!1}r&&s&&(s=o.fullData.byteLength,a=new Uint8Array(4),a[0]=s>>24&255,a[1]=s>>16&255,a[2]=s>>8&255,a[3]=s&255,n.push(a),n.push(o.fullData))}return n.length?{data:Je.apply(kt,X(n)),Qd:t}:null}var kL=[100,110,122,244,44,83,86,118,128,138,139,134];function RL(e){if(!e.length)return null;var t=e.find(function(s){return s.type==32}),n=e.find(function(s){return s.type==33}),i=e.find(function(s){return s.type==34});if(!t||!n||!i)return null;var r=LL(t.fullData);e=PL(n.fullData);var o=DL(i.fullData);return t=NL(t.fullData,n.fullData,i.fullData,{Fg:r.Fg,fh:r.fh,gg:e.gg,hg:e.hg,$f:e.$f,fg:e.fg,ag:e.ag,cg:e.cg,dg:e.dg,eg:e.eg,Uf:e.Uf,Vf:e.Vf,Wf:e.Wf,Xf:e.Xf,Yf:e.Yf,Zf:e.Zf,Nf:e.Nf,Re:e.Re,Lf:e.Lf,Hf:e.Hf,Gf:e.Gf,Ig:o.Ig}),{height:e.height,width:e.width,Qa:t,Wa:e.Bk,Xa:e.Ak}}function LL(e){var t=new Ii(e,!0);return xe(t),xe(t),ve(t,4),ve(t,2),ve(t,6),e=ve(t,3),t=Q(t),{Fg:e+1,fh:t}}function PL(e){e=new Ii(e,!0),xe(e),xe(e);var t=0,n=0,i=0,r=0;ve(e,4);var o=ve(e,3);Q(e);for(var s=ve(e,2),a=ve(e,1),u=ve(e,5),l=xe(e),c=xe(e),h=xe(e),d=xe(e),p=xe(e),m=xe(e),v=xe(e),y=xe(e),E=xe(e),S=xe(e),w=xe(e),A=[],x=[],I=0;I<o;I++)A.push(Q(e)),x.push(Q(e));if(0<o)for(I=o;8>I;I++)ve(e,2);for(I=0;I<o;I++)A[I]&&ve(e,88),x[I]&&xe(e);q(e),A=q(e),A==3&&ve(e,1),x=q(e),I=q(e),Q(e)&&(t+=q(e),n+=q(e),i+=q(e),r+=q(e));var C=q(e),L=q(e),P=q(e);if(Q(e))for(var M=0;M<=o;M++)q(e),q(e),q(e);else q(e),q(e),q(e);if(q(e),q(e),q(e),q(e),q(e),q(e),Q(e)&&Q(e))for(M=0;4>M;M++)for(var D=0;D<(M===3?2:6);D++)if(Q(e)){var N=Math.min(64,1<<4+(M<<1));1<M&&co(e);for(var b=0;b<N;b++)co(e)}else q(e);for(Q(e),Q(e),Q(e)&&(xe(e),q(e),q(e),Q(e)),M=q(e),N=D=0;N<M;N++)if(b=!1,N!==0&&(b=Q(e)),b){N===M&&q(e),Q(e),q(e);for(var _=b=0;_<=D;_++){var U=Q(e),F=!1;U||(F=Q(e)),(U||F)&&b++}D=b}else{for(_=q(e),b=q(e),D=_+b,U=0;U<_;U++)q(e),Q(e);for(_=0;_<b;_++)q(e),Q(e)}if(Q(e))for(M=q(e),D=0;D<M;D++){for(N=0;N<P+4;N++)ve(e,1);ve(e,1)}if(M=P=1,D=0,Q(e),Q(e),Q(e)){if(Q(e)&&(N=xe(e),b=[1,12,10,16,40,24,20,32,80,18,15,64,160,4,3,2],_=[1,11,11,11,33,11,11,11,33,11,11,33,99,3,2,1],0<N&&16>=N?(P=b[N-1],M=_[N-1]):N===255&&(P=ve(e,16),M=ve(e,16))),Q(e)&&Q(e),Q(e)&&(ve(e,3),Q(e),Q(e)&&(xe(e),xe(e),xe(e))),Q(e)&&(q(e),q(e)),Q(e),Q(e),Q(e),(N=Q(e))&&(q(e),q(e),q(e),q(e)),Q(e)&&(ve(e,32),ve(e,32),Q(e)&&q(e),Q(e)))for(_=!1,N=Q(e),b=Q(e),(N||b)&&((_=Q(e))&&(xe(e),ve(e,5),Q(e),ve(e,5)),ve(e,4),ve(e,4),_&&ve(e,4),ve(e,5),ve(e,5),ve(e,5)),U=0;U<=o;U++){var B=!0;F=1,Q(e)||(B=Q(e));var W=!1;if(B?q(e):W=Q(e),W||(F=q(e)+1),N){for(B=0;B<F;B++)q(e),q(e),_&&(q(e),q(e));Q(e)}if(b){for(B=0;B<F;B++)q(e),q(e),_&&(q(e),q(e));Q(e)}}Q(e)&&(Q(e),Q(e),Q(e),D=q(e),q(e),q(e),q(e),q(e))}return{$f:w,gg:s,hg:a,fg:u,ag:l,cg:c,dg:h,eg:d,Uf:p,Vf:m,Wf:v,Xf:y,Yf:E,Zf:S,Re:D,Nf:0,Lf:A,Hf:C,Gf:L,width:x-(t+n)*(A===1||A===2?2:1),height:I-(i+r)*(A===1?2:1),Bk:P,Ak:M}}function DL(e){var t=new Ii(e,!0);xe(t),xe(t),q(t),q(t),Q(t),Q(t),ve(t,3),Q(t),Q(t),q(t),q(t),co(t),Q(t),Q(t),Q(t)&&q(t),co(t),co(t),Q(t),Q(t),Q(t),Q(t),e=Q(t),t=Q(t);var n=1;return t&&e?n=0:t?n=3:e&&(n=2),{Ig:n}}function NL(e,t,n,i){var r=new Uint8Array(23+(5+e.byteLength)+(5+t.byteLength)+(5+n.byteLength));return r[0]=1,r[1]=(i.gg&3)<<6|(i.hg?1:0)<<5|i.fg&31,r[2]=i.ag,r[3]=i.cg,r[4]=i.dg,r[5]=i.eg,r[6]=i.Uf,r[7]=i.Vf,r[8]=i.Wf,r[9]=i.Xf,r[10]=i.Yf,r[11]=i.Zf,r[12]=i.$f,r[13]=240|(i.Re&3840)>>8,r[14]=i.Re&255,r[15]=252|i.Ig&3,r[16]=252|i.Lf&3,r[17]=248|i.Hf&7,r[18]=248|i.Gf&7,r[19]=0,r[20]=0,r[21]=(i.Nf&3)<<6|(i.Fg&7)<<3|(i.fh?1:0)<<2|3,r[22]=3,r[23]=160,r[24]=0,r[25]=1,r[26]=(e.byteLength&65280)>>8,r[27]=(e.byteLength&255)>>0,r.set(e,28),r[23+(5+e.byteLength)]=161,r[e.byteLength+29]=0,r[e.byteLength+30]=1,r[e.byteLength+31]=(t.byteLength&65280)>>8,r[e.byteLength+32]=(t.byteLength&255)>>0,r.set(t,e.byteLength+33),r[23+(e.byteLength+10+t.byteLength)]=162,r[e.byteLength+10+t.byteLength+24]=0,r[e.byteLength+10+t.byteLength+25]=1,r[e.byteLength+10+t.byteLength+26]=(n.byteLength&65280)>>8,r[e.byteLength+10+t.byteLength+27]=(n.byteLength&255)>>0,r.set(n,e.byteLength+10+t.byteLength+28),r}function uc(e,t){var n=e[t+1]>>3&3,i=e[t+1]>>1&3,r=e[t+2]>>4&15,o=e[t+2]>>2&3;if(n!==1&&r!==0&&r!==15&&o!==3){var s=e[t+3]>>6;r=1e3*_L[14*(n===3?3-i:i===3?3:4)+r-1],o=UL[3*(n===3?0:n===2?1:2)+o],n=OL[n][i];var a=jL[i],u=Math.floor(n*r/o+(e[t+2]>>1&1))*a,l=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);return(l=l?parseInt(l[1],10):0)&&87>=l&&i===2&&224e3<=r&&s===0&&(e[t+3]|=128),{sampleRate:o,channelCount:s===3?1:2,qa:u,zk:8*n*a}}return null}function cE(e,t){return e[t]===255&&(e[t+1]&224)===224&&(e[t+1]&6)!==0}function hE(e,t){if(t+1<e.length&&cE(e,t)){var n=uc(e,t),i=4;return n&&n.qa&&(i=n.qa),t+=i,t===e.length||t+1<e.length&&cE(e,t)}return!1}var _L=[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],UL=[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],OL=[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],jL=[0,1,1,4];function En(e){this.i=e,this.h=0,this.g=new Map}f=En.prototype,f.destroy=function(){this.g.clear()},f.isSupported=function(e){return e.toLowerCase().split(";")[0]=="audio/mpeg"?rt(this.convertCodecs("audio",e)):!1},f.convertCodecs=function(e,t){return t.toLowerCase().split(";")[0]=="audio/mpeg"?'audio/mp4; codecs="mp3"':t},f.getOriginalMimeType=function(){return this.i},f.transmux=function(e,t,n,i){for(var r=fe(e),o=lo(r).length;o<r.length&&!hE(r,o);o++);var s;for(e=[];o<r.length;){var a=uc(r,o);if(!a)return Promise.reject(new R(2,3,3018,n?n.R()[0]:null));s||(s=a),o+a.qa<=r.length&&e.push({data:r.subarray(o,o+a.qa),size:a.qa,duration:1152,yb:0,flags:{zb:0,sb:0,rb:0,pb:0,qb:2,Ab:0}}),o+=a.qa}return s?(r=9e4*s.zk/s.sampleRate*this.h,i={id:t.id,type:"audio",codecs:"mp3",encrypted:t.encrypted&&0<t.drmInfos.length,timescale:s.sampleRate,duration:i,wb:[],Ea:new Uint8Array([]),Qa:new Uint8Array([]),Wa:0,Xa:0,data:{Rb:this.h,baseMediaDecodeTime:r,ub:e},stream:t},i=new jo([i]),n=t.id+"_"+n.i,this.g.has(n)?t=this.g.get(n):(t=bo(i),this.g.set(n,t)),n=wa(i),this.h++,t=Je(t,n),Promise.resolve(t)):Promise.reject(new R(2,3,3018,n?n.R()[0]:null))},G("shaka.transmuxer.Mp3Transmuxer",En),En.prototype.transmux=En.prototype.transmux,En.prototype.getOriginalMimeType=En.prototype.getOriginalMimeType,En.prototype.convertCodecs=En.prototype.convertCodecs,En.prototype.isSupported=En.prototype.isSupported,En.prototype.destroy=En.prototype.destroy,Ti("audio/mpeg",function(){return new En("audio/mpeg")},Ki);function An(e){this.h=e,this.g=null}f=An.prototype,f.destroy=function(){},f.isSupported=function(e){if(e.toLowerCase().split(";")[0]!="video/mp2t")return!1;var t=rn(e).split(","),n=Vt("audio",t);return t=Vt("video",t),!n||t||It(n)!="mp3"?!1:rt(this.convertCodecs("audio",e))},f.convertCodecs=function(e,t){return t.toLowerCase().split(";")[0]=="video/mp2t"?"audio/mpeg":t},f.getOriginalMimeType=function(){return this.h},f.transmux=function(e,t,n,i,r){if(this.g?this.g.clearData():this.g=new Be,e=fe(e),e=this.g.parse(e),e.Id().audio!="mp3"||r!="audio")return Promise.reject(new R(2,3,3018,n?n.R()[0]:null));for(n=new Uint8Array([]),r=g(e.rc()),e=r.next();!e.done;e=r.next())if(e=e.value.data)for(t=0;t<e.length;)(i=uc(e,t))?(t+i.qa<=e.length&&(n=Je(n,e.subarray(t,t+i.qa))),t+=i.qa):t++;return Promise.resolve(n)},G("shaka.transmuxer.MpegTsTransmuxer",An),An.prototype.transmux=An.prototype.transmux,An.prototype.getOriginalMimeType=An.prototype.getOriginalMimeType,An.prototype.convertCodecs=An.prototype.convertCodecs,An.prototype.isSupported=An.prototype.isSupported,An.prototype.destroy=An.prototype.destroy,Ti("video/mp2t",function(){return new An("video/mp2t")},xh);/*
 @license
 MSS Transmuxer
 Copyright 2015 Dash Industry Forum
 SPDX-License-Identifier: BSD-3-Clause
*/function cn(e){this.h=e,(this.g=ff.get("ISOBoxer")())&&bL(this)}function bL(e){function t(){this._procFullBox(),this.flags&1&&(this._procField("AlgorithmID","uint",24),this._procField("IV_size","uint",8),this._procFieldArray("KID",16,"uint",8)),this._procField("sample_count","uint",32),this._procEntries("entry",this.sample_count,function(n){this._procEntryField(n,"InitializationVector","data",8),this.flags&2&&(this._procEntryField(n,"NumberOfEntries","uint",16),this._procSubEntries(n,"clearAndCryptedData",n.NumberOfEntries,function(i){this._procEntryField(i,"BytesOfClearData","uint",16),this._procEntryField(i,"BytesOfEncryptedData","uint",32)}))})}e.g.addBoxProcessor("saio",function(){this._procFullBox(),this.flags&1&&(this._procField("aux_info_type","uint",32),this._procField("aux_info_type_parameter","uint",32)),this._procField("entry_count","uint",32),this._procFieldArray("offset",this.entry_count,"uint",this.version===1?64:32)}),e.g.addBoxProcessor("saiz",function(){this._procFullBox(),this.flags&1&&(this._procField("aux_info_type","uint",32),this._procField("aux_info_type_parameter","uint",32)),this._procField("default_sample_info_size","uint",8),this._procField("sample_count","uint",32),this.default_sample_info_size===0&&this._procFieldArray("sample_info_size",this.sample_count,"uint",8)}),e.g.addBoxProcessor("senc",t),e.g.addBoxProcessor("uuid",function(){for(var n=!0,i=0;16>i;i++)this.usertype[i]!==FL[i]&&(n=!1);n&&(this._parsing&&(this.type="sepiff"),t.call(this))})}f=cn.prototype,f.destroy=function(){},f.isSupported=function(e,t){var n=e.startsWith("mss/");return!this.g||!n?!1:t?rt(this.convertCodecs(t,e)):(t=this.convertCodecs("audio",e),e=this.convertCodecs("video",e),rt(t)||rt(e))},f.convertCodecs=function(e,t){return t.replace("mss/","")},f.getOriginalMimeType=function(){return this.h},f.transmux=function(e,t,n){if(!n)return Promise.resolve(fe(e));if(!t.mssPrivateData)return Promise.reject(new R(2,3,3020,n?n.R()[0]:null));try{var i,r=this.g.parseBuffer(e),o=r.fetch("tfhd");o.track_ID=t.id+1;var s=r.fetch("tfdt"),a=r.fetch("traf");s===null&&(s=this.g.createFullBox("tfdt",a,o),s.version=1,s.flags=0,s.baseMediaDecodeTime=Math.floor(n.startTime*t.mssPrivateData.timescale));var u=r.fetch("trun"),l=r.fetch("tfxd");l&&l._parent.boxes.splice(l._parent.boxes.indexOf(l),1);var c=r.fetch("tfrf");c&&c._parent.boxes.splice(c._parent.boxes.indexOf(c),1);var h=r.fetch("sepiff");if(h!==null){h.type="senc",h.usertype=void 0;var d=r.fetch("saio");if(d===null){d=this.g.createFullBox("saio",a),d.version=0,d.flags=0,d.entry_count=1,d.offset=[0];var p=this.g.createFullBox("saiz",a);if(p.version=0,p.flags=0,p.sample_count=h.sample_count,p.default_sample_info_size=0,p.sample_info_size=[],h.flags&2)for(i=0;i<h.sample_count;i+=1)p.sample_info_size[i]=10+6*h.entry[i].NumberOfEntries;else p.default_sample_info_size=8}}o.flags&=16777214,o.flags|=131072,u.flags|=1;var m=r.fetch("moof");u.data_offset=m.getLength()+8;var v=r.fetch("saio");v!==null&&(v.offset[0]=dE(m,"traf")+dE(a,"senc")+16);var y=fe(r.write());return Promise.resolve(y)}catch(E){return E instanceof R?Promise.reject(E):Promise.reject(new R(2,3,3022,n?n.R()[0]:null))}};function dE(e,t){for(var n=8,i=0;i<e.boxes.length&&e.boxes[i].type!==t;i++)n+=e.boxes[i].size;return n}G("shaka.transmuxer.MssTransmuxer",cn),cn.prototype.transmux=cn.prototype.transmux,cn.prototype.getOriginalMimeType=cn.prototype.getOriginalMimeType,cn.prototype.convertCodecs=cn.prototype.convertCodecs,cn.prototype.isSupported=cn.prototype.isSupported,cn.prototype.destroy=cn.prototype.destroy;var FL=new Uint8Array([162,57,79,82,90,155,79,20,162,68,108,66,124,100,141,244]);Ti("mss/audio/mp4",function(){return new cn("mss/audio/mp4")},Ki),Ti("mss/video/mp4",function(){return new cn("mss/video/mp4")},Ki);function wn(e){this.l=e,this.g=0,this.i=new Map,this.h=this.j=null}f=wn.prototype,f.destroy=function(){this.i.clear(),this.h&&this.h.destroy()},f.isSupported=function(e,t){if(e.toLowerCase().split(";")[0]!="video/mp2t")return!1;var n=e;t&&(n=this.convertCodecs(t,e));var i=rn(n).split(",");return n=Vt("audio",i),i=Vt("video",i),n&&(n=It(n),!BL.includes(n))||i&&(n=It(i),!GL.includes(n))?!1:t?rt(this.convertCodecs(t,e)):(t=this.convertCodecs("audio",e),e=this.convertCodecs("video",e),rt(t)||rt(e))},f.convertCodecs=function(e,t){return t.toLowerCase().split(";")[0]=="video/mp2t"?(t=rn(t).replace("mp4a.40.34","mp3").split(",").map(function(n){return to(n,"audio/mp4")}).map(ks).join(","),e=="audio"?'audio/mp4; codecs="'+t+'"':'video/mp4; codecs="'+t+'"'):t},f.getOriginalMimeType=function(){return this.l},f.transmux=function(e,t,n,i,r){var o=fe(e);if(r=="audio"&&!Fs(o)){for(var s=lo(o),a=s.length;a<o.length;a++)if(hE(o,a))return Promise.reject(new R(2,3,3018,n?n.R()[0]:null));for(a=s.length;a<o.length;a++)if(aE(o,a))return this.h||(this.h=new ln("audio/aac")),this.h.transmux(e,t,n,i,r);return Promise.reject(new R(2,3,3018,n?n.R()[0]:null))}this.j?this.j.clearData():this.j=new Be;var u=this.j.parse(o),l=[],c=u.Id();try{var h=null;if(r=="video"){switch(c.video){case"avc":var d=[],p=null,m=[],v=u.Mc();if(!v.length)throw new R(2,3,3023,n?n.R()[0]:null);for(var y=0;y<v.length;y++){var E=v[y],S=E.nalus;m.push.apply(m,X(S));var w=ML(S);if(w){p==null&&(p=E.dts);var A=void 0;A=y+1<v.length?(v[y+1].dts||0)-(E.dts||0):1<v.length?(E.dts||0)-(v[y-1].dts||0):9e4*(n.endTime-n.startTime),d.push({data:w.data,size:w.data.byteLength,duration:A,yb:Math.round((E.pts||0)-(E.dts||0)),flags:{zb:0,sb:0,rb:0,pb:0,qb:w.Qd?2:1,Ab:w.Qd?0:1}})}}var x=CL(m);if(!x||p==null)throw new R(2,3,3018,n?n.R()[0]:null);t.height=x.height,t.width=x.width,h={id:t.id,type:"video",codecs:"avc1",encrypted:t.encrypted&&0<t.drmInfos.length,timescale:9e4,duration:i,wb:[],Ea:new Uint8Array([]),Qa:x.Qa,Wa:x.Wa,Xa:x.Xa,data:{Rb:this.g,baseMediaDecodeTime:p,ub:d},stream:t};break;case"hvc":var I=[],C=null,L=[],P=u.Mc();if(!P.length)throw new R(2,3,3023,n?n.R()[0]:null);for(var M=0;M<P.length;M++){var D=P[M],N=D.nalus;L.push.apply(L,X(N));for(var b=!1,_=[],U=!1,F=g(N),B=F.next();!B.done;B=F.next()){var W=B.value;switch(W.type){case 1:case 0:var J=U=!0;break;case 19:case 20:case 21:b=J=U=!0;break;case 32:J=!0;break;case 33:J=!0;break;case 34:J=!0;break;case 35:U=J=!0;break;case 39:case 40:J=!0;break;default:J=!1}if(U&&J){var ne=W.fullData.byteLength,Ee=new Uint8Array(4);Ee[0]=ne>>24&255,Ee[1]=ne>>16&255,Ee[2]=ne>>8&255,Ee[3]=ne&255,_.push(Ee),_.push(W.fullData)}}var Oe=_.length?{data:Je.apply(kt,X(_)),Qd:b}:null;if(Oe){C==null&&D.dts!=null&&(C=D.dts);var Ne=void 0;Ne=M+1<P.length?(P[M+1].dts||0)-(D.dts||0):1<P.length?(D.dts||0)-(P[M-1].dts||0):9e4*(n.endTime-n.startTime),I.push({data:Oe.data,size:Oe.data.byteLength,duration:Ne,yb:Math.round((D.pts||0)-(D.dts||0)),flags:{zb:0,sb:0,rb:0,pb:0,qb:Oe.Qd?2:1,Ab:Oe.Qd?0:1}})}}var Ye=RL(L);if(!Ye||C==null)throw new R(2,3,3018,n?n.R()[0]:null);t.height=Ye.height,t.width=Ye.width,h={id:t.id,type:"video",codecs:"hvc1",encrypted:t.encrypted&&0<t.drmInfos.length,timescale:9e4,duration:i,wb:[],Ea:new Uint8Array([]),Qa:Ye.Qa,Wa:Ye.Wa,Xa:Ye.Xa,data:{Rb:this.g,baseMediaDecodeTime:C,ub:I},stream:t}}h&&(l.push(h),h=null)}if(r=="audio"){switch(c.audio){case"aac":for(var Ie=[],Re,He=null,jn=g(u.rc()),at=jn.next();!at.done;at=jn.next()){var hn=at.value,xn=hn.data;if(xn){var ut=0;if(Re=sE(xn,ut),!Re)throw new R(2,3,3018,n?n.R()[0]:null);for(t.audioSamplingRate=Re.sampleRate,t.channelsCount=Re.channelCount,He==null&&hn.pts!==null&&(He=hn.pts);ut<xn.length;){var bn=oE(xn,ut);if(bn){var Zo=bn.Ee+bn.qa;ut+Zo<=xn.length&&Ie.push({data:xn.subarray(ut+bn.Ee,ut+Zo),size:bn.qa,duration:1024,yb:0,flags:{zb:0,sb:0,rb:0,pb:0,qb:2,Ab:0}}),ut+=Zo}else ut++}}}if(!Re||He==null){if(!u.Mc().length)throw new R(2,3,3018,n?n.R()[0]:null);He=9e4*n.startTime;var ji=Vt("audio",t.codecs.split(","));if(!ji||!t.channelsCount||!t.audioSamplingRate)throw new R(2,3,3018,n?n.R()[0]:null);Re={sampleRate:t.audioSamplingRate,channelCount:t.channelsCount,codec:ji};var es=xL(ji,t.channelsCount);if(!es)throw new R(2,3,3018,n?n.R()[0]:null);for(var Nc=He+9e4*(n.endTime-n.startTime),Ba=He;Ba<Nc;)Ie.push({data:es,size:es.byteLength,duration:1024,yb:0,flags:{zb:0,sb:0,rb:0,pb:0,qb:2,Ab:0}}),Ba+=1024/Re.sampleRate*9e4}var Fn=Re.sampleRate,OP=He/9e4*Fn;h={id:t.id,type:"audio",codecs:Re.codec,encrypted:t.encrypted&&0<t.drmInfos.length,timescale:Fn,duration:i,wb:[],Ea:new Uint8Array([]),Qa:new Uint8Array([]),Wa:0,Xa:0,data:{Rb:this.g,baseMediaDecodeTime:OP,ub:Ie},stream:t};break;case"ac3":for(var gA=[],_c=0,Lg=new Uint8Array([]),Uc=null,mA=g(u.rc()),Pg=mA.next();!Pg.done;Pg=mA.next()){var Dg=Pg.value,Ng=Dg.data;Uc==null&&Dg.pts!==null&&(Uc=Dg.pts);for(var ts=0;ts<Ng.length;){var nr=uE(Ng,ts);nr?(t.audioSamplingRate=nr.sampleRate,t.channelsCount=nr.channelCount,_c=nr.sampleRate,Lg=nr.Ea,gA.push({data:Ng.subarray(ts,ts+nr.qa),size:nr.qa,duration:1536,yb:0,flags:{zb:0,sb:0,rb:0,pb:0,qb:2,Ab:0}}),ts+=nr.qa):ts++}}if(_c==0||Lg.byteLength==0||Uc==null)throw new R(2,3,3018,n?n.R()[0]:null);var jP=Uc/9e4*_c;h={id:t.id,type:"audio",codecs:"ac-3",encrypted:t.encrypted&&0<t.drmInfos.length,timescale:_c,duration:i,wb:[],Ea:Lg,Qa:new Uint8Array([]),Wa:0,Xa:0,data:{Rb:this.g,baseMediaDecodeTime:jP,ub:gA},stream:t};break;case"ec3":for(var vA=[],Oc=0,_g=new Uint8Array([]),jc=null,yA=g(u.rc()),Ug=yA.next();!Ug.done;Ug=yA.next()){var Og=Ug.value,jg=Og.data;jc==null&&Og.pts!==null&&(jc=Og.pts);for(var ns=0;ns<jg.length;){var ir=lE(jg,ns);ir?(t.audioSamplingRate=ir.sampleRate,t.channelsCount=ir.channelCount,Oc=ir.sampleRate,_g=ir.Ea,vA.push({data:jg.subarray(ns,ns+ir.qa),size:ir.qa,duration:1536,yb:0,flags:{zb:0,sb:0,rb:0,pb:0,qb:2,Ab:0}}),ns+=ir.qa):ns++}}if(Oc==0||_g.byteLength==0||jc==null)throw new R(2,3,3018,n?n.R()[0]:null);var bP=jc/9e4*Oc;h={id:t.id,type:"audio",codecs:"ec-3",encrypted:t.encrypted&&0<t.drmInfos.length,timescale:Oc,duration:i,wb:[],Ea:_g,Qa:new Uint8Array([]),Wa:0,Xa:0,data:{Rb:this.g,baseMediaDecodeTime:bP,ub:vA},stream:t};break;case"mp3":for(var TA=[],bc,Fc=null,SA=g(u.rc()),bg=SA.next();!bg.done;bg=SA.next()){var Fg=bg.value,Ga=Fg.data;if(Ga){Fc==null&&Fg.pts!==null&&(Fc=Fg.pts);for(var Or=0;Or<Ga.length;){var is=uc(Ga,Or);is?(bc||(bc=is),Or+is.qa<=Ga.length&&TA.push({data:Ga.subarray(Or,Or+is.qa),size:is.qa,duration:1152,yb:0,flags:{zb:0,sb:0,rb:0,pb:0,qb:2,Ab:0}}),Or+=is.qa):Or++}}}if(!bc||Fc==null)throw new R(2,3,3018,n?n.R()[0]:null);var EA=bc.sampleRate,FP=Fc/9e4*EA;h={id:t.id,type:"audio",codecs:"mp3",encrypted:t.encrypted&&0<t.drmInfos.length,timescale:EA,duration:i,wb:[],Ea:new Uint8Array([]),Qa:new Uint8Array([]),Wa:0,Xa:0,data:{Rb:this.g,baseMediaDecodeTime:FP,ub:TA},stream:t};break;case"opus":var AA=[],Bc=null,si=u.H;if(!si)throw new R(2,3,3018,n?n.R()[0]:null);var Dt=[];switch(si.Wi){case 1:case 2:Dt=[0];break;case 0:Dt=[255,1,1,0,1];break;case 128:Dt=[255,2,0,0,1];break;case 3:Dt=[1,2,1,0,2,1];break;case 4:Dt=[1,2,2,0,1,2,3];break;case 5:Dt=[1,3,2,0,4,1,2,3];break;case 6:Dt=[1,4,2,0,4,1,2,3,5];break;case 7:Dt=[1,4,2,0,4,1,2,3,5,6];break;case 8:Dt=[1,5,3,0,6,1,2,3,4,5,7];break;case 130:Dt=[1,1,2,0,1];break;case 131:Dt=[1,1,3,0,1,2];break;case 132:Dt=[1,1,4,0,1,2,3];break;case 133:Dt=[1,1,5,0,1,2,3,4];break;case 134:Dt=[1,1,6,0,1,2,3,4,5];break;case 135:Dt=[1,1,7,0,1,2,3,4,5,6];break;case 136:Dt=[1,1,8,0,1,2,3,4,5,6,7]}for(var wA=new Uint8Array([0,si.channelCount,0,0,si.sampleRate>>>24&255,si.sampleRate>>>17&255,si.sampleRate>>>8&255,si.sampleRate>>>0&255,0,0].concat(X(Dt))),xA=si.sampleRate,IA=g(u.rc()),Bg=IA.next();!Bg.done;Bg=IA.next()){var Gg=Bg.value,rs=Gg.data;Bc==null&&Gg.pts!==null&&(Bc=Gg.pts);for(var Va=0;Va<rs.length;){for(var BP=(rs[Va+1]&16)!==0,GP=(rs[Va+1]&8)!==0,bi=Va+2,Gc=0;rs[bi]===255;)Gc+=255,bi+=1;Gc+=rs[bi],bi+=1,bi+=BP?2:0,bi+=GP?2:0;var CA=rs.slice(bi,bi+Gc);AA.push({data:CA,size:CA.byteLength,duration:960,yb:0,flags:{zb:0,sb:0,rb:0,pb:0,qb:2,Ab:0}}),Va=bi+Gc}}if(wA.byteLength==0||Bc==null)throw new R(2,3,3018,n?n.R()[0]:null);t.audioSamplingRate=si.sampleRate,t.channelsCount=si.channelCount;var VP=Bc/9e4*xA;h={id:t.id,type:"audio",codecs:"opus",encrypted:t.encrypted&&0<t.drmInfos.length,timescale:xA,duration:i,wb:[],Ea:wA,Qa:new Uint8Array([]),Wa:0,Xa:0,data:{Rb:this.g,baseMediaDecodeTime:VP,ub:AA},stream:t}}h&&(l.push(h),h=null)}}catch(zg){return zg&&zg.code==3023?Promise.resolve(new Uint8Array([])):Promise.reject(zg)}if(!l.length)return Promise.reject(new R(2,3,3018,n?n.R()[0]:null));var MA=new jo(l),Vg=t.id+"_"+n.i;if(this.i.has(Vg))var Hg=this.i.get(Vg);else Hg=bo(MA),this.i.set(Vg,Hg);var HP=wa(MA);this.g++;var zP=Je(Hg,HP);return Promise.resolve(zP)},G("shaka.transmuxer.TsTransmuxer",wn),wn.prototype.transmux=wn.prototype.transmux,wn.prototype.getOriginalMimeType=wn.prototype.getOriginalMimeType,wn.prototype.convertCodecs=wn.prototype.convertCodecs,wn.prototype.isSupported=wn.prototype.isSupported,wn.prototype.destroy=wn.prototype.destroy;var BL=["aac","ac-3","ec-3","mp3","opus"],GL=["avc","hevc"];Ti("video/mp2t",function(){return new wn("video/mp2t")},Ih);/*
 @license
 EME Encryption Scheme Polyfill
 Copyright 2019 Google LLC
 SPDX-License-Identifier: Apache-2.0
*/function fE(){}var Pa;function pE(){Pa||navigator.emeEncryptionSchemePolyfilled?console.debug("EmeEncryptionSchemePolyfill: Already installed."):navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration?(Pa=navigator.requestMediaKeySystemAccess,console.debug("EmeEncryptionSchemePolyfill: Waiting to detect encryptionScheme support."),navigator.requestMediaKeySystemAccess=VL,navigator.emeEncryptionSchemePolyfilled=!0):console.debug("EmeEncryptionSchemePolyfill: EME not found")}function VL(e,t){var n=this,i;return k(function(r){return r.g==1?(console.assert(n==navigator,'bad "this" for requestMediaKeySystemAccess'),T(r,Pa.call(n,e,t),2)):(i=r.h,AE(i)?(console.debug("EmeEncryptionSchemePolyfill: Native encryptionScheme support found."),navigator.requestMediaKeySystemAccess=Pa,r.return(i)):(console.debug("EmeEncryptionSchemePolyfill: No native encryptionScheme support found. Patching encryptionScheme support."),navigator.requestMediaKeySystemAccess=gE,r.return(gE.call(n,e,t))))})}function gE(e,t){var n=this,i,r,o,s,a,u,l,c,h,d,p,m;return k(function(v){if(v.g==1){for(console.assert(n==navigator,'bad "this" for requestMediaKeySystemAccess'),i=EE(e),r=[],o=g(t),s=o.next();!s.done;s=o.next())a=s.value,u=mE(a.videoCapabilities,i),l=mE(a.audioCapabilities,i),a.videoCapabilities&&a.videoCapabilities.length&&!u.length||a.audioCapabilities&&a.audioCapabilities.length&&!l.length||(c=Object.assign({},a),c.videoCapabilities=u,c.audioCapabilities=l,r.push(c));if(!r.length)throw h=Error("Unsupported keySystem or supportedConfigurations."),h.name="NotSupportedError",h.code=DOMException.NOT_SUPPORTED_ERR,h;return T(v,Pa.call(n,e,r),2)}return d=v.h,m=p=null,r[0]&&(r[0].videoCapabilities&&(p=r[0].videoCapabilities[0].encryptionScheme),r[0].audioCapabilities&&(m=r[0].audioCapabilities[0].encryptionScheme)),v.return(new lc(d,p,m))})}function mE(e,t){return e&&e.filter(function(n){return lp(n.encryptionScheme,t)})}G("EmeEncryptionSchemePolyfill",fE),fE.install=pE;function vE(){}var Da;function yE(){Da||navigator.mediaCapabilitiesEncryptionSchemePolyfilled?console.debug("McEncryptionSchemePolyfill: Already installed."):navigator.mediaCapabilities?(Da=navigator.mediaCapabilities.decodingInfo,console.debug("McEncryptionSchemePolyfill: Waiting to detect encryptionScheme support."),navigator.mediaCapabilities.decodingInfo=HL,navigator.mediaCapabilitiesEncryptionSchemePolyfilled=!0):console.debug("McEncryptionSchemePolyfill: MediaCapabilities not found")}function HL(e){var t=this,n,i;return k(function(r){switch(r.g){case 1:return console.assert(t==navigator.mediaCapabilities,'bad "this" for decodingInfo'),T(r,Da.call(t,e),2);case 2:if(n=r.h,!e.keySystemConfiguration)return r.return(n);if((i=n.keySystemAccess)&&AE(i))return console.debug("McEncryptionSchemePolyfill: Native encryptionScheme support found."),navigator.mediaCapabilities.decodingInfo=Da,r.return(n);if(console.debug("McEncryptionSchemePolyfill: No native encryptionScheme support found. Patching encryptionScheme support."),navigator.mediaCapabilities.decodingInfo=TE,i){r.B(3);break}return T(r,SE(e),4);case 4:return n.keySystemAccess=r.h,r.return(n);case 3:return r.return(TE.call(t,e))}})}function TE(e){var t=this,n,i,r,o,s,a,u;return k(function(l){switch(l.g){case 1:return console.assert(t==navigator.mediaCapabilities,'bad "this" for decodingInfo'),i=n=null,!e.keySystemConfiguration||(r=e.keySystemConfiguration,o=r.keySystem,i=r.audio&&r.audio.encryptionScheme,n=r.video&&r.video.encryptionScheme,s=EE(o),a={powerEfficient:!1,smooth:!1,supported:!1,keySystemAccess:null,configuration:e},lp(i,s)&&lp(n,s))?T(l,Da.call(t,e),2):l.return(a);case 2:if(u=l.h,u.keySystemAccess){u.keySystemAccess=new lc(u.keySystemAccess,n,i),l.B(3);break}if(!e.keySystemConfiguration){l.B(3);break}return T(l,SE(e),5);case 5:u.keySystemAccess=l.h;case 3:return l.return(u)}})}function SE(e){var t,n;return k(function(i){if(i.g==1){var r=e.keySystemConfiguration,o=[],s=[];return r.audio&&o.push({robustness:r.audio.robustness||"",contentType:e.audio.contentType,encryptionScheme:r.audio.encryptionScheme}),r.video&&s.push({robustness:r.video.robustness||"",contentType:e.video.contentType,encryptionScheme:r.video.encryptionScheme}),r={initDataTypes:r.initDataType?[r.initDataType]:[],distinctiveIdentifier:r.distinctiveIdentifier,persistentState:r.persistentState,sessionTypes:r.sessionTypes},o.length&&(r.audioCapabilities=o),s.length&&(r.videoCapabilities=s),t=r,T(i,navigator.requestMediaKeySystemAccess(e.keySystemConfiguration.keySystem,[t]),2)}return n=i.h,i.return(n)})}G("McEncryptionSchemePolyfill",vE),vE.install=yE;function lc(e,t,n){this.g=e,this.i=t||null,this.h=n||null,this.keySystem=e.keySystem}lc.prototype.getConfiguration=function(){var e=this.g.getConfiguration();if(e.videoCapabilities)for(var t=g(e.videoCapabilities),n=t.next();!n.done;n=t.next())n.value.encryptionScheme=this.i;if(e.audioCapabilities)for(t=g(e.audioCapabilities),n=t.next();!n.done;n=t.next())n.value.encryptionScheme=this.h;return e},lc.prototype.createMediaKeys=function(){return this.g.createMediaKeys()};function EE(e){return e.startsWith("com.widevine")||e.startsWith("com.microsoft")||e.startsWith("com.chromecast")||e.startsWith("com.adobe")||e.startsWith("org.w3")?"cenc":e.startsWith("com.apple")?"cbcs":(console.warn("EmeEncryptionSchemePolyfill: Unknown key system:",e,"Please contribute!"),null)}function AE(e){e=e.getConfiguration();var t=e.audioCapabilities&&e.audioCapabilities[0];return!!((e=e.videoCapabilities&&e.videoCapabilities[0]||t)&&e.encryptionScheme!==void 0)}function lp(e,t){return!!(!e||e==t||(e=="cbcs"||e=="cbcs-1-9")&&(KL||zL))}function cp(){}function wE(){pE(),yE()}G("EncryptionSchemePolyfills",cp),cp.install=wE;var zL=navigator.userAgent.includes("CrKey"),KL=100<=parseInt(navigator.userAgent.split("Firefox/").pop(),10);typeof Vc<"u"&&Vc.exports&&(Vc.exports=cp);/*
 @license
 Copyright 2013 Ali Al Dallal

 Licensed under the MIT license.

 Permission is hereby granted, free of charge, to any person obtaining a copy
 of this software and associated documentation files (the "Software"), to deal
 in the Software without restriction, including without limitation the rights
 to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 copies of the Software, and to permit persons to whom the Software is
 furnished to do so, subject to the following conditions:

 The above copyright notice and this permission notice shall be included in
 all copies or substantial portions of the Software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 SOFTWARE.
*/for(var Dr={ach:{D:"Lwo",F:"Acholi"},ady:{D:"Адыгэбзэ",F:"Adyghe"},af:{D:"Afrikaans",F:"Afrikaans"},"af-NA":{D:"Afrikaans (Namibia)",F:"Afrikaans (Namibia)"},"af-ZA":{D:"Afrikaans (South Africa)",F:"Afrikaans (South Africa)"},ak:{D:"Tɕɥi",F:"Akan"},ar:{D:"العربية",F:"Arabic"},"ar-AR":{D:"العربية",F:"Arabic"},"ar-MA":{D:"العربية",F:"Arabic (Morocco)"},"ar-SA":{D:"العربية (السعودية)",F:"Arabic (Saudi Arabia)"},"ay-BO":{D:"Aymar aru",F:"Aymara"},az:{D:"Azərbaycan dili",F:"Azerbaijani"},"az-AZ":{D:"Azərbaycan dili",F:"Azerbaijani"},"be-BY":{D:"Беларуская",F:"Belarusian"},bg:{D:"Български",F:"Bulgarian"},"bg-BG":{D:"Български",F:"Bulgarian"},bn:{D:"বাংলা",F:"Bengali"},"bn-IN":{D:"বাংলা (ভারত)",F:"Bengali (India)"},"bn-BD":{D:"বাংলা(বাংলাদেশ)",F:"Bengali (Bangladesh)"},"bs-BA":{D:"Bosanski",F:"Bosnian"},ca:{D:"Català",F:"Catalan"},"ca-ES":{D:"Català",F:"Catalan"},cak:{D:"Maya Kaqchikel",F:"Kaqchikel"},"ck-US":{D:"ᏣᎳᎩ (tsalagi)",F:"Cherokee"},cs:{D:"Čeština",F:"Czech"},"cs-CZ":{D:"Čeština",F:"Czech"},cy:{D:"Cymraeg",F:"Welsh"},"cy-GB":{D:"Cymraeg",F:"Welsh"},da:{D:"Dansk",F:"Danish"},"da-DK":{D:"Dansk",F:"Danish"},de:{D:"Deutsch",F:"German"},"de-AT":{D:"Deutsch (Österreich)",F:"German (Austria)"},"de-DE":{D:"Deutsch (Deutschland)",F:"German (Germany)"},"de-CH":{D:"Deutsch (Schweiz)",F:"German (Switzerland)"},dsb:{D:"Dolnoserbšćina",F:"Lower Sorbian"},el:{D:"Ελληνικά",F:"Greek"},"el-GR":{D:"Ελληνικά",F:"Greek (Greece)"},en:{D:"English",F:"English"},"en-GB":{D:"English (UK)",F:"English (UK)"},"en-AU":{D:"English (Australia)",F:"English (Australia)"},"en-CA":{D:"English (Canada)",F:"English (Canada)"},"en-IE":{D:"English (Ireland)",F:"English (Ireland)"},"en-IN":{D:"English (India)",F:"English (India)"},"en-PI":{D:"English (Pirate)",F:"English (Pirate)"},"en-UD":{D:"English (Upside Down)",F:"English (Upside Down)"},"en-US":{D:"English (US)",F:"English (US)"},"en-ZA":{D:"English (South Africa)",F:"English (South Africa)"},"en@pirate":{D:"English (Pirate)",F:"English (Pirate)"},eo:{D:"Esperanto",F:"Esperanto"},"eo-EO":{D:"Esperanto",F:"Esperanto"},es:{D:"Español",F:"Spanish"},"es-AR":{D:"Español (Argentine)",F:"Spanish (Argentina)"},"es-419":{D:"Español (Latinoamérica)",F:"Spanish (Latin America)"},"es-CL":{D:"Español (Chile)",F:"Spanish (Chile)"},"es-CO":{D:"Español (Colombia)",F:"Spanish (Colombia)"},"es-EC":{D:"Español (Ecuador)",F:"Spanish (Ecuador)"},"es-ES":{D:"Español (España)",F:"Spanish (Spain)"},"es-LA":{D:"Español (Latinoamérica)",F:"Spanish (Latin America)"},"es-NI":{D:"Español (Nicaragua)",F:"Spanish (Nicaragua)"},"es-MX":{D:"Español (México)",F:"Spanish (Mexico)"},"es-US":{D:"Español (Estados Unidos)",F:"Spanish (United States)"},"es-VE":{D:"Español (Venezuela)",F:"Spanish (Venezuela)"},et:{D:"eesti keel",F:"Estonian"},"et-EE":{D:"Eesti (Estonia)",F:"Estonian (Estonia)"},eu:{D:"Euskara",F:"Basque"},"eu-ES":{D:"Euskara",F:"Basque"},fa:{D:"فارسی",F:"Persian"},"fa-IR":{D:"فارسی",F:"Persian"},"fb-LT":{D:"Leet Speak",F:"Leet"},ff:{D:"Fulah",F:"Fulah"},fi:{D:"Suomi",F:"Finnish"},"fi-FI":{D:"Suomi",F:"Finnish"},"fo-FO":{D:"Føroyskt",F:"Faroese"},fr:{D:"Français",F:"French"},"fr-CA":{D:"Français (Canada)",F:"French (Canada)"},"fr-FR":{D:"Français (France)",F:"French (France)"},"fr-BE":{D:"Français (Belgique)",F:"French (Belgium)"},"fr-CH":{D:"Français (Suisse)",F:"French (Switzerland)"},"fy-NL":{D:"Frysk",F:"Frisian (West)"},ga:{D:"Gaeilge",F:"Irish"},"ga-IE":{D:"Gaeilge (Gaelic)",F:"Irish (Gaelic)"},gl:{D:"Galego",F:"Galician"},"gl-ES":{D:"Galego",F:"Galician"},"gn-PY":{D:"Avañe'ẽ",F:"Guarani"},"gu-IN":{D:"ગુજરાતી",F:"Gujarati"},"gx-GR":{D:"Ἑλληνική ἀρχαία",F:"Classical Greek"},he:{D:"עברית‏",F:"Hebrew"},"he-IL":{D:"עברית‏",F:"Hebrew"},hi:{D:"हिन्दी",F:"Hindi"},"hi-IN":{D:"हिन्दी",F:"Hindi"},hr:{D:"Hrvatski",F:"Croatian"},"hr-HR":{D:"Hrvatski",F:"Croatian"},hsb:{D:"Hornjoserbšćina",F:"Upper Sorbian"},ht:{D:"Kreyòl",F:"Haitian Creole"},hu:{D:"Magyar",F:"Hungarian"},"hu-HU":{D:"Magyar",F:"Hungarian"},"hy-AM":{D:"Հայերեն",F:"Armenian"},id:{D:"Bahasa Indonesia",F:"Indonesian"},"id-ID":{D:"Bahasa Indonesia",F:"Indonesian"},is:{D:"Íslenska",F:"Icelandic"},"is-IS":{D:"Íslenska (Iceland)",F:"Icelandic (Iceland)"},it:{D:"Italiano",F:"Italian"},"it-IT":{D:"Italiano",F:"Italian"},ja:{D:"日本語",F:"Japanese"},"ja-JP":{D:"日本語",F:"Japanese"},"jv-ID":{D:"Basa Jawa",F:"Javanese"},"ka-GE":{D:"ქართული",F:"Georgian"},"kk-KZ":{D:"Қазақша",F:"Kazakh"},km:{D:"ភាសាខ្មែរ",F:"Khmer"},"km-KH":{D:"ភាសាខ្មែរ",F:"Khmer"},kab:{D:"Taqbaylit",F:"Kabyle"},kn:{D:"ಕನ್ನಡ",F:"Kannada"},"kn-IN":{D:"ಕನ್ನಡ (India)",F:"Kannada (India)"},ko:{D:"한국어",F:"Korean"},"ko-KR":{D:"한국어 (韩国)",F:"Korean (Korea)"},ku:{D:"Kurdî",F:"Kurdish"},"ku-TR":{D:"Kurdî",F:"Kurdish"},la:{D:"Latin",F:"Latin"},"la-VA":{D:"Latin",F:"Latin"},lb:{D:"Lëtzebuergesch",F:"Luxembourgish"},"li-NL":{D:"Lèmbörgs",F:"Limburgish"},lt:{D:"Lietuvių",F:"Lithuanian"},"lt-LT":{D:"Lietuvių",F:"Lithuanian"},lv:{D:"Latviešu",F:"Latvian"},"lv-LV":{D:"Latviešu",F:"Latvian"},mai:{D:"मैथिली, মৈথিলী",F:"Maithili"},"mg-MG":{D:"Malagasy",F:"Malagasy"},mk:{D:"Македонски",F:"Macedonian"},"mk-MK":{D:"Македонски (Македонски)",F:"Macedonian (Macedonian)"},ml:{D:"മലയാളം",F:"Malayalam"},"ml-IN":{D:"മലയാളം",F:"Malayalam"},"mn-MN":{D:"Монгол",F:"Mongolian"},mr:{D:"मराठी",F:"Marathi"},"mr-IN":{D:"मराठी",F:"Marathi"},ms:{D:"Bahasa Melayu",F:"Malay"},"ms-MY":{D:"Bahasa Melayu",F:"Malay"},mt:{D:"Malti",F:"Maltese"},"mt-MT":{D:"Malti",F:"Maltese"},my:{D:"ဗမာစကာ",F:"Burmese"},nb:{D:"Norsk (bokmål)",F:"Norwegian (bokmal)"},"nb-NO":{D:"Norsk (bokmål)",F:"Norwegian (bokmal)"},ne:{D:"नेपाली",F:"Nepali"},"ne-NP":{D:"नेपाली",F:"Nepali"},nl:{D:"Nederlands",F:"Dutch"},"nl-BE":{D:"Nederlands (België)",F:"Dutch (Belgium)"},"nl-NL":{D:"Nederlands (Nederland)",F:"Dutch (Netherlands)"},"nn-NO":{D:"Norsk (nynorsk)",F:"Norwegian (nynorsk)"},no:{D:"Norsk",F:"Norwegian"},oc:{D:"Occitan",F:"Occitan"},"or-IN":{D:"ଓଡ଼ିଆ",F:"Oriya"},pa:{D:"ਪੰਜਾਬੀ",F:"Punjabi"},"pa-IN":{D:"ਪੰਜਾਬੀ (ਭਾਰਤ ਨੂੰ)",F:"Punjabi (India)"},pl:{D:"Polski",F:"Polish"},"pl-PL":{D:"Polski",F:"Polish"},"ps-AF":{D:"پښتو",F:"Pashto"},pt:{D:"Português",F:"Portuguese"},"pt-BR":{D:"Português (Brasil)",F:"Portuguese (Brazil)"},"pt-PT":{D:"Português (Portugal)",F:"Portuguese (Portugal)"},"qu-PE":{D:"Qhichwa",F:"Quechua"},"rm-CH":{D:"Rumantsch",F:"Romansh"},ro:{D:"Română",F:"Romanian"},"ro-RO":{D:"Română",F:"Romanian"},ru:{D:"Русский",F:"Russian"},"ru-RU":{D:"Русский",F:"Russian"},"sa-IN":{D:"संस्कृतम्",F:"Sanskrit"},"se-NO":{D:"Davvisámegiella",F:"Northern Sámi"},"si-LK":{D:"පළාත",F:"Sinhala (Sri Lanka)"},sk:{D:"Slovenčina",F:"Slovak"},"sk-SK":{D:"Slovenčina (Slovakia)",F:"Slovak (Slovakia)"},sl:{D:"Slovenščina",F:"Slovenian"},"sl-SI":{D:"Slovenščina",F:"Slovenian"},"so-SO":{D:"Soomaaliga",F:"Somali"},sq:{D:"Shqip",F:"Albanian"},"sq-AL":{D:"Shqip",F:"Albanian"},sr:{D:"Српски",F:"Serbian"},"sr-RS":{D:"Српски (Serbia)",F:"Serbian (Serbia)"},su:{D:"Basa Sunda",F:"Sundanese"},sv:{D:"Svenska",F:"Swedish"},"sv-SE":{D:"Svenska",F:"Swedish"},sw:{D:"Kiswahili",F:"Swahili"},"sw-KE":{D:"Kiswahili",F:"Swahili (Kenya)"},ta:{D:"தமிழ்",F:"Tamil"},"ta-IN":{D:"தமிழ்",F:"Tamil"},te:{D:"తెలుగు",F:"Telugu"},"te-IN":{D:"తెలుగు",F:"Telugu"},tg:{D:"забо́ни тоҷикӣ́",F:"Tajik"},"tg-TJ":{D:"тоҷикӣ",F:"Tajik"},th:{D:"ภาษาไทย",F:"Thai"},"th-TH":{D:"ภาษาไทย (ประเทศไทย)",F:"Thai (Thailand)"},tl:{D:"Filipino",F:"Filipino"},"tl-PH":{D:"Filipino",F:"Filipino"},tlh:{D:"tlhIngan-Hol",F:"Klingon"},tr:{D:"Türkçe",F:"Turkish"},"tr-TR":{D:"Türkçe",F:"Turkish"},"tt-RU":{D:"татарча",F:"Tatar"},uk:{D:"Українська",F:"Ukrainian"},"uk-UA":{D:"Українська",F:"Ukrainian"},ur:{D:"اردو",F:"Urdu"},"ur-PK":{D:"اردو",F:"Urdu"},uz:{D:"O'zbek",F:"Uzbek"},"uz-UZ":{D:"O'zbek",F:"Uzbek"},vi:{D:"Tiếng Việt",F:"Vietnamese"},"vi-VN":{D:"Tiếng Việt",F:"Vietnamese"},"xh-ZA":{D:"isiXhosa",F:"Xhosa"},yi:{D:"ייִדיש",F:"Yiddish"},"yi-DE":{D:"ייִדיש (German)",F:"Yiddish (German)"},zh:{D:"中文",F:"Chinese"},"zh-HANS":{D:"中文简体",F:"Chinese Simplified"},"zh-HANT":{D:"中文繁體",F:"Chinese Traditional"},"zh-CN":{D:"中文（中国）",F:"Chinese Simplified (China)"},"zh-HK":{D:"中文（香港）",F:"Chinese Traditional (Hong Kong)"},"zh-SG":{D:"中文（新加坡）",F:"Chinese Simplified (Singapore)"},"zh-TW":{D:"中文（台灣）",F:"Chinese Traditional (Taiwan)"},"zu-ZA":{D:"isiZulu",F:"Zulu"}},xE=g(Object.keys(Dr)),hp=xE.next();!hp.done;hp=xE.next()){var IE=hp.value;Dr[IE.toLowerCase()]=Dr[IE]}function ce(e,t){var n=this;this.parent=e,this.controls=t,this.eventManager=new Ae,this.localization=this.controls.ya,this.player=this.controls.ld(),this.video=this.controls.wc(),this.adManager=this.player.ye(),this.ad=t.getAd(),this.eventManager.s(this.adManager,"ad-started",function(i){n.ad=i.ad}),this.eventManager.s(this.adManager,"ad-stopped",function(){n.ad=null})}ce.prototype.release=function(){this.eventManager.release(),this.ad=this.adManager=this.video=this.player=this.localization=this.eventManager=this.controls=this.parent=null},G("shaka.ui.Element",ce),ce.prototype.release=ce.prototype.release;function dp(e){return fp(e,"shaka-back-to-overflow-button")}function fp(e,t){return e=e.getElementsByClassName(t),e.length?e[0]:null}function Vo(e){e&&(e=fp(e,"shaka-chosen-item"))&&e.parentElement.focus()}function Ho(){var e=z("i");return e.classList.add("material-icons-round"),e.classList.add("shaka-chosen-item"),e.textContent="done",e.ariaHidden="true",e}function re(e,t){e&&(t?e.classList.remove("shaka-hidden"):e.classList.add("shaka-hidden"))}function zo(e,t){var n=Math.floor(e/3600),i=Math.floor(e/60%60);return e=Math.floor(e%60),10>e&&(e="0"+e),e=i+":"+e,t&&(10>i&&(e="0"+e),e=n+":"+e),e}function cc(e,t){ce.call(this,e,t);var n=this;this.i=z("div"),this.i.classList.add("shaka-ad-counter"),this.parent.appendChild(this.i),this.h=z("span"),this.h.classList.add("shaka-ad-counter-span"),this.i.appendChild(this.h),this.g=new oe(function(){var i=Math.round(n.ad.getRemainingTime()),r=n.ad.getDuration();i!=-1&&r!=-1&&(0<i?(i=zo(r-i,!1)+" / "+zo(r,!1),1<n.ad.getSequenceLength()?n.h.textContent=i:(r=n.localization.resolve("AD_TIME"),n.h.textContent=r.replace("[AD_TIME]",i))):(n.g.stop(),n.h.textContent=""))}),this.eventManager.s(this.localization,"locale-updated",function(){}),this.eventManager.s(this.localization,"locale-changed",function(){}),this.eventManager.s(this.adManager,"ad-started",function(){n.g.Sa(),n.g.Ba(.5)}),this.eventManager.s(this.adManager,"ad-stopped",function(){n.g.stop(),n.h.textContent=""}),this.ad&&(this.g.Sa(),this.g.Ba(.5))}pe(cc,ce),cc.prototype.release=function(){this.g.stop(),this.g=null,ce.prototype.release.call(this)},G("shaka.ui.AdCounter",cc);function pp(e,t){ce.call(this,e,t);var n=this;this.g=z("div"),this.g.classList.add("shaka-ad-position"),re(this.g,!1),this.parent.appendChild(this.g),this.h=z("span"),this.h.classList.add("shaka-ad-position-span"),this.g.appendChild(this.h),this.eventManager.s(this.localization,"locale-updated",function(){n.ad&&hc(n)}),this.eventManager.s(this.localization,"locale-changed",function(){n.ad&&hc(n)}),this.eventManager.s(this.adManager,"ad-started",function(){hc(n)}),this.eventManager.s(this.adManager,"ad-stopped",function(){n.h.textContent="",re(n.g,!1)}),this.ad&&hc(this)}pe(pp,ce);function hc(e){var t=e.ad.getSequenceLength();if(1<t){var n=e.ad.getPositionInSequence();e.h.textContent=e.localization.resolve("AD_PROGRESS").replace("[AD_ON]",String(n)).replace("[NUM_ADS]",String(t)),re(e.g,!0)}}G("shaka.ui.AdPosition",pp);function Na(e,t){ce.call(this,e,t);var n=this;this.j=this.controls.g,this.h=this.controls.h,this.i=[],this.g=z("div"),this.g.classList.add("shaka-no-propagation"),this.g.classList.add("shaka-context-menu"),this.g.classList.add("shaka-hidden"),this.h.appendChild(this.g),this.eventManager.s(this.h,"contextmenu",function(i){if(n.g.classList.contains("shaka-hidden")){i.preventDefault();var r=n.h.getBoundingClientRect();n.g.style.left=i.clientX-r.left+"px",n.g.style.top=i.clientY-r.top+"px",re(n.g,!0)}else re(n.g,!1)}),this.eventManager.s(O,"click",function(){re(n.g,!1)}),qL(this)}pe(Na,ce),Na.prototype.release=function(){this.h=null;for(var e=g(this.i),t=e.next();!t.done;t=e.next())t.value.release();this.i=[],ce.prototype.release.call(this)};function Ko(e,t){CE.set(e,t)}function qL(e){for(var t=g(e.j.contextMenuElements),n=t.next();!n.done;n=t.next()){n=n.value;var i=CE.get(n);i?e.i.push(i.create(e.g,e.controls)):de("Unrecognized context menu element:",n)}}G("shaka.ui.ContextMenu",Na),Na.registerElement=Ko;var CE=new Map;function ri(e,t){ce.call(this,e,t);var n=this;this.button=Ze(),this.parent.appendChild(this.button),this.eventManager.s(this.localization,"locale-updated",function(){n.g()}),this.eventManager.s(this.localization,"locale-changed",function(){n.g()}),this.eventManager.s(this.video,"play",function(){n.g(),n.h()}),this.eventManager.s(this.video,"pause",function(){n.g(),n.h()}),this.eventManager.s(this.video,"seeking",function(){n.g(),n.h()}),this.eventManager.s(this.adManager,"ad-paused",function(){n.g(),n.h()}),this.eventManager.s(this.adManager,"ad-resumed",function(){n.g(),n.h()}),this.eventManager.s(this.adManager,"ad-started",function(){n.g(),n.h()}),this.eventManager.s(this.adManager,"ad-stopped",function(){n.g(),n.h()}),this.eventManager.s(this.button,"click",function(){n.ad&&n.ad.isLinear()?BE(n.controls):FE(n.controls)}),this.ad&&(this.g(),this.h())}pe(ri,ce),ri.prototype.isPaused=function(){if(this.ad&&this.ad.isLinear())var e=this.ad.isPaused();else e=this.controls,e=e.A.paused&&!e.Y;return e},ri.prototype.isEnded=function(){return this.ad&&this.ad.isLinear()?!1:this.video.ended},ri.prototype.g=function(){},ri.prototype.h=function(){},G("shaka.ui.PlayButton",ri);function _a(e,t){ri.call(this,e,t),this.button.classList.add("shaka-play-button"),this.button.classList.add("shaka-no-propagation"),this.h(),this.g()}pe(_a,ri),_a.prototype.h=function(){this.isPaused()?this.button.setAttribute("icon","play"):this.button.setAttribute("icon","pause")},_a.prototype.g=function(){var e=this.isPaused()?"PLAY":"PAUSE";this.button.ariaLabel=this.localization.resolve(e)},G("shaka.ui.BigPlayButton",_a);function qo(e,t){ce.call(this,e,t);var n=this;this.m=null,this.o=!1,this.j=new oe(function(){parseInt(n.h.textContent,10)!=0&&(n.video.currentTime=n.controls.kg()+parseInt(n.h.textContent,10)),n.g.style.opacity="0",n.o=!1,n.h.textContent="0s"}),this.g=z("div"),this.parent.appendChild(this.g),this.eventManager.s(this.g,"touchend",function(i){n.controls.xc()&&(n.controls.Cd()?(i.preventDefault(),n.controls.Nc()):0<n.controls.g.tapSeekDistance&&(i.preventDefault(),i=n.controls.g.tapSeekDistance,n.o?n.m+1e3>Date.now()&&(n.j.stop(),n.m=Date.now(),n.h.textContent=(n.l?parseInt(n.h.textContent,10)-i:parseInt(n.h.textContent,10)+i).toString()+"s",n.g.style.opacity="1",n.j.X(1)):(n.o=!0,n.m=Date.now(),n.j.X(1))))}),this.h=z("span"),this.h.textContent="0s",this.g.appendChild(this.h),this.i=z("span"),this.i.classList.add("shaka-forward-rewind-container-icon"),this.g.appendChild(this.i),this.l=!1}pe(qo,ce),G("shaka.ui.HiddenSeekButton",qo);function gp(e,t){qo.call(this,e,t),this.g.classList.add("shaka-fast-foward-container"),this.i.textContent="fast_forward",this.l=!1}pe(gp,qo),G("shaka.ui.HiddenFastForwardButton",gp);function mp(e,t){qo.call(this,e,t),this.g.classList.add("shaka-rewind-container"),this.i.textContent="fast_rewind",this.l=!0}pe(mp,qo),G("shaka.ui.HiddenRewindButton",mp);function dt(e,t,n,i){ce.call(this,e,t);var r=this;this.container=z("div"),this.container.classList.add("shaka-range-container"),this.container.classList.add.apply(this.container.classList,X(n)),this.h=!1,this.bar=document.createElement("input"),this.I=new oe(function(){r.onChangeEnd(),r.h=!1}),this.bar.classList.add("shaka-range-element"),this.bar.classList.add.apply(this.bar.classList,X(i)),this.bar.type="range",this.bar.step="any",this.bar.min="0",this.bar.max="1",this.bar.value="0",this.container.appendChild(this.bar),this.parent.appendChild(this.container),this.eventManager.s(this.bar,"mousedown",function(o){r.controls.xc()&&(r.h=!0,r.onChangeStart()),o.stopPropagation()}),this.eventManager.s(this.bar,"touchstart",function(o){r.controls.xc()&&(r.h=!0,dc(r,o),r.onChangeStart()),o.stopPropagation()}),this.eventManager.s(this.bar,"input",function(){r.onChange()}),this.eventManager.s(this.bar,"touchmove",function(o){r.h&&(dc(r,o),r.onChange()),o.stopPropagation()}),this.eventManager.s(this.bar,"touchend",function(o){r.h&&(r.h=!1,dc(r,o),r.onChangeEnd()),o.stopPropagation()}),this.eventManager.s(this.bar,"touchcancel",function(o){r.h&&(r.h=!1,dc(r,o),r.onChangeEnd()),o.stopPropagation()}),this.eventManager.s(this.bar,"mouseup",function(o){r.h&&(r.h=!1,r.onChangeEnd()),o.stopPropagation()}),this.eventManager.s(this.bar,"blur",function(){r.h&&(r.h=!1,r.onChangeEnd())}),this.eventManager.s(this.bar,"contextmenu",function(o){o.preventDefault(),o.stopPropagation()})}pe(dt,ce),f=dt.prototype,f.release=function(){this.I&&(this.I.stop(),this.I=null),ce.prototype.release.call(this)},f.setRange=function(e,t){this.bar.min=e,this.bar.max=t},f.onChangeStart=function(){},f.onChange=function(){},f.onChangeEnd=function(){},f.changeTo=function(e){this.h||(this.h=!0,this.onChangeStart());var t=parseFloat(this.bar.min),n=parseFloat(this.bar.max);this.bar.value=e>n?n:e<t?t:e,this.onChange(),this.I.X(.5)},f.getValue=function(){return parseFloat(this.bar.value)},f.setValue=function(e){this.h||(this.bar.value=e)};function dc(e,t){t.preventDefault();var n=t.changedTouches[0],i=e.bar.getBoundingClientRect();t=parseFloat(e.bar.min);var r=parseFloat(e.bar.max);n=t+(r-t)/i.width*(n.clientX-i.left),n<t?n=t:n>r&&(n=r),e.bar.value=n}G("shaka.ui.RangeElement",dt),dt.prototype.setValue=dt.prototype.setValue,dt.prototype.getValue=dt.prototype.getValue,dt.prototype.changeTo=dt.prototype.changeTo,dt.prototype.onChangeEnd=dt.prototype.onChangeEnd,dt.prototype.onChange=dt.prototype.onChange,dt.prototype.onChangeStart=dt.prototype.onChangeStart,dt.prototype.setRange=dt.prototype.setRange;function Ua(e,t){dt.call(this,e,t,["shaka-seek-bar-container"],["shaka-seek-bar","shaka-no-propagation","shaka-show-controls-on-mouse-over"]);var n=this;this.H=z("div"),this.H.classList.add("shaka-ad-markers"),this.container.insertBefore(this.H,this.container.childNodes[0]),this.J=this.controls.g,this.u=new oe(function(){var i=n.getValue();n.player.T()||i==n.video.duration&&(i-=.001),n.video.currentTime=i}),this.C=new oe(function(){ME(n)}),this.L=!1,this.i=z("div"),this.i.id="shaka-player-ui-thumbnail-container",this.g=z("img"),this.g.id="shaka-player-ui-thumbnail-image",this.g.draggable=!1,this.A=z("div"),this.A.id="shaka-player-ui-thumbnail-time",this.i.appendChild(this.g),this.i.appendChild(this.A),this.container.appendChild(this.i),this.j=z("div"),this.j.id="shaka-player-ui-time-container",this.container.appendChild(this.j),this.l=this.m=null,this.K=!1,this.o=new oe(function(){Wo(n)}),this.G=[],this.eventManager.s(this.localization,"locale-updated",function(){return yp(n)}),this.eventManager.s(this.localization,"locale-changed",function(){return yp(n)}),this.eventManager.s(this.adManager,"ad-started",function(){vp(n)||re(n.container,!1)}),this.eventManager.s(this.adManager,"ad-stopped",function(){vp(n)&&re(n.container,!0)}),this.eventManager.s(this.adManager,"ad-cue-points-changed",function(i){n.G=i.cuepoints,kE(n)}),this.eventManager.s(this.player,"unloading",function(){n.G=[],kE(n),n.l&&(n.l.abort(),n.l=null),n.m=null,Wo(n),Tp(n)}),this.eventManager.s(this.bar,"mousemove",function(i){var r=n.bar.getBoundingClientRect(),o=parseFloat(n.bar.min);i=i.clientX-r.left,r=Math.round(o+(parseFloat(n.bar.max)-o)/r.width*i),n.player.ze().length?(Tp(n),RE(n,i,r)):(Wo(n),o=n.j.clientWidth,n.j.style.width="auto",n.j.style.height="20px",n.j.style.top="-30px",n.j.style.left=Math.min(n.bar.offsetWidth-o,Math.max(0,i-o/2))+"px",n.j.style.visibility="visible",i=n.player.Ga(),n.player.T()?(i=i.end-r,n.j.textContent=1>i?n.localization.resolve("LIVE"):"-"+fc(i)):n.j.textContent=fc(r-i.start))}),this.eventManager.s(this.container,"mouseleave",function(){Tp(n),n.o.stop(),n.o.X(.25)}),this.setValue(this.video.currentTime),this.update(),yp(this),this.ad&&re(this.container,!1)}pe(Ua,dt),f=Ua.prototype,f.release=function(){this.u&&(this.u.stop(),this.u=null,this.C.stop(),this.C=null),dt.prototype.release.call(this)},f.onChangeStart=function(){this.L=!this.video.paused,this.controls.$g(!0),this.video.pause(),this.o.stop(),this.K=!0},f.onChange=function(){if(this.video.duration)if(this.update(),this.u.X(.125),this.player.ze().length){var e=parseFloat(this.bar.min),t=parseFloat(this.bar.max),n=this.bar.getBoundingClientRect(),i=Math.round(this.getValue());RE(this,(i-e)/((t-e)/n.width),i)}else Wo(this)},f.onChangeEnd=function(){this.u.Sa(),this.controls.$g(!1),this.L&&this.video.play(),this.K&&(this.K=!1,this.o.stop(),this.o.X(.25))},f.isShowing=function(){return!this.container.classList.contains("shaka-hidden")},f.update=function(){var e=this.J.seekBarColors,t=this.getValue(),n=this.video.buffered.length,i=n?this.video.buffered.start(0):0,r=n?this.video.buffered.end(n-1):0,o=this.player.Ga(),s=o.end-o.start;this.setRange(o.start,o.end),vp(this)?(re(this.container,!0),n==0?this.container.style.background=e.base:(n=(Math.max(i,o.start)-o.start)/s||0,r=(Math.min(r,o.end)-o.start)/s||0,t=(Math.min(Math.max(t,o.start),o.end)-o.start)/s||0,this.container.style.background="linear-gradient("+["to right",(this.J.showUnbufferedStart?e.base:e.played)+" "+100*n+"%",e.played+" "+100*n+"%",e.played+" "+100*t+"%",e.buffered+" "+100*t+"%",e.buffered+" "+100*r+"%",e.base+" "+100*r+"%"].join()+")")):re(this.container,!1)};function ME(e){if(e.G.length){for(var t=e.player.Ga(),n=t.end-t.start,i=["to right"],r=[],o=e.J.seekBarColors.adBreaks,s=!1,a=g(e.G),u=a.next();!u.done;u=a.next())if(u=u.value,u.start==-1&&!u.end)s=!0;else if(!u.end&&u.start>=t.start||typeof u.end=="number"&&u.end>t.start){var l=(Math.max(u.start,t.start)-t.start)/n||0,c=l+.01;u.end&&(c=(u.end-t.start)/n||0),r.push({start:l,end:c})}for(r=r.sort(function(h,d){return h.start-d.start}),t=g(r),n=t.next();!n.done;n=t.next())n=n.value,i.push("transparent "+100*n.start+"%"),i.push(o+" "+100*n.start+"%"),i.push(o+" "+100*n.end+"%"),i.push("transparent "+100*n.end+"%");s&&(i.push("transparent 99%"),i.push(o+" 99%")),e.H.style.background="linear-gradient("+i.join(",")+")"}else e.H.style.background="transparent",e.C.stop()}function kE(e){function t(){ME(e);var n=e.player.Ga();n=n.end-n.start,e.player.T()&&5<n&&e.C.Ba(.25)}e.player.Qh()?t():e.eventManager.sa(e.player,"loaded",t)}function vp(e){var t=e.player.Ga();return t=t.end-t.start,e.player.T()&&(5>t||!isFinite(t))?!1:e.ad==null||!e.ad.isLinear()}function yp(e){e.bar.ariaLabel=e.localization.resolve("SEEK")}function RE(e,t,n){var i,r,o,s,a,u,l,c,h,d,p,m,v,y,E,S,w,A;k(function(x){switch(x.g){case 1:return i=WL(e),i?(0>n&&(n=0),r=e.player.Ga(),o=Math.max(Math.ceil(r.start),Math.min(Math.floor(r.end),n)),T(x,e.player.og(i.id,o),2)):(Wo(e),x.return());case 2:if(s=x.h,!s||!s.uris.length)return Wo(e),x.return();if(e.player.T()?(a=r.end-n,e.A.textContent=1>a?e.localization.resolve("LIVE"):"-"+fc(a)):e.A.textContent=fc(n),u=-10,l=e.i.clientWidth,c=Math.floor(9*l/16),e.i.style.height=c+"px",e.i.style.top=-(c-u)+"px",h=Math.min(e.bar.offsetWidth-l,Math.max(0,t-l/2)),e.i.style.left=h+"px",e.i.style.visibility="visible",d=s.uris[0].split("#xywh=")[0],e.m&&d===e.m.uris[0].split("#xywh=")[0]&&s.segment.Ib()==e.m.segment.Ib()&&s.segment.Fb()==e.m.segment.Fb()){x.B(3);break}if(e.m=s,e.l&&(e.l.abort(),e.l=null),i.codecs!="mjpg"&&!d.startsWith("offline:")){x.B(4);break}return e.g.src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg"/>',Z(x,5),p=Pn,m=xr(s.segment.R(),s.segment.Ib(),s.segment.Fb(),e.player.getConfiguration().streaming.retryParameters),e.l=e.player.Gb().request(p,m,{type:1}),T(x,e.l.promise,7);case 7:v=x.h,e.l=null,i.codecs=="mjpg"?(y=new Ue().box("mdat",Ar(function(I){d=URL.createObjectURL(new Blob([I],{type:"image/jpeg"}))})),y.parse(v.data,!1)):(E=i.mimeType||"image/jpeg",S=new Blob([v.data],{type:E}),d=URL.createObjectURL(S)),he(x,4);break;case 5:if(w=ee(x),w.code==7001)return x.return();throw w;case 4:try{e.i.removeChild(e.g)}catch{}e.g=z("img"),e.g.id="shaka-player-ui-thumbnail-image",e.g.draggable=!1,e.g.src=d,e.g.onload=function(){d.startsWith("blob:")&&URL.revokeObjectURL(d)},e.i.insertBefore(e.g,e.i.firstChild);case 3:A=l/s.width,s.imageHeight?e.g.height=s.imageHeight:s.sprite||(e.g.style.height="100%",e.g.style.objectFit="contain"),s.imageWidth?e.g.width=s.imageWidth:s.sprite||(e.g.style.width="100%",e.g.style.objectFit="contain"),e.g.style.left="-"+A*s.positionX+"px",e.g.style.top="-"+A*s.positionY+"px",e.g.style.transform="scale("+A+")",e.g.style.transformOrigin="left top",c=Math.floor(l*s.height/s.width),e.i.style.height=c+"px",e.i.style.top=-(c-u)+"px",H(x)}})}function WL(e){var t=e.player.ze();if(!t.length)return null;for(var n=g(["image/avif","image/webp","image/jpeg","image/png","image/svg+xml"]),i=n.next(),r={};!i.done;r={Xh:void 0,estimatedBandwidth:void 0},i=n.next())if(r.Xh=i.value,r.estimatedBandwidth=e.player.getStats().estimatedBandwidth,(i=t.filter(function(o){return function(s){return s.mimeType.toLowerCase()===o.Xh&&s.bandwidth<.01*o.estimatedBandwidth}}(r)).sort(function(o,s){return s.bandwidth-o.bandwidth}))&&i.length)return i[0];return t.find(function(o){return o.mimeType=="application/mp4"&&o.codecs=="mjpg"})||t[0]}function Wo(e){e.i.style.visibility="hidden",e.A.textContent=""}function Tp(e){e.j.style.visibility="hidden"}function fc(e){var t=Math.round(e);e=Math.floor(t/3600);var n=Math.floor((t-3600*e)/60);return t=t-3600*e-60*n,10>t&&(t="0"+t),0<e?(10>n&&(n="0"+n),e+":"+n+":"+t):n+":"+t}G("shaka.ui.SeekBar",Ua);function Sp(){}Sp.prototype.create=function(e,t){return new Ua(e,t)},Ua.Factory=Sp;function pc(e,t){ce.call(this,e,t);var n=this;this.j=z("div"),this.j.classList.add("shaka-skip-ad-container"),this.parent.appendChild(this.j),this.h=z("div"),this.h.classList.add("shaka-skip-ad-counter"),re(this.h,!1),this.j.appendChild(this.h),this.g=Ze(),this.g.classList.add("shaka-skip-ad-button"),this.g.disabled=!0,re(this.g,!1),this.g.classList.add("shaka-no-propagation"),this.j.appendChild(this.g),Ep(this),this.i=new oe(function(){var i=Math.round(n.ad.getTimeUntilSkippable());0<i?n.h.textContent=i:(n.i.stop(),re(n.h,!1))}),this.eventManager.s(this.localization,"locale-updated",function(){Ep(n)}),this.eventManager.s(this.localization,"locale-changed",function(){Ep(n)}),this.eventManager.s(this.adManager,"ad-started",function(){LE(n)}),this.eventManager.s(this.adManager,"ad-skip-state-changed",function(){n.ad.canSkipNow()&&(n.g.disabled=!1,n.i.stop(),re(n.h,!1))}),this.eventManager.s(this.adManager,"ad-stopped",function(){n.i.stop(),n.g.disabled=!0,re(n.g,!1),re(n.h,!1)}),this.eventManager.s(this.g,"click",function(){n.ad.skip()}),this.ad&&LE(this)}pe(pc,ce),pc.prototype.release=function(){this.i.stop(),this.i=null,ce.prototype.release.call(this)};function Ep(e){e.g.textContent=e.localization.resolve("SKIP_AD")}function LE(e){e.ad.isSkippable()&&e.ad.needsSkipUI()&&(re(e.g,!0),re(e.h,!0),e.h.textContent="",e.i.Sa(),e.i.Ba(.5))}G("shaka.ui.SkipAdButton",pc);/*
 @license
 glMatrix: https://github.com/toji/gl-matrix/
 Copyright 2015-2021, Brandon Jones, Colin MacKenzie IV
 SPDX-License-Identifier: MIT
*/function Ui(){var e=new Float32Array(16);return e[0]=1,e[5]=1,e[10]=1,e[15]=1,e}function Ap(e,t,n){t=1/Math.tan(t/2),e[0]=t/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,n=1/-99.9,e[10]=100.1*n,e[14]=20*n}function gc(e,t,n){var i=t[0],r=t[1],o=t[2],s=t[3],a=t[4],u=t[5],l=t[6],c=t[7],h=t[8],d=t[9],p=t[10],m=t[11],v=t[12],y=t[13],E=t[14];t=t[15];var S=n[0],w=n[1],A=n[2],x=n[3];e[0]=S*i+w*a+A*h+x*v,e[1]=S*r+w*u+A*d+x*y,e[2]=S*o+w*l+A*p+x*E,e[3]=S*s+w*c+A*m+x*t,S=n[4],w=n[5],A=n[6],x=n[7],e[4]=S*i+w*a+A*h+x*v,e[5]=S*r+w*u+A*d+x*y,e[6]=S*o+w*l+A*p+x*E,e[7]=S*s+w*c+A*m+x*t,S=n[8],w=n[9],A=n[10],x=n[11],e[8]=S*i+w*a+A*h+x*v,e[9]=S*r+w*u+A*d+x*y,e[10]=S*o+w*l+A*p+x*E,e[11]=S*s+w*c+A*m+x*t,S=n[12],w=n[13],A=n[14],x=n[15],e[12]=S*i+w*a+A*h+x*v,e[13]=S*r+w*u+A*d+x*y,e[14]=S*o+w*l+A*p+x*E,e[15]=S*s+w*c+A*m+x*t}function wp(e,t){var n=new Float32Array(3),i=t[0],r=t[1],o=t[2],s=t[4],a=t[5],u=t[6],l=t[8],c=t[9],h=t[10];n[0]=Math.sqrt(i*i+r*r+o*o),n[1]=Math.sqrt(s*s+a*a+u*u),n[2]=Math.sqrt(l*l+c*c+h*h),u=1/n[0],l=1/n[1],c=1/n[2],s=t[0]*u,n=t[1]*l,i=t[2]*c,r=t[4]*u,a=t[5]*l,o=t[6]*c,u*=t[8],l*=t[9],t=t[10]*c,c=s+a+t,0<c?(t=2*Math.sqrt(c+1),e[3]=.25*t,e[0]=(o-l)/t,e[1]=(u-i)/t,e[2]=(n-r)/t):s>a&&s>t?(t=2*Math.sqrt(1+s-a-t),e[3]=(o-l)/t,e[0]=.25*t,e[1]=(n+r)/t,e[2]=(u+i)/t):a>t?(t=2*Math.sqrt(1+a-s-t),e[3]=(u-i)/t,e[0]=(n+r)/t,e[1]=.25*t,e[2]=(o+l)/t):(t=2*Math.sqrt(1+t-s-a),e[3]=(n-r)/t,e[0]=(u+i)/t,e[1]=(o+l)/t,e[2]=.25*t)}function PE(e,t){var n=t[0],i=t[1],r=t[2];t=t[3];var o=n+n,s=i+i,a=r+r;n*=o;var u=i*o;i*=s;var l=r*o,c=r*s;r*=a,o*=t,s*=t,t*=a,e[0]=1-i-r,e[1]=u+t,e[2]=l-s,e[3]=0,e[4]=u-t,e[5]=1-n-r,e[6]=c+o,e[7]=0,e[8]=l+s,e[9]=c-o,e[10]=1-n-i,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1}function xp(){var e=new Float32Array(4);return e[3]=1,e}function XL(e,t){var n=t[0],i=t[1],r=t[2];t=t[3];var o=n*n+i*i+r*r+t*t;0<o&&(o=1/Math.sqrt(o)),e[0]=n*o,e[1]=i*o,e[2]=r*o,e[3]=t*o}function Ip(e,t,n,i,r){this.m=e,this.na=t,this.l=n,this.g=i,this.o=new Ae,this.L=xp(),this.h=xp(),this.ha=this.ka=this.aa=this.j=null,this.G=Ui(),this.I=Ui(),this.N=Ui(),this.Y=Ui(),this.A=null,this.O=!1,this.J=this.u=null,this.ra=this.Ca=0,this.$=this.P=this.S=this.K=null,this.H=0,this.i=75,this.V=0,this.C=r,YL(this)}Ip.prototype.release=function(){this.o&&(this.o.release(),this.o=null),this.u&&(this.u.stop(),this.u=null),this.J&&(this.J.stop(),this.J=null)},Ip.prototype.Bd=function(){(this.O=!this.O)||this.g.viewport(0,0,this.l.width,this.l.height),Yn(this,!1)};function YL(e){$L(e),JL(e),QL(e),ZL(e),eP(e),e.o.sa(e.m,"loadeddata",function(){var t;e.o.s(e.m,"canplaythrough",function(){Yn(e)}),e.o.s(e.m,"playing",function(){if(e.u&&e.u.stop(),!t){var n=e.na.Jb();n=g(n);for(var i=n.next();!i.done;i=n.next())(i=i.value.frameRate)&&(!t||t<i)&&(t=i)}t||(t=60),Yn(e),e.u=new oe(function(){Yn(e)}).Sa().Ba(1/t)}),e.o.s(e.m,"pause",function(){e.u&&e.u.stop(),e.u=null,Yn(e)}),e.o.s(e.m,"seeked",function(){Yn(e)}),e.o.s(document,"visibilitychange",function(){Yn(e)})})}function $L(e){var t=e.G,n=[0,0,0],i=[1,0,0],r=[0,1,0],o=n[0],s=n[1];n=n[2];var a=r[0],u=r[1],l=r[2],c=i[0];r=i[1];var h=i[2];if(1e-6>Math.abs(o-c)&&1e-6>Math.abs(s-r)&&1e-6>Math.abs(n-h))for(o=0;16>o;o++)t[o]=o%5==0?1:0;else{i=o-c,r=s-r,c=n-h;var d=1/Math.sqrt(i*i+r*r+c*c);i*=d,r*=d,c*=d,h=u*c-l*r,l=l*i-a*c,a=a*r-u*i,(d=Math.sqrt(h*h+l*l+a*a))?(d=1/d,h*=d,l*=d,a*=d):a=l=h=0,u=r*a-c*l;var p=c*h-i*a,m=i*l-r*h;(d=Math.sqrt(u*u+p*p+m*m))?(d=1/d,u*=d,p*=d,m*=d):m=p=u=0,t[0]=h,t[1]=u,t[2]=i,t[3]=0,t[4]=l,t[5]=p,t[6]=r,t[7]=0,t[8]=a,t[9]=m,t[10]=c,t[11]=0,t[12]=-(h*o+l*s+a*n),t[13]=-(u*o+p*s+m*n),t[14]=-(i*o+r*s+c*n),t[15]=1}wp(e.L,e.G),e=t=e.Y,n=[4,4,4],o=n[0],s=n[1],n=n[2],t[0]=e[0]*o,t[1]=e[1]*o,t[2]=e[2]*o,t[3]=e[3]*o,t[4]=e[4]*s,t[5]=e[5]*s,t[6]=e[6]*s,t[7]=e[7]*s,t[8]=e[8]*n,t[9]=e[9]*n,t[10]=e[10]*n,t[11]=e[11]*n,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]}function JL(e){NE(e),e.g.viewport(0,0,e.g.drawingBufferWidth,e.g.drawingBufferHeight),e.g.clearColor(0,0,0,1),e.g.enable(e.g.CULL_FACE),e.g.cullFace(e.g.FRONT),e.g.clear(e.g.COLOR_BUFFER_BIT)}function QL(e){var t=DE(e,e.g.VERTEX_SHADER),n=DE(e,e.g.FRAGMENT_SHADER);e.j=e.g.createProgram(),e.g.attachShader(e.j,t),e.g.attachShader(e.j,n),e.g.linkProgram(e.j),e.C=="cubemap"?(e.S=e.g.getAttribLocation(e.j,"aVertexPosition"),e.P=e.g.getAttribLocation(e.j,"aTextureCoord")):(e.S=e.g.getAttribLocation(e.j,"a_vPosition"),e.g.enableVertexAttribArray(e.S),e.P=e.g.getAttribLocation(e.j,"a_TexCoordinate"),e.g.enableVertexAttribArray(e.P))}function DE(e,t){switch(t){case e.g.VERTEX_SHADER:var n=e.C=="cubemap"?`attribute vec4 aVertexPosition;
attribute vec2 aTextureCoord;
uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
varying highp vec2 vTextureCoord;
varying highp vec3 vLighting;
void main(void) {
  gl_Position = uProjectionMatrix * uModelViewMatrix * aVertexPosition;
  vTextureCoord = aTextureCoord;
}`:`attribute vec4 a_vPosition;
// Per-vertex texture coordinate info
attribute vec2 a_TexCoordinate;
uniform mat4 u_VPMatrix;
// Passed into the fragment shader.
varying vec2 v_TexCoordinate;
varying vec3 pass_position;
void main()
{
 gl_Position = u_VPMatrix * a_vPosition;
 // Pass through texture coord
 v_TexCoordinate = a_TexCoordinate;
 pass_position = a_vPosition.xyz;
}`;break;case e.g.FRAGMENT_SHADER:n=e.C=="cubemap"?`varying highp vec2 vTextureCoord;
uniform sampler2D uSampler;
void main(void) {
  highp vec4 texelColor = texture2D(uSampler, vTextureCoord);
  gl_FragColor = vec4(texelColor.rgb , texelColor.a);
}`:`precision highp float;
#define PI 3.141592653589793238462643383279
varying vec2 v_TexCoordinate;
varying vec3 pass_position;
uniform sampler2D uSampler;
void main(void) {
highp float xValue =
      (PI + atan(pass_position.z, pass_position.x)) / (2.0 * PI);
 vec2 tc = vec2(xValue, v_TexCoordinate.t);
 tc = vec2(tc.x , tc.y);
highp vec4 texelColor =
      texture2D(uSampler, tc);
  gl_FragColor = vec4(texelColor.rgb, texelColor.a);
}`;break;default:return null}return t=e.g.createShader(t),e.g.shaderSource(t,n),e.g.compileShader(t),t}function ZL(e){if(e.C=="cubemap")var t={Ii:[-1,-1,-1,-1,-1,1,-1,1,1,-1,1,-1,-1,1,-1,-1,1,1,1,1,1,1,1,-1,-1,-1,1,1,-1,1,1,1,1,-1,1,1,1,-1,-1,1,1,-1,1,1,1,1,-1,1,-1,-1,-1,1,-1,-1,1,-1,1,-1,-1,1,-1,-1,-1,-1,1,-1,1,1,-1,1,-1,-1],Fi:[2/3,.5,1/3,.5,1/3,0,2/3,0,2/3,.5,2/3,0,1,0,1,.5,1,1,2/3,1,2/3,.5,1,.5,0,.5,0,0,1/3,0,1/3,.5,0,.5,1/3,.5,1/3,1,0,1,1/3,1,1/3,.5,2/3,.5,2/3,1],indices:[0,1,2,0,2,3,4,5,6,4,6,7,8,9,10,8,10,11,12,13,14,12,14,15,16,17,18,16,18,19,20,21,22,20,22,23]};else{t=[];for(var n=[],i=[],r=0;100>=r;r++){var o=r/100,s=o*Math.PI,a=Math.sin(s);s=Math.cos(s);for(var u=0;100>=u;u++){var l=u/100,c=l*Math.PI*2;t.push(-1*Math.cos(c)*a,s,Math.sin(c)*a),n.push(l),n.push(o)}}for(r=0;100>r;r++)for(o=0;100>o;o++)a=101*r+o,s=a+1,u=101*(r+1)+o,l=u+1,i.push(a,u,s),i.push(s,u,l);t={Ii:t,Fi:n,indices:i}}e.K=t,e.aa=e.g.createBuffer(),e.g.bindBuffer(e.g.ARRAY_BUFFER,e.aa),e.g.bufferData(e.g.ARRAY_BUFFER,new Float32Array(e.K.Ii),e.g.STATIC_DRAW),e.ka=e.g.createBuffer(),e.g.bindBuffer(e.g.ARRAY_BUFFER,e.ka),e.g.bufferData(e.g.ARRAY_BUFFER,new Float32Array(e.K.Fi),e.g.STATIC_DRAW),e.ha=e.g.createBuffer(),e.g.bindBuffer(e.g.ELEMENT_ARRAY_BUFFER,e.ha),e.g.bufferData(e.g.ELEMENT_ARRAY_BUFFER,new Uint16Array(e.K.indices),e.g.STATIC_DRAW)}function eP(e){e.$=e.g.createTexture(),e.g.bindTexture(e.g.TEXTURE_2D,e.$),e.g.texParameteri(e.g.TEXTURE_2D,e.g.TEXTURE_WRAP_S,e.g.CLAMP_TO_EDGE),e.g.texParameteri(e.g.TEXTURE_2D,e.g.TEXTURE_WRAP_T,e.g.CLAMP_TO_EDGE),e.g.texParameteri(e.g.TEXTURE_2D,e.g.TEXTURE_MIN_FILTER,e.g.NEAREST),e.g.texParameteri(e.g.TEXTURE_2D,e.g.TEXTURE_MAG_FILTER,e.g.NEAREST)}function Yn(e,t){t=t===void 0?!0:t;var n=e.na.sc()==Ct;!e.m||2>e.m.readyState||!n&&e.m.playbackRate==0||(Ap(e.I,e.i*Math.PI/180,1.5625),e.C=="cubemap"?Ap(e.I,e.i*Math.PI/180,2.5):Ap(e.I,e.i*Math.PI/180,1.5625),e.g.useProgram(e.j),e.g.clear(e.g.COLOR_BUFFER_BIT),NE(e),t&&(e.g.activeTexture(e.g.TEXTURE0),e.g.bindTexture(e.g.TEXTURE_2D,e.$),e.g.pixelStorei(e.g.UNPACK_PREMULTIPLY_ALPHA_WEBGL,0),e.g.texImage2D(e.g.TEXTURE_2D,0,e.g.RGBA,e.g.RGBA,e.g.UNSIGNED_BYTE,e.m)),e.C=="equirectangular"&&(gc(e.N,e.G,e.Y),gc(e.N,e.I,e.N)),e.g.bindBuffer(e.g.ARRAY_BUFFER,e.aa),e.g.vertexAttribPointer(e.S,3,e.g.FLOAT,!1,0,0),e.g.enableVertexAttribArray(e.S),e.g.bindBuffer(e.g.ARRAY_BUFFER,e.ka),e.g.vertexAttribPointer(e.P,2,e.g.FLOAT,!1,0,0),e.g.enableVertexAttribArray(e.P),e.g.bindBuffer(e.g.ELEMENT_ARRAY_BUFFER,e.ha),e.C=="cubemap"?(e.g.uniformMatrix4fv(e.g.getUniformLocation(e.j,"uProjectionMatrix"),!1,e.I),e.g.uniformMatrix4fv(e.g.getUniformLocation(e.j,"uModelViewMatrix"),!1,e.N)):e.g.uniformMatrix4fv(e.g.getUniformLocation(e.j,"u_VPMatrix"),!1,e.N),e.g.uniform1i(e.g.getUniformLocation(e.j,"uSampler"),0),e.O&&e.g.viewport(0,0,e.l.width/2,e.l.height),e.g.drawElements(e.g.TRIANGLES,e.K.indices.length,e.g.UNSIGNED_SHORT,0),e.O&&(e.g.viewport(e.l.width/2,0,e.l.width/2,e.l.height),e.g.drawElements(e.g.TRIANGLES,e.K.indices.length,e.g.UNSIGNED_SHORT,0)))}function NE(e){var t=e.m.videoWidth;t||(t=e.l.scrollWidth);var n=e.m.videoHeight;if(n||(n=e.l.scrollHeight),e.Ca!==t||e.ra!==n){e.l.width=t,e.l.height=n,e.Ca=t,e.ra=n;var i=t/n,r=e.I,o=-i,s=1/(i-o);r[0]=0*s,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=0,r[6]=0,r[7]=0,r[8]=(i+o)*s,r[9]=0,r[10]=-1,r[11]=-1,r[12]=0,r[13]=0,r[14]=-0,r[15]=0,e.I=r,e.g.viewport(0,0,t,n)}}function Xo(e,t,n,i){var r=90*Math.PI/180,o=e.C=="cubemap"?e.N:e.G,s=Math.sin(t);t=Math.cos(t);var a=o[0],u=o[1],l=o[2],c=o[3],h=o[8],d=o[9],p=o[10],m=o[11];o!==o&&(o[4]=o[4],o[5]=o[5],o[6]=o[6],o[7]=o[7],o[12]=o[12],o[13]=o[13],o[14]=o[14],o[15]=o[15]),o[0]=a*t-h*s,o[1]=u*t-d*s,o[2]=l*t-p*s,o[3]=c*t-m*s,o[8]=a*s+h*t,o[9]=u*s+d*t,o[10]=l*s+p*t,o[11]=c*s+m*t,e.H+=n,e.H<r&&e.H>-r?(r=Ui(),s=Ui(),t=-1*n,n=Math.sin(t),t=Math.cos(t),a=s[4],u=s[5],l=s[6],c=s[7],h=s[8],d=s[9],p=s[10],m=s[11],s!==r&&(r[0]=s[0],r[1]=s[1],r[2]=s[2],r[3]=s[3],r[12]=s[12],r[13]=s[13],r[14]=s[14],r[15]=s[15]),r[4]=a*t+h*n,r[5]=u*t+d*n,r[6]=l*t+p*n,r[7]=c*t+m*n,r[8]=h*t-a*n,r[9]=d*t-u*n,r[10]=p*t-l*n,r[11]=m*t-c*n,gc(o,r,o)):e.H-=n,n=Ui(),r=Ui(),s=Math.sin(i),i=Math.cos(i),t=r[0],a=r[1],u=r[2],l=r[3],c=r[4],h=r[5],d=r[6],p=r[7],r!==n&&(n[8]=r[8],n[9]=r[9],n[10]=r[10],n[11]=r[11],n[12]=r[12],n[13]=r[13],n[14]=r[14],n[15]=r[15]),n[0]=t*i+c*s,n[1]=a*i+h*s,n[2]=u*i+d*s,n[3]=l*i+p*s,n[4]=c*i-t*s,n[5]=h*i-a*s,n[6]=d*i-u*s,n[7]=p*i-l*s,gc(o,n,o),Yn(e,!1)}function Cp(e,t){(t===void 0||t)&&(wp(e.h,e.G),e.V=0,e.A=xp(),e.A[0]=(e.h[0]-e.L[0])/20,e.A[1]=(e.h[1]-e.L[1])/20,e.A[2]=(e.h[2]-e.L[2])/20,e.A[3]=(e.h[3]-e.L[3])/20),e.h[0]-=e.A[0],e.h[1]-=e.A[1],e.h[2]-=e.A[2],e.h[3]-=e.A[3],t=Ui(),XL(e.h,e.h),PE(t,e.h),e.G=t,e.J&&(e.J.stop(),e.J=null),20>e.V?e.J=new oe(function(){Cp(e,!1),e.H=0,e.V++,Yn(e,!1)}).X(.025):(PE(t,e.L),e.G=t)}function Mp(e,t,n,i,r){Se.call(this);var o=this;this.i=e,this.m=t,this.L=n,this.K=i,this.u=r,this.o=new Ae,this.h=new Ae,this.G=tP(this),this.g=null,this.j=!1,this.J=this.I=this.H=this.C=this.A=0,this.l=null,this.o.s(i,"loading",function(){o.g&&Cp(o.g),Yo(o)}),this.o.s(i,"spatialvideoinfo",function(s){switch(s.detail.projection){case"hequ":o.l="equirectangular";break;case"fish":o.l="equirectangular";break;default:o.l=null}Yo(o)}),this.o.s(i,"nospatialvideoinfo",function(){o.l=null,Yo(o)}),this.o.s(i,"unloading",function(){o.l=null,Yo(o)}),Yo(this)}pe(Mp,Se),f=Mp.prototype,f.release=function(){this.o&&(this.o.release(),this.o=null),this.h&&(this.h.release(),this.h=null),this.g&&(this.g.release(),this.g=null),Se.prototype.release.call(this)},f.configure=function(e){this.u=e,Yo(this)},f.Jf=function(){return!!this.G},f.Lb=function(){return!!this.g},f.Bd=function(){this.g?this.g.Bd():de("Not playing VR content")},f.sg=function(e){this.g?Xo(this.g,e*Nr,0,0):de("Not playing VR content")},f.qg=function(e){this.g?Xo(this.g,0,e*Nr,0):de("Not playing VR content")},f.rg=function(e){this.g?Xo(this.g,0,0,e*Nr):de("Not playing VR content")};function Yo(e){if(e.m)if(e.u.displayInVrMode||e.l){var t=e.l||e.u.defaultVrProjectionMode;e.g?e.g.C!=t&&(e.h.Za(),e.g.release(),_E(e,t)):(e.m.style.display="",_E(e,t),e.dispatchEvent(new V("vrstatuschanged",new Map().set("newStatus",e.Lb()))))}else e.u.displayInVrMode||e.l||!e.g||(e.m.style.display="none",e.h.Za(),e.g.release(),e.g=null,e.dispatchEvent(new V("vrstatuschanged",new Map().set("newStatus",e.Lb()))))}function _E(e,t){e.G&&e.m&&(e.g=new Ip(e.L,e.K,e.m,e.G,t),nP(e))}function tP(e){if(!e.m||oh())return null;for(var t=g(["webgl2","webgl"]),n=t.next();!n.done;n=t.next())if(n=e.m.getContext(n.value))return n;return null}function nP(e){e.h.s(e.i,"mousedown",function(i){if(!e.j){var r=i.clientX;i=i.clientY,e.j=!0,e.A=r,e.C=i}}),0<navigator.maxTouchPoints&&e.h.s(e.i,"touchstart",function(i){if(!e.j){var r=i.touches[0].clientX;i=i.touches[0].clientY,e.j=!0,e.A=r,e.C=i}}),e.h.s(e.i,"wheel",function(i){if(!e.j){var r=e.g,o=i.deltaY;o/=50,20<=r.i&&100>=r.i&&(r.i+=o),20>r.i?r.i=20:100<r.i&&(r.i=100),Yn(r,!1),i.preventDefault(),i.stopPropagation()}}),e.h.s(e.i,"mousemove",function(i){e.j&&UE(e,i.clientX,i.clientY)}),0<navigator.maxTouchPoints&&e.h.s(e.i,"touchmove",function(i){e.j&&UE(e,i.touches[0].clientX,i.touches[0].clientY),i.preventDefault()}),e.h.s(e.i,"mouseleave",function(){e.j=!1}),e.h.s(e.i,"mouseup",function(){e.j=!1}),0<navigator.maxTouchPoints&&e.h.s(e.i,"touchend",function(){e.j=!1});var t=!1;if(O.DeviceOrientationEvent)if(typeof DeviceMotionEvent.requestPermission=="function"){var n=function(){DeviceMotionEvent.requestPermission().then(function(i){i!=="granted"||t||(t=!0,kp(e))})};DeviceMotionEvent.requestPermission().then(function(i){e.h.Ma(e.i,"click",n),e.h.Ma(e.i,"mouseup",n),0<navigator.maxTouchPoints&&e.h.Ma(e.i,"touchend",n),i!=="granted"?(e.h.sa(e.i,"click",n),e.h.sa(e.i,"mouseup",n),0<navigator.maxTouchPoints&&e.h.sa(e.i,"touchend",n)):(t=!0,kp(e))}).catch(function(){e.h.Ma(e.i,"click",n),e.h.Ma(e.i,"mouseup",n),0<navigator.maxTouchPoints&&e.h.Ma(e.i,"touchend",n),e.h.sa(e.i,"click",n),e.h.sa(e.i,"mouseup",n),0<navigator.maxTouchPoints&&e.h.sa(e.i,"touchend",n)})}else t=!0,kp(e)}function kp(e){e.h.s(O,"deviceorientation",function(t){var n=(t.alpha||0)-e.H,i=(t.beta||0)-e.I,r=(t.gamma||0)-e.J;(10<Math.abs(n)||10<Math.abs(i)||5<Math.abs(r))&&(i=r=n=0),e.H=t.alpha||0,e.I=t.beta||0,e.J=t.gamma||0,t=screen.orientation.angle,t==90||t==-90?Xo(e.g,n*Nr*-1,r*Nr*-1,0):Xo(e.g,n*Nr*-1,i*Nr,0)})}function UE(e,t,n){var i=-.6*Math.PI/180;Xo(e.g,(t-e.A)*i,-1*(n-e.C)*i,0),e.A=t,e.C=n}var Nr=Math.PI/180;function K(e,t,n,i,r){Se.call(this);var o=this;this.$=!0,this.g=r,this.G=new nt(n,e,this.g.castReceiverAppId,this.g.castAndroidReceiverCompatible),this.ra=!0,this.A=this.G.wc(),this.o=n,this.C=this.G.ld(),this.aa=e,this.l=t,this.Mb=i,this.na=this.C.ye(),this.m=this.i=null,this.Y=!1,this.K=[],this.bb=[],this.Ta=!1,this.S=new oe(function(){o.l.classList.add("no-cursor"),o.Ta=!1,$n(o)}),this.ha=new oe(function(){o.h.removeAttribute("shown"),o.O.X(2)}),this.O=new oe(function(){for(var s=g(o.K),a=s.next();!a.done;a=s.next())re(a.value,!1)}),this.Da=new oe(function(){o.xc()&&yc(o)}),this.J=null,this.I=[],this.ya=AP(),this.j=new Ae,this.u=null,this.configure(this.g),gP(this),mP(this),this.ka=new Set,Rp(this),this.Da.Ba(this.g.refreshTickInSeconds),this.j.s(this.ya,"locale-changed",function(s){o.na.setLocale(s.locales[0])}),this.na.initInterstitial(this.H,this.aa,this.o)}pe(K,Se),f=K.prototype,f.destroy=function(){var e=this;return k(function(t){switch(t.g){case 1:if(document.pictureInPictureElement!=e.o){t.B(2);break}return T(t,document.exitPictureInPicture(),2);case 2:if(e.j&&(e.j.release(),e.j=null),e.S&&(e.S.stop(),e.S=null),e.ha&&(e.ha.stop(),e.ha=null),e.O&&(e.O.stop(),e.O=null),e.Da&&(e.Da.stop(),e.Da=null),e.u&&(e.u.release(),e.u=null),OE(e),e.h&&(e.l.removeChild(e.h),e.h=null),!e.G){t.B(4);break}return T(t,e.G.destroy(),5);case 5:e.G=null;case 4:if(e.L&&(e.l.removeChild(e.L),e.L=null),e.H&&(e.l.removeChild(e.H),e.H=null),!e.aa){t.B(6);break}return T(t,e.aa.destroy(),7);case 7:e.aa=null;case 6:e.C=null,e.o=null,e.A=null,e.ya=null,e.ka.clear(),vP(e),Se.prototype.release.call(e),H(t)}})};function OE(e){for(var t=g(e.I),n=t.next();!n.done;n=t.next())n.value.release();e.I=[]}function ft(e,t){Lp.set(e,t)}f.Ti=function(e){this.ra=e,Rp(this)},f.Xj=function(){$n(this)},f.configure=function(e){this.g=e,this.G.vh(e.castReceiverAppId,e.castAndroidReceiverCompatible),this.m&&(this.m=null),this.Ja&&(this.Ja=null),this.Ia&&(this.Ia=null),this.u&&this.u.configure(e),this.h?(ni(this.h),OE(this)):(oP(this),pP(this),this.u=new Mp(this.h,this.Mb,this.o,this.C,this.g)),this.l.classList.add("shaka-video-container"),this.o.classList.add("shaka-video"),aP(this),this.g.addBigPlayButton&&sP(this),this.g.customContextMenu&&(this.Ia=new Na(this.V,this),this.I.push(this.Ia)),this.L||lP(this),this.g.seekOnTaps&&(cP(this),hP(this)),this.Ha=z("div"),this.Ha.classList.add("shaka-server-side-ad-container"),this.h.appendChild(this.Ha),dP(this),this.K=Array.from(this.l.getElementsByClassName("shaka-settings-menu")),this.K.push.apply(this.K,X(Array.from(this.l.getElementsByClassName("shaka-overflow-menu")))),fP(this),this.bb=Array.from(this.l.getElementsByClassName("shaka-show-controls-on-mouse-over")),$n(this),e=g(this.l.getElementsByClassName("shaka-no-propagation"));for(var t=e.next();!t.done;t=e.next()){t=t.value;var n=function(i){return i.stopPropagation()};this.j.s(t,"click",n),this.j.s(t,"dblclick",n)}},f.Wg=function(e){(this.$=e)?(this.l.setAttribute("shaka-controls","true"),this.o.tabIndex=-1,this.o.controls=!1):this.l.removeAttribute("shaka-controls"),$n(this)},f.oi=function(e){this.o.controls=e,this.o.tabIndex=e?0:-1,e&&this.Wg(!1)},f.getAd=function(){return this.i},f.dj=function(){return this.G},f.rj=function(){return this.ya},f.Jj=function(){return this.l},f.wc=function(){return this.A},f.qj=function(){return this.o},f.ld=function(){return this.C},f.pj=function(){return this.aa},f.hj=function(){return this.h},f.Aj=function(){return this.Ha},f.ej=function(){return this.H},f.fj=function(){return this.g},f.Uj=function(){return this.Y},f.$g=function(e){this.Y=e},f.Pj=function(){return this.ra},f.kg=function(){return this.m?this.m.getValue():this.A.currentTime},f.ri=function(e){this.J=e},f.Cd=function(){return this.K.some(function(e){return!e.classList.contains("shaka-hidden")})},f.Nc=function(){this.O.Sa()},f.Pd=function(){return!!(document.fullscreenEnabled||this.o.webkitSupportsFullscreen)},f.nd=function(){if(document.fullscreenEnabled)return!!document.fullscreenElement;var e=this.o;return e.webkitSupportsFullscreen?e.webkitDisplayingFullscreen:!1};function jE(e){var t,n,i;return k(function(r){switch(r.g){case 1:if(Z(r,2),!document.fullscreenEnabled){t=e.o,t.webkitSupportsFullscreen&&t.webkitEnterFullscreen(),r.B(4);break}if(!document.pictureInPictureElement){r.B(5);break}return T(r,document.exitPictureInPicture(),5);case 5:return n=e.g.fullScreenElement,T(r,n.requestFullscreen({navigationUI:"hide"}),7);case 7:if(!e.g.forceLandscapeOnFullscreen||!screen.orientation){r.B(4);break}return Z(r,9),T(r,screen.orientation.lock("landscape"),11);case 11:he(r,4,2);break;case 9:ee(r,2);case 4:he(r,0);break;case 2:i=ee(r),e.dispatchEvent(new V("error",new Map().set("detail",i))),H(r)}})}function bE(e){var t;return k(function(n){return document.fullscreenEnabled?(screen.orientation&&screen.orientation.unlock(),T(n,document.exitFullscreen(),0)):(t=e.o,t.webkitSupportsFullscreen&&t.webkitExitFullscreen(),n.B(0))})}f.lf=function(){var e=this;return k(function(t){return e.nd()?T(t,bE(e),0):T(t,jE(e),0)})},f.Ie=function(){return this.G.Ra()?!1:"documentPictureInPicture"in O&&this.g.preferDocumentPictureInPicture||document.pictureInPictureEnabled?!this.o.disablePictureInPicture:!1},f.Je=function(){return"documentPictureInPicture"in O&&this.g.preferDocumentPictureInPicture?!!O.documentPictureInPicture.window:!!document.pictureInPictureElement},f.zd=function(){var e=this,t,n;return k(function(i){if(i.g==1)return Z(i,2),"documentPictureInPicture"in O&&e.g.preferDocumentPictureInPicture?T(i,iP(e),5):document.pictureInPictureElement?T(i,document.exitPictureInPicture(),5):(document.fullscreenElement&&document.exitFullscreen(),t=e.o,T(i,t.requestPictureInPicture(),5));if(i.g!=2)return he(i,0);n=ee(i),e.dispatchEvent(new V("error",new Map().set("detail",n))),H(i)})};function iP(e){var t,n,i,r,o,s;return k(function(a){if(a.g==1)return O.documentPictureInPicture.window?(O.documentPictureInPicture.window.close(),a.return()):(t=e.l,n=t.getBoundingClientRect(),T(a,O.documentPictureInPicture.requestWindow({width:n.width,height:n.height}),2));i=a.h,rP(i),r=t.parentNode||document.body,o=e.l.cloneNode(!0),o.style.visibility="hidden",o.style.height=getComputedStyle(t).height,r.appendChild(o),s=document.createElement("style"),s.append(`[data-shaka-player-container] {
      width: 100% !important; max-height: 100%}`),i.document.head.append(s),i.document.body.append(t),e.j.sa(i,"pagehide",function(){o.replaceWith(t)}),H(a)})}function rP(e){var t=[].concat(X(document.styleSheets)).map(function(i){try{return[].concat(X(i.cssRules)).map(function(o){return o.cssText}).join("")}catch{var r=document.createElement("link");r.rel="stylesheet",r.type=i.type,r.media=i.media,r.href=i.href,e.document.head.appendChild(r)}return""}).filter(Boolean).join(`
`),n=document.createElement("style");n.textContent=t,e.document.head.appendChild(n)}f.zi=function(){re(this.N,!0),re(this.H,!0),this.h.setAttribute("ad-active","true")},f.Mh=function(){re(this.N,!1),re(this.H,!1),this.h.removeAttribute("ad-active")};function FE(e){e.$&&e.A.duration&&(e.C.cd(),e.A.paused&&!e.Y?e.A.play():e.A.pause())}function BE(e){e.i&&e.i.isPaused()?e.i.play():e.i&&e.i.pause()}function oP(e){e.h=z("div"),e.h.classList.add("shaka-controls-container"),e.l.appendChild(e.h),e.l.setAttribute("shaka-controls","true"),e.j.s(e.h,"touchstart",function(t){e.A.duration&&(e.xc()?e.J=Date.now():($o(e,t),t.cancelable&&t.preventDefault()))},{passive:!1}),e.j.s(e.h,"click",function(){GE(e)}),e.j.s(e.h,"dblclick",function(){e.g.doubleClickForFullscreen&&e.Pd()&&e.lf()})}function sP(e){var t=z("div");t.classList.add("shaka-play-button-container"),e.h.appendChild(t),e.Ja=new _a(t,e),e.I.push(e.Ja)}function aP(e){var t=z("div");t.classList.add("shaka-scrim-container"),e.h.appendChild(t)}function uP(e){e.N=z("div"),e.N.classList.add("shaka-ad-controls");var t=e.i!=null&&e.i.isLinear();re(e.N,t),e.P.appendChild(e.N),t=new pp(e.N,e),e.I.push(t),t=new cc(e.N,e),e.I.push(t),t=new pc(e.N,e),e.I.push(t)}function lP(e){e.L=z("div"),e.L.classList.add("shaka-spinner-container"),e.l.appendChild(e.L);var t=z("div");t.classList.add("shaka-spinner"),e.L.appendChild(t),e=document.createElementNS("http://www.w3.org/2000/svg","svg"),e.classList.add("shaka-spinner-svg"),e.setAttribute("viewBox","0 0 30 30"),t.appendChild(e),t=document.createElementNS("http://www.w3.org/2000/svg","circle"),t.classList.add("shaka-spinner-path"),t.setAttribute("cx","15"),t.setAttribute("cy","15"),t.setAttribute("r","14.5"),t.setAttribute("fill","none"),t.setAttribute("stroke-width","1"),t.setAttribute("stroke-miterlimit","10"),e.appendChild(t)}function cP(e){var t=z("div");t.classList.add("shaka-hidden-fast-forward-container"),e.h.appendChild(t),e.hb=new gp(t,e),e.I.push(e.hb)}function hP(e){var t=z("div");t.classList.add("shaka-hidden-rewind-container"),e.h.appendChild(t),e.Kb=new mp(t,e),e.I.push(e.Kb)}function dP(e){e.P=z("div"),e.P.classList.add("shaka-bottom-controls"),e.P.classList.add("shaka-no-propagation"),e.h.appendChild(e.P),e.j.s(e.P,"click",function(i){i.target.closest(".shaka-overflow-button")||e.Nc()}),uP(e),e.V=z("div"),e.V.classList.add("shaka-controls-button-panel"),e.V.classList.add("shaka-show-controls-on-mouse-over"),e.g.enableTooltips&&e.V.classList.add("shaka-tooltips-on"),e.P.appendChild(e.V);for(var t=g(e.g.controlPanelElements),n=t.next();!n.done;n=t.next())n=n.value,Lp.get(n)?(n=Lp.get(n).create(e.V,e),e.I.push(n)):de("Unrecognized control panel element requested:",n)}function fP(e){if(e.g.addSeekBar)e.m=VE.create(e.P,e),e.I.push(e.m);else{e=g(e.K);for(var t=e.next();!t.done;t=e.next())t.value.classList.add("shaka-low-position")}}function pP(e){e.H=z("div"),e.H.classList.add("shaka-client-side-ad-container"),re(e.H,!1),e.j.s(e.H,"click",function(){GE(e)}),e.l.appendChild(e.H)}function gP(e){e.j.s(e.C,"buffering",function(){vc(e)}),vc(e),e.j.s(O,"keydown",function(t){SP(e,t)}),e.j.s(O,"click",function(){return e.Nc()}),e.j.s(e,"submenuopen",function(){e.Nc()}),e.j.s(e.A,"play",function(){$n(e)}),e.j.s(e.A,"pause",function(){$n(e)}),e.j.s(e.l,"mousemove",function(t){$o(e,t)}),e.j.s(e.l,"touchmove",function(t){$o(e,t)},{passive:!0}),e.j.s(e.l,"touchend",function(t){$o(e,t)},{passive:!0}),e.j.s(e.l,"mouseleave",function(){e.J||e.S.Sa()}),e.j.s(e.G,"caststatuschanged",function(){Rp(e)}),e.j.s(e.u,"vrstatuschanged",function(){e.dispatchEvent(new V("vrstatuschanged"))}),e.j.s(e.l,"keydown",function(t){var n=document.activeElement,i=n&&n.classList?n.classList.contains("shaka-volume-bar"):!1,r=n&&n.classList&&n.classList.contains("shaka-seek-bar");if(e.h.contains(n)&&$o(e,t),e.g.enableKeyboardPlaybackControls){n=e.g.keyboardSeekDistance;var o=e.g.keyboardLargeSeekDistance;switch(t.key){case"ArrowLeft":e.m&&r&&!i&&0<n&&(t.preventDefault(),Oi(e,e.m.getValue()-n));break;case"ArrowRight":e.m&&r&&!i&&0<n&&(t.preventDefault(),Oi(e,e.m.getValue()+n));break;case"PageDown":e.m&&r&&0<n&&(t.preventDefault(),Oi(e,e.m.getValue()-o));break;case"PageUp":e.m&&r&&0<n&&(t.preventDefault(),Oi(e,e.m.getValue()+o));break;case"Home":e.m&&Oi(e,e.C.Ga().start);break;case"End":e.m&&Oi(e,e.C.Ga().end);break;case"f":e.Pd()&&e.lf();break;case"m":e.i&&e.i.isLinear()?e.i.setMuted(!e.i.isMuted()):e.o.muted=!e.o.muted;break;case"p":e.Ie()&&e.zd();break;case" ":r&&mc(e)}}}),e.j.s(e.l,"keyup",function(t){e.ka.delete(t.key)}),e.j.s(e.na,"ad-started",function(t){e.i=t.ad,e.zi(),vc(e)}),e.j.s(e.na,"ad-stopped",function(){e.i=null,e.Mh(),vc(e)}),screen.orientation&&e.j.s(screen.orientation,"change",function(){return k(function(t){return T(t,yP(e),0)})})}function mP(e){if(e.g.setupMediaSession&&navigator.mediaSession){var t=function(i,r){try{navigator.mediaSession.setActionHandler(i,function(o){r(o)})}catch{}},n=function(i){var r=e.g.keyboardSeekDistance,o=e.C.Ga();switch(i.action){case"pause":mc(e);break;case"play":mc(e);break;case"seekbackward":e.i&&e.i.isLinear()||Oi(e,e.m.getValue()-(i.seekOffset||r));break;case"seekforward":e.i&&e.i.isLinear()||Oi(e,e.m.getValue()+(i.seekOffset||r));break;case"seekto":e.i&&e.i.isLinear()||Oi(e,o.start+i.seekTime);break;case"stop":e.C.nc();break;case"enterpictureinpicture":e.i&&e.i.isLinear()||e.zd()}};t("pause",n),t("play",n),t("seekbackward",n),t("seekforward",n),t("seekto",n),t("stop",n),("documentPictureInPicture"in O||document.pictureInPictureEnabled)&&t("enterpictureinpicture",n),e.j.s(e.A,"timeupdate",function(){var i=e.C.Ga(),r=i.end-i.start;i=parseFloat((e.A.currentTime-i.start).toFixed(2)),e.C.T()&&1>Math.abs(r-i)&&(r=1/0);try{e.i&&e.i.isLinear()?navigator.mediaSession.setPositionState():navigator.mediaSession.setPositionState({duration:Math.max(0,r),playbackRate:e.A.playbackRate,position:Math.max(0,i)})}catch{}}),e.j.s(e.C,"metadata",function(i){if(i=i.payload){var r;i.key=="TIT2"&&i.data&&(r=i.data);var o;i.key=="APIC"&&i.mimeType=="-->"&&(o=i.data),navigator.mediaSession.metadata&&r&&(i=navigator.mediaSession.metadata,i.title=r,navigator.mediaSession.metadata=new MediaMetadata(i)),o&&(r=e.o,o!=r.poster&&(r.poster=o),navigator.mediaSession.metadata&&(r=navigator.mediaSession.metadata,r.artwork=[{src:o}],navigator.mediaSession.metadata=new MediaMetadata(r)))}})}}function vP(e){if(e.g.setupMediaSession&&navigator.mediaSession){try{navigator.mediaSession.setPositionState()}catch{}e=function(t){try{navigator.mediaSession.setActionHandler(t,null)}catch{}},e("pause"),e("play"),e("seekbackward"),e("seekforward"),e("seekto"),e("stop"),e("enterpictureinpicture")}}function yP(e){return k(function(t){return e.A&&e.A.readyState!=0&&!e.G.Ra()&&e.g.enableFullscreenOnRotation&&e.Pd()?screen.orientation.type.includes("landscape")&&!e.nd()?T(t,jE(e),0):screen.orientation.type.includes("portrait")&&e.nd()?T(t,bE(e),0):t.B(0):t.return()})}function $o(e,t){t.type=="mousemove"&&(e.h.classList.remove("shaka-keyboard-navigation"),$n(e)),t.type=="touchstart"||t.type=="touchmove"||t.type=="touchend"||t.type=="keyup"?e.J=Date.now():e.J+1e3<Date.now()&&(e.J=null),e.J&&t.type=="mousemove"||(e.l.classList.remove("no-cursor"),e.Ta=!0,e.O.stop(),e.xc()||(yc(e),$n(e)),e.S.stop(),t.type!="touchend"&&t.type!="keyup"&&e.J||e.S.X(3))}function TP(e){return O.matchMedia("hover: hover").matches?e.bb.some(function(t){return t.matches(":hover")}):!1}function $n(e){var t=e.i?e.i.isPaused():!1,n=e.A.paused&&!e.Y,i=e.h.classList.contains("shaka-keyboard-navigation");t||(!e.i||!e.i.isLinear())&&n||e.Ta||i||TP(e)?(yc(e),e.h.setAttribute("shown","true"),e.ha.stop()):e.ha.X(e.g.fadeDelay)}function GE(e){e.$&&!e.Lb()&&(e.Cd()?e.O.Sa():e.g.singleClickForPlayAndPause&&mc(e))}function mc(e){e.i&&e.i.isLinear()?BE(e):FE(e)}function Rp(e){var t=e.G.Ra();e.dispatchEvent(new V("caststatuschanged",new Map().set("newStatus",t))),t?e.h.setAttribute("casting","true"):e.h.removeAttribute("casting")}function vc(e){e.$&&(e.i&&e.i.isClientRendering()&&e.i.isLinear()?re(e.L,!1):re(e.L,e.C.He()))}f.xc=function(){return this.$?this.h.getAttribute("shown")!=null||this.h.getAttribute("casting")!=null:!1};function Oi(e,t){e.m.changeTo(t),e.xc()&&yc(e)}function yc(e){if(e.m)if(e.m.setValue(e.A.currentTime),e.m.update(),e.m.isShowing())for(var t=g(e.K),n=t.next();!n.done;n=t.next())n.value.classList.remove("shaka-low-position");else for(t=g(e.K),n=t.next();!n.done;n=t.next())n.value.classList.add("shaka-low-position");e.dispatchEvent(new V("timeandseekrangeupdated"))}function SP(e,t){e.ka.add(t.key);var n=e.Cd();t.key=="Tab"&&(e.h.classList.add("shaka-keyboard-navigation"),$n(e),e.j.s(O,"mousedown",function(){e.j.Ma(O,"mousedown")})),t.key=="Escape"&&e.O.Sa(),n&&e.ka.has("Tab")&&EP(e,t)}function EP(e,t){var n=e.K.filter(function(o){return!o.classList.contains("shaka-hidden")});if(n.length){var i=n[0];if(i.childNodes.length){for(n=i.firstElementChild;n&&n.classList.contains("shaka-hidden");)n=n.nextElementSibling;for(i=i.lastElementChild;i&&i.classList.contains("shaka-hidden");)i=i.previousElementSibling;var r=document.activeElement;e.ka.has("Shift")?r==n&&(t.preventDefault(),i.focus()):r==i&&(t.preventDefault(),n.focus())}}}f.Mk=function(){var e=new Event("mousemove",{bubbles:!1,cancelable:!1});$o(this,e)},f.Oj=function(){this.J||this.S.Sa()},f.Jf=function(){return this.u.Jf()},f.Lb=function(){return this.u.Lb()},f.Hj=function(){var e=this.u;if(e.g){e=e.g,wp(e.h,e.G);var t=e.h;e=t[0];var n=t[1],i=t[2];t=t[3];var r=i*i,o=t*t,s=e*e+n*n+r+o,a=e*t-n*i;a>.499995*s?(s=Math.PI/2,e=2*Math.atan2(n,e)):a<-.499995*s?(s=-Math.PI/2,e=2*Math.atan2(n,e)):(s=Math.asin(2*(e*i-t*n)),e=Math.atan2(2*(e*t+n*i),1-2*(r+o))),e=180*Math.acos(Math.cos(e)*Math.cos(s))/Math.PI}else de("Not playing VR content"),e=null;return e},f.Gj=function(){var e=this.u;return e.g?e=e.g.i:(de("Not playing VR content"),e=null),e},f.Lk=function(e){var t=this.u;t.g?(0>e?(de("Field of view should be greater than 0"),e=0):100<e&&(de("Field of view should be less than 100"),e=100),t=t.g,t.i=e,Yn(t,!1)):de("Not playing VR content")},f.Bd=function(){this.u.Bd()},f.sg=function(e){this.u.sg(e)},f.qg=function(e){this.u.qg(e)},f.rg=function(e){this.u.rg(e)};function AP(){var e=new lt("en");return e.Pa("ar",new Map([["AD_DURATION","مدة الإعلان"],["AD_PROGRESS","الإعلان [AD_ON] من [NUM_ADS]"],["AD_STATISTICS","إحصاءات الإعلانات"],["AD_TIME","الإعلان: [AD_TIME]"],["AIRPLAY","AirPlay"],["AUTO_QUALITY","تلقائي"],["BACK","رجوع"],["CAPTIONS","الترجمة والشرح"],["CAST","إرسال..."],["CHAPTERS","الفصول"],["DOWNLOAD_VIDEO_FRAME","حفظ إطار الفيديو"],["ENTER_LOOP_MODE","تكرار الفيديو الحالي"],["ENTER_PICTURE_IN_PICTURE",'الدخول في وضع "نافذة ضمن نافذة"'],["EXIT_FULL_SCREEN","إنهاء وضع ملء الشاشة"],["EXIT_LOOP_MODE","إيقاف تكرار الفيديو الحالي"],["EXIT_PICTURE_IN_PICTURE",'الخروج من وضع "نافذة ضمن نافذة"'],["FAST_FORWARD","تقديم سريع"],["FULL_SCREEN","ملء الشاشة"],["LANGUAGE","اللغة"],["LIVE","مباشر"],["LOOP","تكرار"],["MORE_SETTINGS","مزيد من الإعدادات"],["MULTIPLE_LANGUAGES","لغات متعددة"],["MUTE","كتم الصوت"],["NOT_APPLICABLE","غير سارٍ"],["OFF","إيقاف"],["ON","تشغيل"],["PAUSE","إيقاف مؤقت"],["PICTURE_IN_PICTURE","نافذة ضمن النافذة"],["PLAY","التشغيل"],["PLAYBACK_RATE","سرعة التشغيل"],["QUALITY","الجودة"],["RECENTER_VR","إعادة التوسيط"],["REPLAY","إعادة التشغيل"],["RESOLUTION","درجة الدقة"],["REWIND","ترجيع"],["SEEK","البحث بالتمرير"],["SKIP_AD","تخطّي الإعلان"],["SKIP_TO_LIVE","الانتقال إلى بث مباشر"],["STATISTICS","الإحصاءات"],["SUBTITLE_FORCED","عرض إجباري"],["SURROUND","صوت محيطي"],["TOGGLE_STEREOSCOPIC","إيقاف العرض المجسّم أو تفعيله"],["UNDETERMINED_LANGUAGE","غير محدد"],["UNMUTE","إعادة الصوت"],["UNRECOGNIZED_LANGUAGE","غير معروف"],["VOLUME","مستوى الصوت"]])),e.Pa("de",new Map([["AD_DURATION","Dauer der Werbeanzeige"],["AD_PROGRESS","Werbung [AD_ON] von [NUM_ADS]"],["AD_STATISTICS","Anzeigenstatistiken"],["AD_TIME","Werbeanzeige: [AD_TIME]"],["AIRPLAY","AirPlay"],["AUTO_QUALITY","Automatisch"],["BACK","Zurück"],["CAPTIONS","Untertitel"],["CAST","Streamen..."],["CHAPTERS","Kapitel"],["DOWNLOAD_VIDEO_FRAME","Videoframe speichern"],["ENTER_LOOP_MODE","In Endlosschleife spielen"],["ENTER_PICTURE_IN_PICTURE","Bild im Bild aktivieren"],["EXIT_FULL_SCREEN","Vollbildmodus beenden"],["EXIT_LOOP_MODE","Endlosschleife stoppen"],["EXIT_PICTURE_IN_PICTURE","Bild im Bild beenden"],["FAST_FORWARD","Vorspulen"],["FULL_SCREEN","Vollbildmodus"],["LANGUAGE","Sprache"],["LIVE","Live"],["LOOP","Schleife"],["MORE_SETTINGS","Weitere Einstellungen"],["MULTIPLE_LANGUAGES","Mehrere Sprachen"],["MUTE","Stummschalten"],["NOT_APPLICABLE","Nicht zutreffend"],["OFF","Aus"],["ON","Ein"],["PAUSE","Pause"],["PICTURE_IN_PICTURE","Bild im Bild"],["PLAY","Wiedergabe"],["PLAYBACK_RATE","Geschwindigkeit"],["QUALITY","Qualität"],["RECENTER_VR","Zentrieren"],["REPLAY","Noch einmal wiedergeben"],["RESOLUTION","Auflösung"],["REWIND","Zurückspulen"],["SEEK","Suche"],["SKIP_AD","Überspringen"],["SKIP_TO_LIVE","Zum Live-Videostream wechseln"],["STATISTICS","Statistiken"],["SUBTITLE_FORCED","Erzwungen"],["SURROUND","Surround"],["TOGGLE_STEREOSCOPIC","Einstellung „stereoskopisch“ ein‑/ausschalten"],["UNDETERMINED_LANGUAGE","Unbestimmt"],["UNMUTE","Stummschaltung aufheben"],["UNRECOGNIZED_LANGUAGE","Unbekannt"],["VOLUME","Lautstärke"]])),e.Pa("en",new Map([["AD_DURATION","Ad duration"],["AD_PROGRESS","Ad [AD_ON] of [NUM_ADS]"],["AD_STATISTICS","Ad statistics"],["AD_TIME","Ad: [AD_TIME]"],["AIRPLAY","AirPlay"],["AUTO_QUALITY","Auto"],["BACK","Back"],["CAPTIONS","Captions"],["CAST","Cast..."],["CHAPTERS","Chapters"],["DOWNLOAD_VIDEO_FRAME","Save video frame"],["ENTER_LOOP_MODE","Loop the current video"],["ENTER_PICTURE_IN_PICTURE","Enter Picture-in-Picture"],["EXIT_FULL_SCREEN","Exit full screen"],["EXIT_LOOP_MODE","Stop looping the current video"],["EXIT_PICTURE_IN_PICTURE","Exit Picture-in-Picture"],["FAST_FORWARD","Fast-forward"],["FULL_SCREEN","Full screen"],["LANGUAGE","Language"],["LIVE","Live"],["LOOP","Loop"],["MORE_SETTINGS","More settings"],["MULTIPLE_LANGUAGES","Multiple languages"],["MUTE","Mute"],["NOT_APPLICABLE","Not applicable"],["OFF","Off"],["ON","On"],["PAUSE","Pause"],["PICTURE_IN_PICTURE","Picture-in-Picture"],["PLAY","Play"],["PLAYBACK_RATE","Playback speed"],["QUALITY","Quality"],["RECENTER_VR","Recenter"],["REPLAY","Replay"],["RESOLUTION","Resolution"],["REWIND","Rewind"],["SEEK","Seek"],["SKIP_AD","Skip Ad"],["SKIP_TO_LIVE","Skip ahead to live"],["STATISTICS","Statistics"],["SUBTITLE_FORCED","Forced"],["SURROUND","Surround"],["TOGGLE_STEREOSCOPIC","Toggle stereoscopic"],["UNDETERMINED_LANGUAGE","Undetermined"],["UNMUTE","Unmute"],["UNRECOGNIZED_LANGUAGE","Unrecognized"],["VOLUME","Volume"]])),e.Pa("en-GB",new Map([["AD_DURATION","Ad duration"],["AD_PROGRESS","Ad [AD_ON] of [NUM_ADS]"],["AD_STATISTICS","Ad statistics"],["AD_TIME","Ad: [AD_TIME]"],["AIRPLAY","AirPlay"],["AUTO_QUALITY","Auto"],["BACK","Back"],["CAPTIONS","Captions"],["CAST","Cast..."],["CHAPTERS","Chapters"],["DOWNLOAD_VIDEO_FRAME","Save video frame"],["ENTER_LOOP_MODE","Loop the current video"],["ENTER_PICTURE_IN_PICTURE","Enter picture-in-picture"],["EXIT_FULL_SCREEN","Exit full screen"],["EXIT_LOOP_MODE","Stop looping the current video"],["EXIT_PICTURE_IN_PICTURE","Exit picture-in-picture"],["FAST_FORWARD","Fast-forward"],["FULL_SCREEN","Full screen"],["LANGUAGE","Language"],["LIVE","Live"],["LOOP","Loop"],["MORE_SETTINGS","More settings"],["MULTIPLE_LANGUAGES","Multiple languages"],["MUTE","Mute"],["NOT_APPLICABLE","Not applicable"],["OFF","Off"],["ON","On"],["PAUSE","Pause"],["PICTURE_IN_PICTURE","Picture-in-picture"],["PLAY","Play"],["PLAYBACK_RATE","Playback speed"],["QUALITY","Quality"],["RECENTER_VR","Recentre"],["REPLAY","Replay"],["RESOLUTION","Resolution"],["REWIND","Rewind"],["SEEK","Seek"],["SKIP_AD","Skip ad"],["SKIP_TO_LIVE","Skip ahead to live"],["STATISTICS","Statistics"],["SUBTITLE_FORCED","Forced"],["SURROUND","Surround"],["TOGGLE_STEREOSCOPIC","Toggle stereoscopic"],["UNDETERMINED_LANGUAGE","Undetermined"],["UNMUTE","Unmute"],["UNRECOGNIZED_LANGUAGE","Unrecognised"],["VOLUME","volume"]])),e.Pa("es",new Map([["AD_DURATION","Duración del anuncio"],["AD_PROGRESS","Anuncio [AD_ON] de [NUM_ADS]"],["AD_STATISTICS","Estadísticas del anuncio"],["AD_TIME","Anuncio: [AD_TIME]"],["AIRPLAY","AirPlay"],["AUTO_QUALITY","Automático"],["BACK","Atrás"],["CAPTIONS","Subtítulos"],["CAST","Enviar..."],["CHAPTERS","Capítulos"],["DOWNLOAD_VIDEO_FRAME","Guardar fotograma"],["ENTER_LOOP_MODE","Reproducir en bucle el vídeo actual"],["ENTER_PICTURE_IN_PICTURE","Activar el modo imagen en imagen"],["EXIT_FULL_SCREEN","Salir del modo de pantalla completa"],["EXIT_LOOP_MODE","Dejar de reproducir en bucle el vídeo actual"],["EXIT_PICTURE_IN_PICTURE","Salir del modo imagen en imagen"],["FAST_FORWARD","Avanzar rápidamente"],["FULL_SCREEN","Pantalla completa"],["LANGUAGE","Idioma"],["LIVE","En directo"],["LOOP","Reproducir en bucle"],["MORE_SETTINGS","Más ajustes"],["MULTIPLE_LANGUAGES","Varios idiomas"],["MUTE","Silenciar"],["NOT_APPLICABLE","No aplicable"],["OFF","Desactivado"],["ON","Activado"],["PAUSE","Pausar"],["PICTURE_IN_PICTURE","Imagen en imagen"],["PLAY","Reproducir"],["PLAYBACK_RATE","Velocidad de reproducción"],["QUALITY","Calidad"],["RECENTER_VR","Volver a centrar"],["REPLAY","Volver a reproducir"],["RESOLUTION","Resolución"],["REWIND","Rebobinar"],["SEEK","Buscar"],["SKIP_AD","Saltar anuncio"],["SKIP_TO_LIVE","Ir al vídeo en directo"],["STATISTICS","Estadísticas"],["SUBTITLE_FORCED","Forzado"],["SURROUND","Envolvente"],["TOGGLE_STEREOSCOPIC","Activar/Desactivar estereoscópica"],["UNDETERMINED_LANGUAGE","Sin especificar"],["UNMUTE","Activar sonido"],["UNRECOGNIZED_LANGUAGE","No reconocida"],["VOLUME","Volumen"]])),e.Pa("es-419",new Map([["AD_DURATION","Duración del anuncio"],["AD_PROGRESS","Anuncio [AD_ON] de [NUM_ADS]"],["AD_STATISTICS","Estadísticas de anuncios"],["AD_TIME","Anuncio: [AD_TIME]"],["AIRPLAY","AirPlay"],["AUTO_QUALITY","Automático"],["BACK","Atrás"],["CAPTIONS","Subtítulos"],["CAST","Transmitir..."],["CHAPTERS","Capítulos"],["DOWNLOAD_VIDEO_FRAME","Guardar fotograma"],["ENTER_LOOP_MODE","Repetir indefinidamente el video actual"],["ENTER_PICTURE_IN_PICTURE","Ingresar al modo de pantalla en pantalla"],["EXIT_FULL_SCREEN","Salir de pantalla completa"],["EXIT_LOOP_MODE","Detener la repetición indefinida del video actual"],["EXIT_PICTURE_IN_PICTURE","Salir del modo de pantalla en pantalla"],["FAST_FORWARD","Avanzar"],["FULL_SCREEN","Pantalla completa"],["LANGUAGE","Idioma"],["LIVE","En directo"],["LOOP","Repetir indefinidamente"],["MORE_SETTINGS","Más opciones de configuración"],["MULTIPLE_LANGUAGES","Varios idiomas"],["MUTE","Silenciar"],["NOT_APPLICABLE","No aplicable"],["OFF","Desactivado"],["ON","Activado"],["PAUSE","Detener"],["PICTURE_IN_PICTURE","Pantalla en pantalla"],["PLAY","Reproducir"],["PLAYBACK_RATE","Velocidad de reproducción"],["QUALITY","Calidad"],["RECENTER_VR","Volver a centrar"],["REPLAY","Volver a reproducir"],["RESOLUTION","Resolución"],["REWIND","Retroceder"],["SEEK","Buscar"],["SKIP_AD","Omitir anuncio"],["SKIP_TO_LIVE","Adelantar hasta la transmisión en vivo"],["STATISTICS","Estadísticas"],["SUBTITLE_FORCED","Forzado"],["SURROUND","Sonido envolvente"],["TOGGLE_STEREOSCOPIC","Activar o desactivar el modo estereoscópico"],["UNDETERMINED_LANGUAGE","Sin especificar"],["UNMUTE","Dejar de silenciar"],["UNRECOGNIZED_LANGUAGE","No reconocida"],["VOLUME","Volumen"]])),e.Pa("fr",new Map([["AD_DURATION","Durée de l'annonce"],["AD_PROGRESS","Annonce [AD_ON] sur [NUM_ADS]"],["AD_STATISTICS","Statistiques sur les annonces"],["AD_TIME","Annonce : [AD_TIME]"],["AIRPLAY","AirPlay"],["AUTO_QUALITY","Automatique"],["BACK","Retour"],["CAPTIONS","Sous-titres"],["CAST","Caster…"],["CHAPTERS","Chapitres"],["DOWNLOAD_VIDEO_FRAME","Télécharger l'image de la vidéo"],["ENTER_LOOP_MODE","Lire en boucle la vidéo en cours"],["ENTER_PICTURE_IN_PICTURE","Utiliser le mode Picture-in-Picture"],["EXIT_FULL_SCREEN","Quitter le mode plein écran"],["EXIT_LOOP_MODE","Arrêter la lecture en boucle de la vidéo en cours"],["EXIT_PICTURE_IN_PICTURE","Quitter le mode PIP (Picture-in-picture)"],["FAST_FORWARD","Avance rapide"],["FULL_SCREEN","Plein écran"],["LANGUAGE","Langue"],["LIVE","En direct"],["LOOP","Répéter"],["MORE_SETTINGS","Plus de paramètres"],["MULTIPLE_LANGUAGES","Plusieurs langues"],["MUTE","Couper le son"],["NOT_APPLICABLE","Non applicable"],["OFF","Désactivée"],["ON","Activée"],["PAUSE","Pause"],["PICTURE_IN_PICTURE","Picture-in-Picture"],["PLAY","Visionner"],["PLAYBACK_RATE","Vitesse de lecture"],["QUALITY","Qualité"],["RECENTER_VR","Recentrer"],["REPLAY","Revoir"],["RESOLUTION","Résolution"],["REWIND","Retour arrière"],["SEEK","Chercher"],["SKIP_AD","Passer l'annonce"],["SKIP_TO_LIVE","Accéder à la partie la plus récente du direct"],["STATISTICS","Statistiques"],["SUBTITLE_FORCED","Forcé"],["SURROUND","Surround"],["TOGGLE_STEREOSCOPIC","Activer/Désactiver le mode stéréoscopique"],["UNDETERMINED_LANGUAGE","Langue indéterminée"],["UNMUTE","Réactiver le son"],["UNRECOGNIZED_LANGUAGE","Non reconnu"],["VOLUME","Volume"]])),e.Pa("it",new Map([["AD_DURATION","Durata dell'annuncio"],["AD_PROGRESS","Annuncio [AD_ON] di [NUM_ADS]"],["AD_STATISTICS","Statistiche sugli annunci"],["AD_TIME","Annuncio: [AD_TIME]"],["AIRPLAY","AirPlay"],["AUTO_QUALITY","Automatica"],["BACK","Indietro"],["CAPTIONS","Sottotitoli"],["CAST","Trasmetti..."],["CHAPTERS","Capitoli"],["DOWNLOAD_VIDEO_FRAME","Salva fotogramma"],["ENTER_LOOP_MODE","Riproduci in loop il video corrente"],["ENTER_PICTURE_IN_PICTURE","Attiva Picture in picture"],["EXIT_FULL_SCREEN","Esci da schermo intero"],["EXIT_LOOP_MODE","Interrompi riproduzione in loop del video corrente"],["EXIT_PICTURE_IN_PICTURE","Esci da Picture in picture"],["FAST_FORWARD","Avanti veloce"],["FULL_SCREEN","Schermo intero"],["LANGUAGE","Lingua"],["LIVE","Dal vivo"],["LOOP","Riproduci in loop"],["MORE_SETTINGS","Altre impostazioni"],["MULTIPLE_LANGUAGES","Più lingue"],["MUTE","Disattiva audio"],["NOT_APPLICABLE","Non applicabile"],["OFF","Disattivo"],["ON","Attivo"],["PAUSE","Metti in pausa"],["PICTURE_IN_PICTURE","Picture in picture"],["PLAY","Riproduci"],["PLAYBACK_RATE","Velocità di riproduzione"],["QUALITY","Qualità"],["RECENTER_VR","Ricentra"],["REPLAY","Riproduci di nuovo"],["RESOLUTION","Risoluzione"],["REWIND","Riavvolgi"],["SEEK","Cerca"],["SKIP_AD","Salta annuncio"],["SKIP_TO_LIVE","Passa alla trasmissione dal vivo"],["STATISTICS","Statistiche"],["SUBTITLE_FORCED","Forzata"],["SURROUND","Surround"],["TOGGLE_STEREOSCOPIC","Pulsante di attivazione/disattivazione stereoscopico"],["UNDETERMINED_LANGUAGE","Indeterminata"],["UNMUTE","Riattiva audio"],["UNRECOGNIZED_LANGUAGE","Non riconosciuto"],["VOLUME","Volume"]])),e.Pa("ja",new Map([["AD_DURATION","広告再生時間"],["AD_PROGRESS","[AD_ON] 番目の広告（全 [NUM_ADS] 個）"],["AD_STATISTICS","広告の統計情報"],["AD_TIME","広告: [AD_TIME]"],["AIRPLAY","AirPlay"],["AUTO_QUALITY","自動"],["BACK","戻る"],["CAPTIONS","字幕"],["CAST","キャスト..."],["CHAPTERS","章"],["DOWNLOAD_VIDEO_FRAME","動画フレームを保存"],["ENTER_LOOP_MODE","現在の動画をループ再生"],["ENTER_PICTURE_IN_PICTURE","ピクチャー イン ピクチャーを開始"],["EXIT_FULL_SCREEN","全画面表示を終了"],["EXIT_LOOP_MODE","現在の動画のループ再生を停止"],["EXIT_PICTURE_IN_PICTURE","ピクチャー イン ピクチャーを終了"],["FAST_FORWARD","早送り"],["FULL_SCREEN","全画面表示"],["LANGUAGE","言語"],["LIVE","ライブ"],["LOOP","ループ"],["MORE_SETTINGS","詳細設定"],["MULTIPLE_LANGUAGES","多言語"],["MUTE","ミュート"],["NOT_APPLICABLE","該当なし"],["OFF","オフ"],["ON","オン"],["PAUSE","一時停止"],["PICTURE_IN_PICTURE","ピクチャー イン ピクチャー"],["PLAY","再生"],["PLAYBACK_RATE","再生速度"],["QUALITY","品質"],["RECENTER_VR","中心を再設定"],["REPLAY","もう一度再生"],["RESOLUTION","解像度"],["REWIND","巻き戻し"],["SEEK","シーク再生"],["SKIP_AD","広告をスキップ"],["SKIP_TO_LIVE","ライブ配信までスキップ"],["STATISTICS","統計情報"],["SUBTITLE_FORCED","強制"],["SURROUND","サラウンド"],["TOGGLE_STEREOSCOPIC","立体画像を切り替える"],["UNDETERMINED_LANGUAGE","不明"],["UNMUTE","ミュートを解除"],["UNRECOGNIZED_LANGUAGE","不明"],["VOLUME","音量"]])),e.Pa("ko",new Map([["AD_DURATION","광고 기간"],["AD_PROGRESS","광고 [AD_ON]/[NUM_ADS]"],["AD_STATISTICS","광고 통계"],["AD_TIME","광고: [AD_TIME]"],["AIRPLAY","AirPlay"],["AUTO_QUALITY","자동"],["BACK","뒤로"],["CAPTIONS","자막"],["CAST","전송..."],["CHAPTERS","장"],["DOWNLOAD_VIDEO_FRAME","동영상 프레임 저장"],["ENTER_LOOP_MODE","현재 동영상 반복 재생"],["ENTER_PICTURE_IN_PICTURE","PIP 모드 시작"],["EXIT_FULL_SCREEN","전체화면 닫기"],["EXIT_LOOP_MODE","현재 동영상 반복 재생 중지"],["EXIT_PICTURE_IN_PICTURE","PIP 모드 종료"],["FAST_FORWARD","빨리 감기"],["FULL_SCREEN","전체화면"],["LANGUAGE","언어"],["LIVE","실시간"],["LOOP","반복 재생"],["MORE_SETTINGS","설정 더보기"],["MULTIPLE_LANGUAGES","여러 언어"],["MUTE","음소거"],["NOT_APPLICABLE","해당 사항 없음"],["OFF","사용 안함"],["ON","사용"],["PAUSE","일시중지"],["PICTURE_IN_PICTURE","PIP 모드"],["PLAY","재생"],["PLAYBACK_RATE","재생 속도"],["QUALITY","품질"],["RECENTER_VR","중심 재설정"],["REPLAY","다시보기"],["RESOLUTION","해상도"],["REWIND","되감기"],["SEEK","찾기"],["SKIP_AD","광고 건너뛰기"],["SKIP_TO_LIVE","라이브 동영상으로 건너뛰기"],["STATISTICS","통계"],["SUBTITLE_FORCED","강제"],["SURROUND","서라운드"],["TOGGLE_STEREOSCOPIC","입체 보기 전환"],["UNDETERMINED_LANGUAGE","미정"],["UNMUTE","음소거 해제"],["UNRECOGNIZED_LANGUAGE","알 수 없음"],["VOLUME","볼륨"]])),e.Pa("nl",new Map([["AD_DURATION","Advertentieduur"],["AD_PROGRESS","Advertentie [AD_ON] van [NUM_ADS]"],["AD_STATISTICS","Advertentiestatistieken"],["AD_TIME","Advertentie: [AD_TIME]"],["AIRPLAY","AirPlay"],["AUTO_QUALITY","Automatisch"],["BACK","Terug"],["CAPTIONS","Ondertiteling"],["CAST","Casten..."],["CHAPTERS","Hoofdstukken"],["DOWNLOAD_VIDEO_FRAME","Videoframe opslaan"],["ENTER_LOOP_MODE","De huidige video lussen"],["ENTER_PICTURE_IN_PICTURE","Scherm-in-scherm openen"],["EXIT_FULL_SCREEN","Volledig scherm sluiten"],["EXIT_LOOP_MODE","De huidige video niet meer lussen"],["EXIT_PICTURE_IN_PICTURE","Scherm-in-scherm afsluiten"],["FAST_FORWARD","Vooruitspoelen"],["FULL_SCREEN","Volledig scherm"],["LANGUAGE","Taal"],["LIVE","Live"],["LOOP","Lussen"],["MORE_SETTINGS","Meer instellingen"],["MULTIPLE_LANGUAGES","Meerdere talen"],["MUTE","Geluid uitzetten"],["NOT_APPLICABLE","Niet van toepassing"],["OFF","Uit"],["ON","Aan"],["PAUSE","Onderbreken"],["PICTURE_IN_PICTURE","Scherm-in-scherm"],["PLAY","Afspelen"],["PLAYBACK_RATE","Afspeelsnelheid"],["QUALITY","Kwaliteit"],["RECENTER_VR","Opnieuw centreren"],["REPLAY","Opnieuw afspelen"],["RESOLUTION","Resolutie"],["REWIND","Terugspoelen"],["SEEK","Zoeken"],["SKIP_AD","Advertentie overslaan"],["SKIP_TO_LIVE","Doorgaan naar live"],["STATISTICS","Statistieken"],["SUBTITLE_FORCED","Afgedwongen"],["SURROUND","Surround"],["TOGGLE_STEREOSCOPIC","Stereoscopisch aan-/uitzetten"],["UNDETERMINED_LANGUAGE","Onbepaald"],["UNMUTE","Geluid aanzetten"],["UNRECOGNIZED_LANGUAGE","Onbekend"],["VOLUME","Volume"]])),e.Pa("pl",new Map([["AD_DURATION","Czas trwania reklamy"],["AD_PROGRESS","Reklama [AD_ON] z [NUM_ADS]"],["AD_STATISTICS","Statystyki reklam"],["AD_TIME","Reklama: [AD_TIME]"],["AIRPLAY","AirPlay"],["AUTO_QUALITY","Automatycznie"],["BACK","Wstecz"],["CAPTIONS","Napisy"],["CAST","Przesyłaj..."],["CHAPTERS","Rozdziały"],["DOWNLOAD_VIDEO_FRAME","Zapisz klatkę filmu"],["ENTER_LOOP_MODE","Odtwarzaj bieżący film w pętli"],["ENTER_PICTURE_IN_PICTURE","Włącz tryb obrazu w obrazie"],["EXIT_FULL_SCREEN","Zamknij pełny ekran"],["EXIT_LOOP_MODE","Wyłącz odtwarzanie bieżącego filmu w pętli"],["EXIT_PICTURE_IN_PICTURE","Wyłącz tryb obrazu w obrazie"],["FAST_FORWARD","Przewiń do przodu"],["FULL_SCREEN","Pełny ekran"],["LANGUAGE","Język"],["LIVE","Na żywo"],["LOOP","Odtwarzaj w pętli"],["MORE_SETTINGS","Więcej ustawień"],["MULTIPLE_LANGUAGES","Wiele języków"],["MUTE","Wycisz"],["NOT_APPLICABLE","Nie dotyczy"],["OFF","Wyłączone"],["ON","Włączone"],["PAUSE","Wstrzymaj"],["PICTURE_IN_PICTURE","Obraz w obrazie"],["PLAY","Odtwórz"],["PLAYBACK_RATE","Szybkość odtwarzania"],["QUALITY","Jakość"],["RECENTER_VR","Wyśrodkuj"],["REPLAY","Odtwórz ponownie"],["RESOLUTION","Rozdzielczość"],["REWIND","Przewiń do tyłu"],["SEEK","Szukaj"],["SKIP_AD","Pomiń reklamę"],["SKIP_TO_LIVE","Przejdź do transmisji na żywo"],["STATISTICS","Statystyki"],["SUBTITLE_FORCED","Wymuszone"],["SURROUND","Przestrzenny"],["TOGGLE_STEREOSCOPIC","Przełącz tryb stereoskopowy"],["UNDETERMINED_LANGUAGE","Nie określono"],["UNMUTE","Wyłącz wyciszenie"],["UNRECOGNIZED_LANGUAGE","Nierozpoznany"],["VOLUME","Głośność"]])),e.Pa("pt-BR",new Map([["AD_DURATION","Duração do anúncio"],["AD_PROGRESS","Anúncio [AD_ON] de [NUM_ADS]"],["AD_STATISTICS","Estatísticas de anúncios"],["AD_TIME","Anúncio: [AD_TIME]"],["AIRPLAY","AirPlay"],["AUTO_QUALITY","Automática"],["BACK","Voltar"],["CAPTIONS","Legendas"],["CAST","Transmitir..."],["CHAPTERS","Capítulos"],["DOWNLOAD_VIDEO_FRAME","Salvar frame do vídeo"],["ENTER_LOOP_MODE","Repetir o vídeo atual"],["ENTER_PICTURE_IN_PICTURE","Entrar no modo picture-in-picture"],["EXIT_FULL_SCREEN","Sair do modo tela cheia"],["EXIT_LOOP_MODE","Parar repetição do vídeo atual"],["EXIT_PICTURE_IN_PICTURE","Sair de picture-in-picture"],["FAST_FORWARD","Avançar"],["FULL_SCREEN","Tela cheia"],["LANGUAGE","Idioma"],["LIVE","Ao vivo"],["LOOP","Repetir"],["MORE_SETTINGS","Mais definições"],["MULTIPLE_LANGUAGES","Vários idiomas"],["MUTE","Desativar som"],["NOT_APPLICABLE","Não relevante"],["OFF","Desativado"],["ON","Ativado"],["PAUSE","Pausar"],["PICTURE_IN_PICTURE","Picture-in-picture"],["PLAY","Reproduzir"],["PLAYBACK_RATE","Velocidade da reprodução"],["QUALITY","Qualidade"],["RECENTER_VR","Centralizar"],["REPLAY","Repetir"],["RESOLUTION","Resolução"],["REWIND","Voltar"],["SEEK","Procurar"],["SKIP_AD","Pular anúncio"],["SKIP_TO_LIVE","Pular para transmissão ao vivo"],["STATISTICS","Estatísticas"],["SUBTITLE_FORCED","Exibição forçada"],["SURROUND","Surround"],["TOGGLE_STEREOSCOPIC","Alternar imagem estereoscópica"],["UNDETERMINED_LANGUAGE","Indeterminado"],["UNMUTE","Ativar som"],["UNRECOGNIZED_LANGUAGE","Não reconhecido"],["VOLUME","Volume"]])),e.Pa("ru",new Map([["AD_DURATION","Продолжительность рекламы"],["AD_PROGRESS","Реклама [AD_ON] из [NUM_ADS]"],["AD_STATISTICS","Статистика объявлений"],["AD_TIME","Реклама: [AD_TIME]"],["AIRPLAY","AirPlay"],["AUTO_QUALITY","Авто"],["BACK","Назад"],["CAPTIONS","Субтитры"],["CAST","Транслировать..."],["CHAPTERS","Эпизоды"],["DOWNLOAD_VIDEO_FRAME","Сохранить кадр видео"],["ENTER_LOOP_MODE","Зациклить текущее видео"],["ENTER_PICTURE_IN_PICTURE",'Перейти в режим "Картинка в картинке"'],["EXIT_FULL_SCREEN","Обычный режим"],["EXIT_LOOP_MODE","Отменить зацикливание текущего видео"],["EXIT_PICTURE_IN_PICTURE",'Выйти из режима "Картинка в картинке"'],["FAST_FORWARD","Перемотка вперед"],["FULL_SCREEN","Полноэкранный режим"],["LANGUAGE","Язык"],["LIVE","Прямой эфир"],["LOOP","Зациклить"],["MORE_SETTINGS","Дополнительные настройки"],["MULTIPLE_LANGUAGES","Несколько языков"],["MUTE","Отключить звук"],["NOT_APPLICABLE","Неприменимо"],["OFF","Выкл."],["ON","Вкл."],["PAUSE","Пауза"],["PICTURE_IN_PICTURE","Картинка в картинке"],["PLAY","Воспроизвести"],["PLAYBACK_RATE","Скорость воспроизведения"],["QUALITY","Качество"],["RECENTER_VR","Центрировать заново"],["REPLAY","Повторить"],["RESOLUTION","Разрешение"],["REWIND","Перемотать назад"],["SEEK","Перемотка"],["SKIP_AD","Пропустить"],["SKIP_TO_LIVE","Пропустить и перейти к прямой трансляции"],["STATISTICS","Статистика"],["SUBTITLE_FORCED","Субтитры принудительно"],["SURROUND","Объемный звук"],["TOGGLE_STEREOSCOPIC","Включить или отключить стереоскопический режим"],["UNDETERMINED_LANGUAGE","Не указано"],["UNMUTE","Включить звук"],["UNRECOGNIZED_LANGUAGE","Не распознано"],["VOLUME","Громкость"]])),e.Pa("th",new Map([["AD_DURATION","ระยะเวลาโฆษณา"],["AD_PROGRESS","โฆษณา [AD_ON] จาก [NUM_ADS] รายการ"],["AD_STATISTICS","สถิติโฆษณา"],["AD_TIME","โฆษณา: [AD_TIME]"],["AIRPLAY","AirPlay"],["AUTO_QUALITY","อัตโนมัติ"],["BACK","กลับ"],["CAPTIONS","คำบรรยายแทนเสียง"],["CAST","แคสต์..."],["CHAPTERS","บท"],["DOWNLOAD_VIDEO_FRAME","บันทึกเฟรมวิดีโอ"],["ENTER_LOOP_MODE","วนซ้ำวิดีโอปัจจุบัน"],["ENTER_PICTURE_IN_PICTURE","เข้าสู่การแสดงภาพซ้อนภาพ"],["EXIT_FULL_SCREEN","ออกจากการแสดงแบบเต็มหน้าจอ"],["EXIT_LOOP_MODE","หยุดวนซ้ำวิดีโอปัจจุบัน"],["EXIT_PICTURE_IN_PICTURE","ออกจากการแสดงภาพซ้อนภาพ"],["FAST_FORWARD","กรอไปข้างหน้า"],["FULL_SCREEN","เต็มหน้าจอ"],["LANGUAGE","ภาษา"],["LIVE","สด"],["LOOP","ลูป"],["MORE_SETTINGS","การตั้งค่าเพิ่มเติม"],["MULTIPLE_LANGUAGES","หลายภาษา"],["MUTE","ปิดเสียง"],["NOT_APPLICABLE","ไม่เกี่ยวข้อง"],["OFF","ปิด"],["ON","เปิด"],["PAUSE","หยุดชั่วคราว"],["PICTURE_IN_PICTURE","การแสดงภาพซ้อนภาพ"],["PLAY","เล่น"],["PLAYBACK_RATE","ความเร็วในการเล่น"],["QUALITY","คุณภาพ"],["RECENTER_VR","จัดกึ่งกลางใหม่"],["REPLAY","เล่นซ้ำ"],["RESOLUTION","ความละเอียด"],["REWIND","กรอกลับ"],["SEEK","ค้นหา"],["SKIP_AD","ข้ามโฆษณา"],["SKIP_TO_LIVE","ข้ามไปที่การถ่ายทอดสด"],["STATISTICS","สถิติ"],["SUBTITLE_FORCED","บังคับ"],["SURROUND","เซอร์ราวด์"],["TOGGLE_STEREOSCOPIC","เปิด/ปิดฟีเจอร์สามมิติ"],["UNDETERMINED_LANGUAGE","ไม่กำหนด"],["UNMUTE","เปิดเสียง"],["UNRECOGNIZED_LANGUAGE","ที่ไม่รู้จัก"],["VOLUME","ระดับเสียง"]])),e.Pa("tr",new Map([["AD_DURATION","Reklam süresi"],["AD_PROGRESS","[AD_ON]/[NUM_ADS] reklam"],["AD_STATISTICS","Reklam istatistikleri"],["AD_TIME","Reklam: [AD_TIME]"],["AIRPLAY","AirPlay"],["AUTO_QUALITY","Otomatik"],["BACK","Geri"],["CAPTIONS","Altyazılar"],["CAST","Yayınla..."],["CHAPTERS","Bölümler"],["DOWNLOAD_VIDEO_FRAME","Video karesini kaydet"],["ENTER_LOOP_MODE","Mevcut videoyu döngüye al"],["ENTER_PICTURE_IN_PICTURE","Pencere içinde Pencere moduna gir"],["EXIT_FULL_SCREEN","Tam ekrandan çık"],["EXIT_LOOP_MODE","Mevcut videonun döngüsünü durdur"],["EXIT_PICTURE_IN_PICTURE","Pencere İçinde Pencereden Çık"],["FAST_FORWARD","İleri sar"],["FULL_SCREEN","Tam ekran"],["LANGUAGE","Dil"],["LIVE","Canlı"],["LOOP","Döngü"],["MORE_SETTINGS","Daha fazla ayar"],["MULTIPLE_LANGUAGES","Birden çok dil"],["MUTE","Sesi kapat"],["NOT_APPLICABLE","Geçerli değil"],["OFF","Kapalı"],["ON","Açık"],["PAUSE","Duraklat"],["PICTURE_IN_PICTURE","Pencere İçinde Pencere"],["PLAY","Oynat"],["PLAYBACK_RATE","Çalma hızı"],["QUALITY","Kalite"],["RECENTER_VR","Ortala"],["REPLAY","Tekrar Oynat"],["RESOLUTION","Çözünürlük"],["REWIND","Geri sar"],["SEEK","Ara"],["SKIP_AD","Reklamı Atla"],["SKIP_TO_LIVE","Canlı yayına atla"],["STATISTICS","İstatistikler"],["SUBTITLE_FORCED","Zorunlu"],["SURROUND","Surround"],["TOGGLE_STEREOSCOPIC","Stereoskopik modu aç/kapat"],["UNDETERMINED_LANGUAGE","Belirsiz"],["UNMUTE","Sesi aç"],["UNRECOGNIZED_LANGUAGE","Tanınmayan"],["VOLUME","Ses"]])),e.Pa("zh",new Map([["AD_DURATION","广告持续时间"],["AD_PROGRESS","广告 [AD_ON]/[NUM_ADS]"],["AD_STATISTICS","广告统计信息"],["AD_TIME","广告：[AD_TIME]"],["AIRPLAY","AirPlay"],["AUTO_QUALITY","自动"],["BACK","返回"],["CAPTIONS","字幕"],["CAST","投放…"],["CHAPTERS","章节"],["DOWNLOAD_VIDEO_FRAME","保存视频帧"],["ENTER_LOOP_MODE","循环播放当前视频"],["ENTER_PICTURE_IN_PICTURE","进入“画中画”模式"],["EXIT_FULL_SCREEN","退出全屏模式"],["EXIT_LOOP_MODE","停止循环播放当前视频"],["EXIT_PICTURE_IN_PICTURE","退出“画中画”模式"],["FAST_FORWARD","快进"],["FULL_SCREEN","全屏"],["LANGUAGE","语言"],["LIVE","直播"],["LOOP","循环播放"],["MORE_SETTINGS","更多设置"],["MULTIPLE_LANGUAGES","多种语言"],["MUTE","静音"],["NOT_APPLICABLE","不适用"],["OFF","关闭"],["ON","开启"],["PAUSE","暂停"],["PICTURE_IN_PICTURE","画中画"],["PLAY","播放"],["PLAYBACK_RATE","播放速度"],["QUALITY","画质"],["RECENTER_VR","重新置中"],["REPLAY","重放"],["RESOLUTION","分辨率"],["REWIND","快退"],["SEEK","进度"],["SKIP_AD","跳过广告"],["SKIP_TO_LIVE","跳至当前直播"],["STATISTICS","统计信息"],["SUBTITLE_FORCED","已强制显示"],["SURROUND","环绕声"],["TOGGLE_STEREOSCOPIC","切换立体声"],["UNDETERMINED_LANGUAGE","未确定"],["UNMUTE","取消静音"],["UNRECOGNIZED_LANGUAGE","无法识别"],["VOLUME","音量"]])),e.Pa("zh-TW",new Map([["AD_DURATION","廣告長度"],["AD_PROGRESS","廣告 [AD_ON]/[NUM_ADS]"],["AD_STATISTICS","廣告統計資料"],["AD_TIME","廣告：[AD_TIME]"],["AIRPLAY","AirPlay"],["AUTO_QUALITY","自動"],["BACK","返回"],["CAPTIONS","字幕"],["CAST","投放..."],["CHAPTERS","章節"],["DOWNLOAD_VIDEO_FRAME","儲存影片影格"],["ENTER_LOOP_MODE","循環播放目前的影片"],["ENTER_PICTURE_IN_PICTURE","進入子母畫面"],["EXIT_FULL_SCREEN","退出全螢幕模式"],["EXIT_LOOP_MODE","停止循環播放目前的影片"],["EXIT_PICTURE_IN_PICTURE","離開子母畫面"],["FAST_FORWARD","快轉"],["FULL_SCREEN","全螢幕"],["LANGUAGE","語言"],["LIVE","直播"],["LOOP","循環播放"],["MORE_SETTINGS","顯示更多設定"],["MULTIPLE_LANGUAGES","多種語言"],["MUTE","靜音"],["NOT_APPLICABLE","不適用"],["OFF","關閉"],["ON","開啟"],["PAUSE","暫停"],["PICTURE_IN_PICTURE","子母畫面"],["PLAY","播放"],["PLAYBACK_RATE","播放速度"],["QUALITY","音質"],["RECENTER_VR","重新置中"],["REPLAY","重播"],["RESOLUTION","解析度"],["REWIND","倒轉"],["SEEK","搜尋"],["SKIP_AD","略過廣告"],["SKIP_TO_LIVE","跳至当前直播"],["STATISTICS","統計資料"],["SUBTITLE_FORCED","強制顯示"],["SURROUND","環場音效"],["TOGGLE_STEREOSCOPIC","切換立體影像"],["UNDETERMINED_LANGUAGE","不明"],["UNMUTE","取消靜音"],["UNRECOGNIZED_LANGUAGE","無法辨識"],["VOLUME","音量"]])),e.uh(navigator.languages||[]),e}G("shaka.ui.Controls",K),K.prototype.incrementRoll=K.prototype.rg,K.prototype.incrementPitch=K.prototype.qg,K.prototype.incrementYaw=K.prototype.sg,K.prototype.toggleStereoscopicMode=K.prototype.Bd,K.prototype.setVRFieldOfView=K.prototype.Lk,K.prototype.getVRFieldOfView=K.prototype.Gj,K.prototype.getVRNorth=K.prototype.Hj,K.prototype.isPlayingVR=K.prototype.Lb,K.prototype.canPlayVR=K.prototype.Jf,K.prototype.hideUI=K.prototype.Oj,K.prototype.showUI=K.prototype.Mk,K.prototype.isOpaque=K.prototype.xc,K.prototype.hideAdUI=K.prototype.Mh,K.prototype.showAdUI=K.prototype.zi,K.prototype.togglePiP=K.prototype.zd,K.prototype.isPiPEnabled=K.prototype.Je,K.prototype.isPiPAllowed=K.prototype.Ie,K.prototype.toggleFullScreen=K.prototype.lf,K.prototype.isFullScreenEnabled=K.prototype.nd,K.prototype.isFullScreenSupported=K.prototype.Pd,K.prototype.hideSettingsMenus=K.prototype.Nc,K.prototype.anySettingsMenusAreOpen=K.prototype.Cd,K.prototype.setLastTouchEventTime=K.prototype.ri,K.prototype.getDisplayTime=K.prototype.kg,K.prototype.isCastAllowed=K.prototype.Pj,K.prototype.setSeeking=K.prototype.$g,K.prototype.isSeeking=K.prototype.Uj,K.prototype.getConfig=K.prototype.fj,K.prototype.getClientSideAdContainer=K.prototype.ej,K.prototype.getServerSideAdContainer=K.prototype.Aj,K.prototype.getControlsContainer=K.prototype.hj,K.prototype.getLocalPlayer=K.prototype.pj,K.prototype.getPlayer=K.prototype.ld,K.prototype.getLocalVideo=K.prototype.qj,K.prototype.getVideo=K.prototype.wc,K.prototype.getVideoContainer=K.prototype.Jj,K.prototype.getLocalization=K.prototype.rj,K.prototype.getCastProxy=K.prototype.dj,K.prototype.getAd=K.prototype.getAd,K.prototype.setEnabledNativeControls=K.prototype.oi,K.prototype.setEnabledShakaControls=K.prototype.Wg,K.prototype.configure=K.prototype.configure,K.prototype.loadComplete=K.prototype.Xj,K.prototype.allowCast=K.prototype.Ti,K.registerSeekBar=function(e){VE=e},K.registerElement=ft,K.prototype.destroy=K.prototype.destroy;var Lp=new Map,VE=new Sp;function Oa(e,t){ce.call(this,e,t);var n=this;this.l=this.controls.g,this.j=this.controls.h,this.i=[],this.g=Ze(),this.g.classList.add("shaka-overflow-menu-button"),this.g.classList.add("shaka-no-propagation"),this.g.classList.add("material-icons-round"),this.g.classList.add("shaka-tooltip"),this.g.textContent="more_vert",this.parent.appendChild(this.g),this.h=z("div"),this.h.classList.add("shaka-overflow-menu"),this.h.classList.add("shaka-no-propagation"),this.h.classList.add("shaka-show-controls-on-mouse-over"),this.h.classList.add("shaka-hidden"),this.j.appendChild(this.h),wP(this),this.eventManager.s(this.localization,"locale-updated",function(){Pp(n)}),this.eventManager.s(this.localization,"locale-changed",function(){Pp(n)}),this.eventManager.s(this.adManager,"ad-started",function(){n.ad&&n.ad.isLinear()&&re(n.g,!1)}),this.eventManager.s(this.adManager,"ad-stopped",function(){re(n.g,!0)}),this.eventManager.s(this.controls,"submenuopen",function(){re(n.h,!1)}),this.eventManager.s(this.h,"touchstart",function(i){n.controls.ri(Date.now()),i.stopPropagation()}),this.eventManager.s(this.g,"click",function(){xP(n)}),Pp(this),this.ad&&this.ad.isLinear()&&re(this.g,!1)}pe(Oa,ce),Oa.prototype.release=function(){this.j=null;for(var e=g(this.i),t=e.next();!t.done;t=e.next())t.value.release();this.i=[],ce.prototype.release.call(this)};function Ft(e,t){Dp.set(e,t)}function wP(e){for(var t=g(e.l.overflowMenuButtons),n=t.next();!n.done;n=t.next())n=n.value,Dp.get(n)?(n=Dp.get(n),e.i.push(n.create(e.h,e.controls))):de("Unrecognized overflow menu element requested:",n)}function xP(e){if(e.controls.Cd())e.controls.Nc();else{re(e.h,!0),$n(e.controls);var t=function(n){return n.classList.contains("shaka-hidden")==0};Zg(e.h.childNodes,t)&&br(e.h.childNodes,t)[0].focus()}}function Pp(e){e.g.ariaLabel=e.localization.resolve("MORE_SETTINGS")}G("shaka.ui.OverflowMenu",Oa),Oa.registerElement=Ft;function HE(){}HE.prototype.create=function(e,t){return new Oa(e,t)},ft("overflow_menu",new HE);var Dp=new Map;function Tc(e,t){function n(r){return i.j[r]}ce.call(this,e,t);var i=this;this.h=Ze(),this.h.classList.add("shaka-ad-statistics-button"),this.i=z("i"),this.i.classList.add("material-icons-round"),this.i.textContent="insert_chart_outlined",this.h.appendChild(this.i),e=z("label"),e.classList.add("shaka-overflow-button-label"),this.u=z("span"),e.appendChild(this.u),this.m=z("span"),this.m.classList.add("shaka-current-selection-span"),e.appendChild(this.m),this.h.appendChild(e),this.parent.appendChild(this.h),this.g=z("div"),this.g.classList.add("shaka-no-propagation"),this.g.classList.add("shaka-show-controls-on-mouse-over"),this.g.classList.add("shaka-ad-statistics-container"),this.g.classList.add("shaka-hidden"),this.controls.h.appendChild(this.g),this.C=[],this.j=this.adManager.getStats(),this.o={},this.A={loadTimes:function(r){var o=0;r=g(i.j[r]);for(var s=r.next();!s.done;s=r.next())o+=parseFloat(s.value);return o},averageLoadTime:n,started:n,playedCompletely:n,skipped:n,errors:n},this.l=new oe(function(){i.j=i.adManager.getStats();for(var r=g(i.C),o=r.next();!o.done;o=r.next())o=o.value,i.o[o].textContent=i.A[o](o)}),Sc(this),IP(this),this.eventManager.s(this.localization,"locale-updated",function(){Sc(i)}),this.eventManager.s(this.localization,"locale-changed",function(){Sc(i)}),this.eventManager.s(this.h,"click",function(){re(i.parent,!1),i.g.classList.contains("shaka-hidden")?(i.i.textContent="insert_chart",i.l.Ba(.1),re(i.g,!0)):(i.i.textContent="insert_chart_outlined",i.l.stop(),re(i.g,!1)),Sc(i)}),this.eventManager.s(this.player,"loading",function(){re(i.h,!1)}),this.eventManager.s(this.adManager,"ad-started",function(){re(i.h,!0)})}pe(Tc,ce);function Sc(e){e.u.textContent=e.localization.resolve("AD_STATISTICS"),e.h.ariaLabel=e.localization.resolve("AD_STATISTICS"),e.m.textContent=e.localization.resolve(e.g.classList.contains("shaka-hidden")?"OFF":"ON")}function IP(e){for(var t=g(e.controls.g.adStatisticsList),n=t.next();!n.done;n=t.next())if(n=n.value,n in e.j){var i=e.g,r=i.appendChild,o=e,s=z("div"),a=z("label");a.textContent=n+":",s.appendChild(a),a=z("span"),a.textContent=o.A[n](n),s.appendChild(a),o.o[n]=a,r.call(i,s),e.C.push(n)}else de("Unrecognized ad statistic element:",n)}Tc.prototype.release=function(){this.l.stop(),this.l=null,ce.prototype.release.call(this)},G("shaka.ui.AdStatisticsButton",Tc);function Np(){}Np.prototype.create=function(e,t){return new Tc(e,t)},Ft("ad_statistics",new Np),Ko("ad_statistics",new Np);function _p(e,t){ce.call(this,e,t);var n=this;this.g=Ze(),this.g.classList.add("shaka-airplay-button"),this.g.classList.add("shaka-tooltip"),this.g.ariaPressed="false",this.h=z("i"),this.h.classList.add("material-icons-round"),this.h.textContent="airplay",this.g.appendChild(this.h),O.WebKitPlaybackTargetAvailabilityEvent||this.g.classList.add("shaka-hidden"),e=z("label"),e.classList.add("shaka-overflow-button-label"),e.classList.add("shaka-overflow-menu-only"),this.j=z("span"),e.appendChild(this.j),this.i=z("span"),this.i.classList.add("shaka-current-selection-span"),e.appendChild(this.i),this.g.appendChild(e),this.parent.appendChild(this.g),Up(this),zE(this),this.eventManager.s(this.localization,"locale-updated",function(){Up(n)}),this.eventManager.s(this.localization,"locale-changed",function(){Up(n)}),this.eventManager.s(this.g,"click",function(){n.controls.wc().webkitShowPlaybackTargetPicker()}),e=this.controls.wc(),this.eventManager.s(e,"webkitplaybacktargetavailabilitychanged",function(i){var r=n.player.sc()==yt;re(n.g,i.availability=="available"&&r)}),this.eventManager.s(e,"webkitcurrentplaybacktargetiswirelesschanged",function(){zE(n)})}pe(_p,ce);function zE(e){var t=e.controls.wc();e.g.ariaPressed=t&&t.webkitCurrentPlaybackTargetIsWireless?"true":"false"}function Up(e){e.g.ariaLabel=e.localization.resolve("AIRPLAY"),e.j.textContent=e.localization.resolve("AIRPLAY")}G("shaka.ui.AirPlayButton",_p);function Op(){}Op.prototype.create=function(e,t){return new _p(e,t)},Ft("airplay",new Op),ft("airplay",new Op);function Pt(e,t,n,i){i=i===void 0?null:i,this.i=e,this.j=t,this.h=Ec(this),t.dataset.shakaPlayerContainer="",t.ui=this,this.yg()&&t.classList.add("shaka-mobile"),this.g=new K(e,t,n,i,this.h),this.configure({}),n.controls||e.ah(t),t.ui=this,n.ui=this}f=Pt.prototype,f.destroy=function(){var e=this;return k(function(t){if(t.g==1)return e.g?T(t,e.g.destroy(),2):t.B(2);if(t.g!=4)return e.g=null,e.i?T(t,e.i.destroy(),4):t.B(4);e.i=null,H(t)})},f.yg=function(){return/(?:iPhone|iPad|iPod|Android)/.test(navigator.userAgent)?!0:ar()&&1<navigator.maxTouchPoints},f.getConfiguration=function(){var e=Ec(this);return Ws(e,this.h,Ec(this),{},""),e},f.configure=function(e,t){arguments.length==2&&typeof e=="string"&&(e=Xs(e,t)),Ws(this.h,e,Ec(this),{},""),this.h.castReceiverAppId&&!this.h.overflowMenuButtons.includes("cast")&&this.h.overflowMenuButtons.push("cast"),this.g.configure(this.h),this.g.dispatchEvent(new V("uiupdated"))},f.gj=function(){return this.g},f.Ik=function(e){this.g.Wg(e)};function Ec(e){var t={controlPanelElements:"play_pause time_and_duration spacer mute volume fullscreen overflow_menu".split(" "),overflowMenuButtons:"captions quality language chapter picture_in_picture cast playback_rate recenter_vr toggle_stereoscopic".split(" "),statisticsList:"width height corruptedFrames decodedFrames droppedFrames drmTimeSeconds licenseTime liveLatency loadLatency bufferingTime manifestTimeSeconds estimatedBandwidth streamBandwidth maxSegmentDuration pauseTime playTime completionPercent manifestSizeBytes bytesDownloaded nonFatalErrorCount manifestPeriodCount manifestGapCount".split(" "),adStatisticsList:"loadTimes averageLoadTime started playedCompletely skipped errors".split(" "),contextMenuElements:["loop","picture_in_picture","save_video_frame","statistics","ad_statistics"],playbackRates:[.5,.75,1,1.25,1.5,1.75,2],fastForwardRates:[2,4,8,1],rewindRates:[-1,-2,-4,-8],addSeekBar:!0,addBigPlayButton:!1,customContextMenu:!1,castReceiverAppId:"",castAndroidReceiverCompatible:!1,clearBufferOnQualityChange:!0,showUnbufferedStart:!1,seekBarColors:{base:"rgba(255, 255, 255, 0.3)",buffered:"rgba(255, 255, 255, 0.54)",played:"rgb(255, 255, 255)",adBreaks:"rgb(255, 204, 0)"},volumeBarColors:{base:"rgba(255, 255, 255, 0.54)",level:"rgb(255, 255, 255)"},trackLabelFormat:Ac,textTrackLabelFormat:Ac,fadeDelay:0,doubleClickForFullscreen:!0,singleClickForPlayAndPause:!0,enableKeyboardPlaybackControls:!0,enableFullscreenOnRotation:!0,forceLandscapeOnFullscreen:!0,enableTooltips:!1,keyboardSeekDistance:5,keyboardLargeSeekDistance:60,fullScreenElement:e.j,preferDocumentPictureInPicture:!0,showAudioChannelCountVariants:!0,seekOnTaps:0<navigator.maxTouchPoints,tapSeekDistance:10,refreshTickInSeconds:.125,displayInVrMode:!1,defaultVrProjectionMode:"equirectangular",setupMediaSession:!0};return"remote"in HTMLMediaElement.prototype?t.overflowMenuButtons.push("remote"):O.WebKitPlaybackTargetAvailabilityEvent&&t.overflowMenuButtons.push("airplay"),e.yg()&&(t.addBigPlayButton=!0,t.controlPanelElements=t.controlPanelElements.filter(function(n){return n!="play_pause"&&n!="volume"})),t.overflowMenuButtons.push("save_video_frame"),t}function KE(){var e,t,n,i,r,o,s,a,u,l,c,h,d,p,m,v,y,E,S,w,A,x;return k(function(I){switch(I.g){case 1:if(sS(),!Ky())return jp("shaka-ui-load-failed",XE),I.return();if(e=document.querySelectorAll("[data-shaka-player-container]"),t=document.querySelectorAll("[data-shaka-player]"),n=document.querySelectorAll("[data-shaka-player-canvas]"),i=document.querySelectorAll("[data-shaka-player-vr-canvas]"),!t.length&&!e.length){I.B(2);break}if(t.length&&!e.length){for(r=g(t),o=r.next();!o.done;o=r.next())s=o.value,s.ui||(a=document.createElement("div"),u=s.parentElement,u.replaceChild(a,s),a.appendChild(s),l=WE(a,n,i),c=l.Sh,h=l.Li,qE(a,s,c,h));I.B(2);break}d=g(e),p=d.next();case 4:if(p.done){I.B(2);break}if(m=p.value,m.ui){I.B(5);break}for(v=null,y=g(t),E=y.next();!E.done;E=y.next())if(S=E.value,S.parentElement==m){v=S;break}return v||(v=document.createElement("video"),v.setAttribute("playsinline",""),m.appendChild(v)),w=WE(m,n,i),A=w.Sh,x=w.Li,Z(I,7),T(I,qE(m,v,A,x),9);case 9:he(I,5);break;case 7:return ee(I),jp("shaka-ui-load-failed",YE),I.return();case 5:p=d.next(),I.B(4);break;case 2:jp("shaka-ui-loaded"),H(I)}})}function jp(e,t){var n=null;t!=null&&(n={reasonCode:t}),e=new CustomEvent(e,{detail:n}),document.dispatchEvent(e)}function qE(e,t,n,i){var r,o,s,a,u,l,c,h,d;return k(function(p){switch(p.g){case 1:return r=new j,o=new Pt(r,e,t,i),r.oh(n),s="",a=!1,e.dataset&&e.dataset.shakaPlayerCastReceiverId?(s=e.dataset.shakaPlayerCastReceiverId,a=e.dataset.shakaPlayerCastAndroidReceiverCompatible==="true"):t.dataset&&t.dataset.shakaPlayerCastReceiverId&&(s=t.dataset.shakaPlayerCastReceiverId,a=t.dataset.shakaPlayerCastAndroidReceiverCompatible==="true"),s.length&&o.configure({castReceiverAppId:s,castAndroidReceiverCompatible:a}),t.controls&&o.g.oi(!0),(u=t.getAttribute("src"))&&(l=document.createElement("source"),l.setAttribute("src",u),t.appendChild(l),t.removeAttribute("src")),T(p,r.$b(t),2);case 2:c=g(t.querySelectorAll("source")),h=c.next();case 3:if(h.done){p.B(0);break}return d=h.value,Z(p,6),T(p,o.g.ld().load(d.getAttribute("src")),8);case 8:p.B(0);break;case 6:ee(p);case 4:h=c.next(),p.B(3)}})}function WE(e,t,n){var i=null;t=g(t);for(var r=t.next();!r.done;r=t.next())if(r=r.value,r.parentElement==e){i=r;break}for(i||(i=document.createElement("canvas"),i.classList.add("shaka-canvas-container"),e.appendChild(i)),t=null,n=g(n),r=n.next();!r.done;r=n.next())if(r=r.value,r.parentElement==e){t=r;break}return t||(t=document.createElement("canvas"),t.classList.add("shaka-vr-canvas-container"),e.appendChild(t)),{Sh:i,Li:t}}G("shaka.ui.Overlay",Pt),Pt.prototype.setEnabled=Pt.prototype.Ik,Pt.prototype.getControls=Pt.prototype.gj,Pt.prototype.configure=Pt.prototype.configure,Pt.prototype.getConfiguration=Pt.prototype.getConfiguration,Pt.prototype.isMobile=Pt.prototype.yg,Pt.prototype.destroy=Pt.prototype.destroy;var Ac=0;Pt.TrackLabelFormat={LANGUAGE:Ac,ROLE:1,LANGUAGE_ROLE:2,LABEL:3};var XE=0,YE=1;Pt.FailReasonCode={NO_BROWSER_SUPPORT:XE,PLAYER_FAILED_TO_LOAD:YE},document.readyState=="complete"?k(function(e){if(e.g==1)return T(e,Promise.resolve(),2);KE(),H(e)}):O.addEventListener("load",KE);function $E(e,t,n,i,r,o,s,a){function u(D){var N="";return D=D.toLowerCase(),D.startsWith("mp4a")?N="AAC":D==="ec-3"||D==="ac-3"?N="Dolby":D==="opus"?N="Opus":D==="flac"&&(N="fLaC"),N&&" "+N}function l(D){var N="";return 5<=D&&(N=" "+o.resolve("SURROUND")),N}function c(D,N,b,_,U){return N=[D,N],a&&_!=null&&N.push(_),d(D)&&U&&N.push(U),b&&s==3&&N.push(b),N.join(": ")}function h(D){return D.type=="variant"?D.audioRoles?D.audioRoles.join(", "):void 0:D.roles.join(", ")}function d(D){return m.has(D)&&1<m.get(D).size}for(var p=e.find(function(D){return D.active==1}),m=new Map,v=g(e),y=v.next();!y.done;y=v.next())y=y.value,y.audioCodec&&(m.has(y.language)||m.set(y.language,new Set),m.get(y.language).add(y.audioCodec));v=dp(t),ni(t),t.appendChild(v),v=new Map,y=g(e);for(var E=y.next();!E.done;E=y.next())E=E.value,v.has(E.language)||v.set(E.language,new Set),v.get(E.language).add(h(E));for(v=new Set,p=p?c(p.language,h(p),p.label,p.channelsCount,p.audioCodec):"",e=g(e),E=e.next(),y={};!E.done;y={Zb:void 0},E=e.next()){y.Zb=E.value,E=y.Zb.language;var S=y.Zb.forced,w=o.resolve("SUBTITLE_FORCED"),A=h(y.Zb),x=y.Zb.label,I=y.Zb.channelsCount,C=y.Zb.audioCodec,L=c(E,A,x,I,C);if(!v.has(L)){v.add(L);var P=Ze();P.addEventListener("click",function(D){return function(){n(D.Zb)}}(y));var M=z("span");switch(P.appendChild(M),M.textContent=CP(E,o),s){case Ac:d(E)&&(M.textContent+=u(C)),a&&(M.textContent+=l(I)),S&&(M.textContent+=" ("+w+")");break;case 1:d(E)&&(M.textContent+=u(C)),a&&(M.textContent+=l(I)),A?M.textContent=A:(de("Track #"+y.Zb.id+" does not have a role, but the UI is configured to only show role."),M.textContent="?"),S&&(M.textContent+=" ("+w+")");break;case 2:d(E)&&(M.textContent+=u(C)),a&&(M.textContent+=l(I)),A&&(M.textContent+=": "+A),S&&(M.textContent+=" ("+w+")");break;case 3:x?M.textContent=x:(de("Track #"+y.Zb.id+" does not have a label, but the UI is configured to only show labels."),M.textContent="?")}i&&L==p&&(P.appendChild(Ho()),M.classList.add("shaka-chosen-item"),P.ariaSelected="true",r.textContent=M.textContent),t.appendChild(P)}}}function CP(e,t){if(!e&&!t)return"";switch(e){case"mul":return t.resolve("MULTIPLE_LANGUAGES");case"und":return t.resolve("UNDETERMINED_LANGUAGE");case"zxx":return t.resolve("NOT_APPLICABLE")}var n=Kr(e);return e in Dr?Dr[e].D:n in Dr?Dr[n].D+" ("+e+")":t.resolve("UNRECOGNIZED_LANGUAGE")+" ("+e+")"}function On(e,t,n){ce.call(this,e,t);var i=this;MP(this,n),kP(this),RP(this),this.eventManager.s(this.button,"click",function(){i.menu.classList.contains("shaka-hidden")?(i.controls.dispatchEvent(new V("submenuopen")),re(i.menu,!0),Vo(i.menu)):re(i.menu,!1)})}pe(On,ce);function MP(e,t){e.button=Ze(),e.button.classList.add("shaka-overflow-button"),e.icon=z("i"),e.icon.classList.add("material-icons-round"),e.icon.textContent=t,e.button.appendChild(e.icon),t=z("label"),t.classList.add("shaka-overflow-button-label"),t.classList.add("shaka-overflow-menu-only"),e.nameSpan=z("span"),t.appendChild(e.nameSpan),e.currentSelection=z("span"),e.currentSelection.classList.add("shaka-current-selection-span"),t.appendChild(e.currentSelection),e.button.appendChild(t),e.parent.appendChild(e.button)}function kP(e){e.menu=z("div"),e.menu.classList.add("shaka-no-propagation"),e.menu.classList.add("shaka-show-controls-on-mouse-over"),e.menu.classList.add("shaka-settings-menu"),e.menu.classList.add("shaka-hidden"),e.backButton=Ze(),e.backButton.classList.add("shaka-back-to-overflow-button"),e.menu.appendChild(e.backButton),e.eventManager.s(e.backButton,"click",function(){e.controls.Nc()});var t=z("i");t.classList.add("material-icons-round"),t.textContent="close",e.backButton.appendChild(t),e.backSpan=z("span"),e.backButton.appendChild(e.backSpan),e.controls.h.appendChild(e.menu)}function RP(e){e.parent.classList.contains("shaka-overflow-menu")&&(e.backButton.firstChild.textContent="arrow_back",e.eventManager.s(e.backButton,"click",function(){function t(n){return n.classList.contains("shaka-hidden")==0}re(e.parent,!0),Zg(e.parent.childNodes,t)&&br(e.parent.childNodes,t)[0].focus(),$n(e.controls)}))}G("shaka.ui.SettingsMenu",On);function bp(e,t){On.call(this,e,t,"language");var n=this;this.button.classList.add("shaka-language-button"),this.button.classList.add("shaka-tooltip-status"),this.menu.classList.add("shaka-audio-languages"),this.eventManager.s(this.localization,"locale-updated",function(){Bp(n)}),this.eventManager.s(this.localization,"locale-changed",function(){Bp(n)}),this.eventManager.s(this.player,"loading",function(){JE(n)}),this.eventManager.s(this.player,"trackschanged",function(){JE(n)}),this.eventManager.s(this.player,"variantchanged",function(){Fp(n)}),Bp(this),Fp(this)}pe(bp,On);function Fp(e){var t=e.player.Jb();$E(t,e.menu,function(n){var i=void 0;n.channelsCount&&e.controls.g.showAudioChannelCountVariants&&(i=n.channelsCount);var r=void 0;n.audioCodec&&(r=n.audioCodec),e.player.Rg(n.language,n.roles[0],i,0,r)},!0,e.currentSelection,e.localization,e.controls.g.trackLabelFormat,e.controls.g.showAudioChannelCountVariants),Vo(e.menu),e.controls.dispatchEvent(new V("languageselectionupdated")),e.button.setAttribute("shaka-status",e.currentSelection.innerText),re(e.button,2<e.menu.getElementsByTagName("button").length)}function JE(e){var t=0<e.player.Jb().length;re(e.button,t),Fp(e)}function Bp(e){e.backButton.ariaLabel=e.localization.resolve("BACK"),e.button.ariaLabel=e.localization.resolve("LANGUAGE"),e.nameSpan.textContent=e.localization.resolve("LANGUAGE"),e.backSpan.textContent=e.localization.resolve("LANGUAGE")}G("shaka.ui.AudioLanguageSelection",bp);function Gp(){}Gp.prototype.create=function(e,t){return new bp(e,t)},Ft("language",new Gp),ft("language",new Gp);function Vp(e,t){ce.call(this,e,t);var n=this;this.h=this.controls.G,this.g=Ze(),this.g.classList.add("shaka-cast-button"),this.g.classList.add("shaka-tooltip"),this.g.ariaPressed="false",this.i=z("i"),this.i.classList.add("material-icons-round"),this.i.textContent="cast",this.g.appendChild(this.i),e=z("label"),e.classList.add("shaka-overflow-button-label"),e.classList.add("shaka-overflow-menu-only"),this.l=z("span"),e.appendChild(this.l),this.j=z("span"),this.j.classList.add("shaka-current-selection-span"),e.appendChild(this.j),this.g.appendChild(e),this.parent.appendChild(this.g),Hp(this),QE(this),this.eventManager.s(this.localization,"locale-updated",function(){Hp(n)}),this.eventManager.s(this.localization,"locale-changed",function(){Hp(n)}),this.eventManager.s(this.g,"click",function(){LP(n)}),this.eventManager.s(this.controls,"caststatuschanged",function(){QE(n)})}pe(Vp,ce);function LP(e){var t;k(function(n){if(n.g==1)return e.h.Ra()?(e.h.Di(),n.B(0)):(Z(n,3),e.g.disabled=!0,T(n,e.h.cast(),5));if(n.g!=3)return e.g.disabled=!1,he(n,0);t=ee(n),e.g.disabled=!1,t.code!=8004&&e.controls.dispatchEvent(new V("error",new Map().set("detail",t))),H(n)})}function QE(e){var t=e.h.If()&&e.controls.ra,n=e.h.Ra();re(e.g,t),e.i.textContent=n?"cast_connected":"cast",t&&(e.g.ariaPressed=n?"true":"false"),ZE(e)}function ZE(e){e.j.textContent=e.h.Ra()?e.h.$e():e.localization.resolve("OFF")}function Hp(e){e.g.ariaLabel=e.localization.resolve("CAST"),e.l.textContent=e.localization.resolve("CAST"),ZE(e)}G("shaka.ui.CastButton",Vp);function zp(){}zp.prototype.create=function(e,t){return new Vp(e,t)},Ft("cast",new zp),ft("cast",new zp);function Kp(e,t){On.call(this,e,t,"bookmarks");var n=this;this.button.classList.add("shaka-chapter-button"),this.menu.classList.add("shaka-chapters"),this.button.classList.add("shaka-tooltip-status"),this.g=[],this.h="und",this.eventManager.s(this.localization,"locale-updated",function(){qp(n),wc(n)}),this.eventManager.s(this.localization,"locale-changed",function(){qp(n),wc(n)}),this.eventManager.s(this.player,"unloading",function(){eA(n),n.h="und",n.g=[]}),this.eventManager.s(this.player,"trackschanged",function(){wc(n)}),qp(this),wc(this)}pe(Kp,On);function qp(e){e.backButton.ariaLabel=e.localization.resolve("BACK"),e.button.ariaLabel=e.localization.resolve("CHAPTERS"),e.nameSpan.textContent=e.localization.resolve("CHAPTERS"),e.backSpan.textContent=e.localization.resolve("CHAPTERS")}function eA(e){var t=dp(e.menu);ni(e.menu),e.menu.appendChild(t),re(e.button,!1)}function wc(e){function t(a,u){return!a&&!u||a.id===u.id&&a.title===u.title&&a.startTime===u.startTime&&a.endTime===u.endTime}for(var n="und",i=[],r=g(Array.from(e.localization.g)),o=r.next();!o.done&&(n=o.value,i=e.player.jg(n),!i.length);o=r.next());if(i.length||(n="und",i=e.player.jg(n)),r=n!==e.h,o=e.g.length!==i.length||!e.g.some(function(a,u){return u=i.at(u),t(a,u)||i.some(function(l){return t(a,l)})}),e.h=n,e.g=i,!i.length)eA(e);else if(r||o){for(n=g(e.g),o=n.next(),r={};!o.done;r={Kf:void 0},o=n.next()){r.Kf=o.value,o=Ze();var s=z("span");s.classList.add("shaka-chapter"),s.textContent=r.Kf.title,o.appendChild(s),e.eventManager.s(o,"click",function(a){return function(){e.video.currentTime=a.Kf.startTime}}(r)),e.menu.appendChild(o)}re(e.button,!0),Vo(e.menu)}}G("shaka.ui.ChapterSelection",Kp);function Wp(){}Wp.prototype.create=function(e,t){return new Kp(e,t)},Ft("chapter",new Wp),ft("chapter",new Wp);function Xp(e,t){ce.call(this,e,t);var n=this;this.g=Ze(),this.g.classList.add("material-icons-round"),this.g.classList.add("shaka-fast-forward-button"),this.g.classList.add("shaka-tooltip-status"),this.g.setAttribute("shaka-status","1x"),this.g.textContent="fast_forward",this.parent.appendChild(this.g),Yp(this),this.h=this.controls.g.fastForwardRates,this.eventManager.s(this.localization,"locale-updated",function(){Yp(n)}),this.eventManager.s(this.localization,"locale-changed",function(){Yp(n)}),this.eventManager.s(this.g,"click",function(){if(n.video.duration){var i=n.h.indexOf(n.player.Va())+1;i=i!=n.h.length?n.h[i]:n.h[0],n.player.Yc(i),n.g.setAttribute("shaka-status",i+"x")}})}pe(Xp,ce);function Yp(e){e.g.ariaLabel=e.localization.resolve("FAST_FORWARD")}G("shaka.ui.FastForwardButton",Xp);function tA(){}tA.prototype.create=function(e,t){return new Xp(e,t)},ft("fast_forward",new tA);function $p(e,t){ce.call(this,e,t);var n=this;this.h=this.controls.o,this.g=Ze(),this.g.classList.add("shaka-fullscreen-button"),this.g.classList.add("material-icons-round"),this.g.classList.add("shaka-tooltip"),Jp(this),this.g.textContent="fullscreen",this.parent.appendChild(this.g),xc(this),this.eventManager.s(this.localization,"locale-updated",function(){xc(n)}),this.eventManager.s(this.localization,"locale-changed",function(){xc(n)}),this.eventManager.s(this.g,"click",function(){return k(function(i){return T(i,n.controls.lf(),0)})}),this.eventManager.s(document,"fullscreenchange",function(){n.g.textContent=n.controls.nd()?"fullscreen_exit":"fullscreen",xc(n)}),this.eventManager.s(this.h,"loadedmetadata",function(){Jp(n)}),this.eventManager.s(this.h,"loadeddata",function(){Jp(n)})}pe($p,ce);function Jp(e){e.controls.Pd()?e.g.classList.remove("shaka-hidden"):e.g.classList.add("shaka-hidden")}function xc(e){e.g.ariaLabel=e.localization.resolve(e.controls.nd()?"EXIT_FULL_SCREEN":"FULL_SCREEN")}G("shaka.ui.FullscreenButton",$p);function nA(){}nA.prototype.create=function(e,t){return new $p(e,t)},ft("fullscreen",new nA);function Ic(e,t){ce.call(this,e,t);var n=this;this.g=Ze(),this.g.classList.add("shaka-loop-button"),this.g.classList.add("shaka-tooltip"),this.i=z("i"),this.i.classList.add("material-icons-round"),this.i.textContent="repeat",this.g.appendChild(this.i),e=z("label"),e.classList.add("shaka-overflow-button-label"),e.classList.add("shaka-overflow-menu-only"),this.l=z("span"),this.l.textContent=this.localization.resolve("LOOP"),e.appendChild(this.l),this.j=z("span"),this.j.classList.add("shaka-current-selection-span"),e.appendChild(this.j),this.g.appendChild(e),Cc(this),this.parent.appendChild(this.g),this.eventManager.s(this.localization,"locale-updated",function(){Cc(n)}),this.eventManager.s(this.localization,"locale-changed",function(){Cc(n)}),this.eventManager.s(this.g,"click",function(){n.video.loop=!n.video.loop,n.h.Sa(),n.h.Ba(1)}),this.m=this.video.loop,this.h=new oe(function(){n.m!=n.video.loop&&(Cc(n),n.m=n.video.loop)}),this.h.Ba(1)}pe(Ic,ce),Ic.prototype.release=function(){this.h.stop(),this.h=null,ce.prototype.release.call(this)};function Cc(e){e.l.textContent=e.localization.resolve("LOOP"),e.j.textContent=e.localization.resolve(e.video.loop?"ON":"OFF"),e.i.textContent=e.video.loop?"repeat_on":"repeat",e.g.ariaLabel=e.localization.resolve(e.video.loop?"EXIT_LOOP_MODE":"ENTER_LOOP_MODE")}G("shaka.ui.LoopButton",Ic);function Mc(){}Mc.prototype.create=function(e,t){return new Ic(e,t)},Ft("loop",new Mc),ft("loop",new Mc),Ko("loop",new Mc);function Qp(e,t){ce.call(this,e,t);var n=this;this.g=Ze(),this.g.classList.add("shaka-mute-button"),this.g.classList.add("material-icons-round"),this.g.classList.add("shaka-tooltip"),this.parent.appendChild(this.g),_r(this),ja(this),this.eventManager.s(this.localization,"locale-updated",function(){_r(n)}),this.eventManager.s(this.localization,"locale-changed",function(){_r(n)}),this.eventManager.s(this.g,"click",function(){n.ad&&n.ad.isLinear()?n.ad.setMuted(!n.ad.isMuted()):n.video.muted=!n.video.muted}),this.eventManager.s(this.video,"volumechange",function(){_r(n),ja(n)}),this.eventManager.s(this.adManager,"ad-volume-changed",function(){_r(n),ja(n)}),this.eventManager.s(this.adManager,"ad-muted",function(){_r(n),ja(n)}),this.eventManager.s(this.adManager,"ad-stopped",function(){n.ad=null,_r(n),ja(n)})}pe(Qp,ce);function _r(e){var t=e.ad?e.ad.isMuted()?"UNMUTE":"MUTE":e.video.muted?"UNMUTE":"MUTE";e.g.ariaLabel=e.localization.resolve(t)}function ja(e){var t=e.ad?e.ad.isMuted()?"volume_off":"volume_up":e.video.muted?"volume_off":"volume_up";e.g.textContent=t}G("shaka.ui.MuteButton",Qp);function iA(){}iA.prototype.create=function(e,t){return new Qp(e,t)},ft("mute",new iA);function Zp(e,t){ce.call(this,e,t);var n=this;this.l=this.controls.o,this.g=Ze(),this.g.classList.add("shaka-pip-button"),this.g.classList.add("shaka-tooltip"),this.i=z("i"),this.i.classList.add("material-icons-round"),this.i.textContent="picture_in_picture_alt",this.g.appendChild(this.i),e=z("label"),e.classList.add("shaka-overflow-button-label"),e.classList.add("shaka-overflow-menu-only"),this.j=z("span"),this.j.textContent=this.localization.resolve("PICTURE_IN_PICTURE"),e.appendChild(this.j),this.h=z("span"),this.h.classList.add("shaka-current-selection-span"),e.appendChild(this.h),this.g.appendChild(e),eg(this),this.parent.appendChild(this.g),this.controls.Ie()||re(this.g,!1),this.eventManager.s(this.localization,"locale-updated",function(){eg(n)}),this.eventManager.s(this.localization,"locale-changed",function(){eg(n)}),this.eventManager.s(this.g,"click",function(){n.controls.zd()}),this.eventManager.s(this.l,"enterpictureinpicture",function(){rA(n)}),this.eventManager.s(this.l,"leavepictureinpicture",function(){oA(n)}),this.eventManager.s(this.controls,"caststatuschanged",function(){sA(n)}),this.eventManager.s(this.player,"trackschanged",function(){sA(n)}),"documentPictureInPicture"in O&&this.eventManager.s(O.documentPictureInPicture,"enter",function(i){rA(n),n.eventManager.sa(i.window,"pagehide",function(){oA(n)})})}pe(Zp,ce);function rA(e){e.i.textContent="branding_watermark",e.g.ariaLabel=e.localization.resolve("EXIT_PICTURE_IN_PICTURE"),e.h.textContent=e.localization.resolve("ON")}function oA(e){e.i.textContent="picture_in_picture_alt",e.g.ariaLabel=e.localization.resolve("ENTER_PICTURE_IN_PICTURE"),e.h.textContent=e.localization.resolve("OFF")}function eg(e){e.j.textContent=e.localization.resolve("PICTURE_IN_PICTURE");var t=e.controls.Je();e.g.ariaLabel=e.localization.resolve(t?"EXIT_PICTURE_IN_PICTURE":"ENTER_PICTURE_IN_PICTURE"),e.h.textContent=e.localization.resolve(t?"ON":"OFF")}function sA(e){k(function(t){return e.controls.Ie()&&(!e.player||!e.player.Pc())?(re(e.g,!0),t.B(0)):(re(e.g,!1),e.controls.Je()?T(t,e.controls.zd(),0):t.B(0))})}G("shaka.ui.PipButton",Zp);function kc(){}kc.prototype.create=function(e,t){return new Zp(e,t)},Ft("picture_in_picture",new kc),ft("picture_in_picture",new kc),Ko("picture_in_picture",new kc);function tg(e,t){On.call(this,e,t,"slow_motion_video");var n=this;this.button.classList.add("shaka-playbackrate-button"),this.menu.classList.add("shaka-playback-rates"),this.button.classList.add("shaka-tooltip-status"),this.eventManager.s(this.localization,"locale-updated",function(){ng(n)}),this.eventManager.s(this.localization,"locale-changed",function(){ng(n)}),this.eventManager.s(this.player,"loaded",function(){ig(n,n.player.Va())}),this.eventManager.s(this.player,"ratechange",function(){ig(n,n.player.Va())}),this.g=new Map(this.controls.g.playbackRates.map(function(i){return[i+"x",i]})),ng(this),PP(this),ig(this,this.player.Va())}pe(tg,On);function ng(e){e.backButton.ariaLabel=e.localization.resolve("BACK"),e.button.ariaLabel=e.localization.resolve("PLAYBACK_RATE"),e.nameSpan.textContent=e.localization.resolve("PLAYBACK_RATE"),e.backSpan.textContent=e.localization.resolve("PLAYBACK_RATE")}function ig(e,t){var n=fp(e.menu,"material-icons-round shaka-chosen-item");if(n){var i=n.parentElement;i.removeAttribute("aria-selected"),i.getElementsByTagName("span")[0].classList.remove("shaka-chosen-item"),i.removeChild(n)}(n=Array.from(e.menu.querySelectorAll("span")).find(function(r){return e.g.get(r.textContent)==t}))&&(i=n.parentElement,i.appendChild(Ho()),i.ariaSelected="true",n.classList.add("shaka-chosen-item")),e.currentSelection.textContent=t+"x",e.button.setAttribute("shaka-status",t+"x")}function PP(e){for(var t=g(e.g.keys()),n=t.next(),i={};!n.done;i={Ze:void 0},n=t.next()){i.Ze=n.value,n=Ze();var r=z("span");r.textContent=i.Ze,n.appendChild(r),e.eventManager.s(n,"click",function(o){return function(){e.video.playbackRate=e.g.get(o.Ze),e.video.defaultPlaybackRate=e.g.get(o.Ze)}}(i)),e.menu.appendChild(n)}Vo(e.menu)}G("shaka.ui.PlaybackRateSelection",tg);function rg(){}rg.prototype.create=function(e,t){return new tg(e,t)},Ft("playback_rate",new rg),ft("playback_rate",new rg);function og(e,t){ce.call(this,e,t);var n=this;this.g=Ze(),this.g.classList.add("shaka-current-time"),ba(this,"0:00"),this.parent.appendChild(this.g),this.eventManager.s(this.g,"click",function(){n.player.T()&&(n.video.currentTime=n.player.Ga().end)}),this.eventManager.s(this.player,"loading",function(){re(n.g,!0)}),this.eventManager.s(this.controls,"timeandseekrangeupdated",function(){var i=n.controls.Y,r=n.controls.kg(),o=n.player.Ga(),s=o.end-o.start;isFinite(s)?n.player.T()?(r=Math.max(0,Math.floor(o.end-r)),s=3600<=s,1<=r||i?(ba(n,"- "+zo(r,s)),n.g.disabled=!1):(ba(n,n.localization.resolve("LIVE")),n.g.disabled=!0)):(i=3600<=s,r=zo(Math.max(0,r-o.start),i),s&&(r+=" / "+zo(s,i)),ba(n,r),n.g.disabled=!0):(ba(n,n.localization.resolve("LIVE")),n.g.disabled=!0)}),this.eventManager.s(this.player,"trackschanged",function(){n.player.T()&&(n.g.ariaLabel=n.localization.resolve("SKIP_TO_LIVE"))}),this.eventManager.s(this.adManager,"ad-started",function(){re(n.g,!1)}),this.eventManager.s(this.adManager,"ad-stopped",function(){re(n.g,!0)})}pe(og,ce);function ba(e,t){t!=e.g.textContent&&(e.g.textContent=t)}G("shaka.ui.PresentationTimeTracker",og);function aA(){}aA.prototype.create=function(e,t){return new og(e,t)},ft("time_and_duration",new aA);function sg(e,t){ce.call(this,e,t);var n=this;this.g=Ze(),this.g.classList.add("shaka-recenter-vr-button"),this.g.classList.add("shaka-tooltip"),this.g.ariaPressed="false",this.h=z("i"),this.h.classList.add("material-icons-round"),this.h.textContent="control_camera",this.g.appendChild(this.h),e=z("label"),e.classList.add("shaka-overflow-button-label"),e.classList.add("shaka-overflow-menu-only"),this.j=z("span"),e.appendChild(this.j),this.i=z("span"),this.i.classList.add("shaka-current-selection-span"),e.appendChild(this.i),this.g.appendChild(e),this.parent.appendChild(this.g),ag(this),this.eventManager.s(this.localization,"locale-updated",function(){ag(n)}),this.eventManager.s(this.localization,"locale-changed",function(){ag(n)});var i=this.controls.u;this.eventManager.s(this.g,"click",function(){i.g?Cp(i.g):de("Not playing VR content")}),this.eventManager.s(i,"vrstatuschanged",function(){re(n.g,n.controls.Lb())}),re(this.g,this.controls.Lb())}pe(sg,ce);function ag(e){e.g.ariaLabel=e.localization.resolve("RECENTER_VR"),e.j.textContent=e.localization.resolve("RECENTER_VR")}G("shaka.ui.RecenterVRButton",sg);function ug(){}ug.prototype.create=function(e,t){return new sg(e,t)},Ft("recenter_vr",new ug),ft("recenter_vr",new ug);function Rc(e,t){ce.call(this,e,t);var n=this;this.g=Ze(),this.g.classList.add("shaka-remote-button"),this.g.classList.add("shaka-tooltip"),this.g.ariaPressed="false",this.i=z("i"),this.i.classList.add("material-icons-round"),e="cast",(t=Bi())&&13<=t&&(e="airplay"),this.i.textContent=e,this.g.appendChild(this.i),e=z("label"),e.classList.add("shaka-overflow-button-label"),e.classList.add("shaka-overflow-menu-only"),this.l=z("span"),e.appendChild(this.l),this.j=z("span"),this.j.classList.add("shaka-current-selection-span"),e.appendChild(this.j),this.g.appendChild(e),this.parent.appendChild(this.g),this.h=-1,lg(this),re(this.g,!1),this.video.remote?(this.eventManager.s(this.localization,"locale-updated",function(){lg(n)}),this.eventManager.s(this.localization,"locale-changed",function(){lg(n)}),this.eventManager.s(this.controls,"caststatuschanged",function(){Jo(n)}),this.eventManager.s(this.g,"click",function(){n.video.remote.prompt()}),this.eventManager.s(this.video.remote,"connect",function(){Jo(n)}),this.eventManager.s(this.video.remote,"connecting",function(){Jo(n)}),this.eventManager.s(this.video.remote,"disconnect",function(){Jo(n)}),this.eventManager.s(this.player,"loaded",function(){Jo(n)}),Jo(this)):this.g.classList.add("shaka-hidden")}pe(Rc,ce),Rc.prototype.release=function(){this.video.remote&&this.h!=-1&&this.video.remote.cancelWatchAvailability(this.h).catch(function(){}),ce.prototype.release.call(this)};function Jo(e){var t,n;k(function(i){switch(i.g){case 1:if(e.controls.G.If()&&e.controls.ra){re(e.g,!1),e.h!=-1&&(e.video.remote.cancelWatchAvailability(e.h),e.h=-1),i.B(0);break}if(e.video.remote.state=="disconnected"){if(t=function(r){if(e.player){var o=e.video.disableRemotePlayback;re(e.g,e.player.sc()==yt&&r&&!o)}else re(e.g,!1)},Z(i,7),e.h==-1){i.B(9);break}return T(i,e.video.remote.cancelWatchAvailability(e.h),10)}if(e.h==-1){i.B(0);break}return T(i,e.video.remote.cancelWatchAvailability(e.h),6);case 6:e.h=-1,i.B(0);break;case 10:e.h=-1;case 9:he(i,8);break;case 7:ee(i);case 8:return Z(i,11),T(i,e.video.remote.watchAvailability(t),13);case 13:n=i.h,e.h=n,he(i,0);break;case 11:ee(i),t(!0),H(i)}})}function lg(e){var t=e.localization.resolve("CAST"),n=Bi();n&&13<=n&&(t=e.localization.resolve("AIRPLAY")),e.g.ariaLabel=t,e.l.textContent=t}G("shaka.ui.RemoteButton",Rc);function cg(){}cg.prototype.create=function(e,t){return new Rc(e,t)},Ft("remote",new cg),ft("remote",new cg);function hg(e,t){On.call(this,e,t,"settings");var n=this;this.button.classList.add("shaka-resolution-button"),this.button.classList.add("shaka-tooltip-status"),this.menu.classList.add("shaka-resolutions"),this.eventManager.s(this.localization,"locale-updated",function(){dg(n)}),this.eventManager.s(this.localization,"locale-changed",function(){dg(n)}),this.eventManager.s(this.player,"loading",function(){Qo(n)}),this.eventManager.s(this.player,"variantchanged",function(){Qo(n)}),this.eventManager.s(this.player,"trackschanged",function(){Qo(n)}),this.eventManager.s(this.player,"abrstatuschanged",function(){Qo(n)}),Qo(this)}pe(hg,On);function Qo(e){var t=[];e.player.sc()!=yt&&(t=e.player.Jb());var n=t.find(function(u){return u.active});n&&(t=t.filter(function(u){if(u.language!=n.language||e.controls.g.showAudioChannelCountVariants&&u.channelsCount&&n.channelsCount&&u.channelsCount!=n.channelsCount)return!1;var l=e.controls.g.trackLabelFormat;return!((l==1||l==2)&&JSON.stringify(u.audioRoles)!=JSON.stringify(n.audioRoles)||l==3&&u.label!=n.label)})),t=e.player.Pc()?t.filter(function(u,l){return t.findIndex(function(c){return c.bandwidth==u.bandwidth})==l}):1<[].concat(X(new Set(t.map(function(u){return u.audioId})))).filter(Ei).length?t.filter(function(u,l){return t.findIndex(function(c){return c.height==u.height&&c.videoBandwidth==u.videoBandwidth&&c.frameRate==u.frameRate&&c.hdr==u.hdr&&c.videoLayout==u.videoLayout})==l}):t.filter(function(u,l){return t.findIndex(function(c){return c.height==u.height&&c.bandwidth==u.bandwidth&&c.frameRate==u.frameRate&&c.hdr==u.hdr&&c.videoLayout==u.videoLayout})==l}),e.player.Pc()?t.sort(function(u,l){return l.bandwidth-u.bandwidth}):t.sort(function(u,l){return l.height==u.height||u.height==null||l.height==null?l.bandwidth-u.bandwidth:l.height-u.height});var i=dp(e.menu);ni(e.menu),e.menu.appendChild(i),i=e.player.getConfiguration().abr.enabled;for(var r=g(t),o=r.next(),s={};!o.done;s={Ec:void 0},o=r.next()){s.Ec=o.value,o=Ze(),o.classList.add("explicit-resolution"),e.eventManager.s(o,"click",function(u){return function(){var l=u.Ec;e.player.configure({abr:{enabled:!1}}),e.player.gf(l,e.controls.g.clearBufferOnQualityChange)}}(s));var a=z("span");a.textContent=!e.player.Pc()&&s.Ec.height&&s.Ec.width?DP(s.Ec,t):s.Ec.bandwidth?Math.round(s.Ec.bandwidth/1e3)+" kbits/s":"Unknown",o.appendChild(a),i||s.Ec!=n||(o.ariaSelected="true",o.appendChild(Ho()),a.classList.add("shaka-chosen-item"),e.currentSelection.textContent=a.textContent),e.menu.appendChild(o)}r=Ze(),r.classList.add("shaka-enable-abr-button"),e.eventManager.s(r,"click",function(){e.player.configure({abr:{enabled:!0}}),Qo(e)}),e.g=z("span"),e.g.classList.add("shaka-auto-span"),e.g.textContent=e.localization.resolve("AUTO_QUALITY"),r.appendChild(e.g),i&&(r.ariaSelected="true",r.appendChild(Ho()),e.g.classList.add("shaka-chosen-item"),e.currentSelection.textContent=e.localization.resolve("AUTO_QUALITY")),e.button.setAttribute("shaka-status",e.currentSelection.textContent),e.menu.appendChild(r),Vo(e.menu),e.controls.dispatchEvent(new V("resolutionselectionupdated")),dg(e),re(e.button,1<t.length)}function DP(e,t){var n=e.height||0,i=e.width||0,r=n;i/n>16/9&&(r=Math.round(9*i/16)),n=r+"p",r==2160&&(n="4K"),r=new Set,i=g(t);for(var o=i.next();!o.done;o=i.next())o=o.value,o.frameRate&&r.add(Math.round(o.frameRate));return 1<r.size&&(r=e.frameRate)&&(50<=r||20>=r)&&(n+=Math.round(e.frameRate)),(e.hdr=="PQ"||e.hdr=="HLG")&&(n+=" (HDR)"),e.videoLayout=="CH-STEREO"&&(n+=" (3D)"),t.some(function(s){return s!=e&&s.height==e.height})&&(n+=" ("+Math.round((e.videoBandwidth||e.bandwidth)/1e3)+" kbits/s)"),n}function dg(e){var t=e.player.Pc()?"QUALITY":"RESOLUTION";e.button.ariaLabel=e.localization.resolve(t),e.backButton.ariaLabel=e.localization.resolve(t),e.backSpan.textContent=e.localization.resolve(t),e.nameSpan.textContent=e.localization.resolve(t),e.g.textContent=e.localization.resolve("AUTO_QUALITY"),e.player.getConfiguration().abr.enabled&&(e.currentSelection.textContent=e.localization.resolve("AUTO_QUALITY"))}G("shaka.ui.ResolutionSelection",hg);function fg(){}fg.prototype.create=function(e,t){return new hg(e,t)},Ft("quality",new fg),ft("quality",new fg);function pg(e,t){ce.call(this,e,t);var n=this;this.g=Ze(),this.g.classList.add("material-icons-round"),this.g.classList.add("shaka-rewind-button"),this.g.classList.add("shaka-tooltip-status"),this.g.setAttribute("shaka-status",this.localization.resolve("OFF")),this.g.textContent="fast_rewind",this.parent.appendChild(this.g),gg(this),this.h=this.controls.g.rewindRates,this.eventManager.s(this.localization,"locale-updated",function(){gg(n)}),this.eventManager.s(this.localization,"locale-changed",function(){gg(n)}),this.eventManager.s(this.g,"click",function(){if(n.video.duration){var i=n.h.indexOf(n.player.Va())+1;i=i!=n.h.length?n.h[i]:n.h[0],n.player.Yc(i),n.g.setAttribute("shaka-status",i+"x")}})}pe(pg,ce);function gg(e){e.g.ariaLabel=e.localization.resolve("REWIND")}G("shaka.ui.RewindButton",pg);function uA(){}uA.prototype.create=function(e,t){return new pg(e,t)},ft("rewind",new uA);function mg(e,t){ce.call(this,e,t);var n=this;this.g=Ze(),this.g.classList.add("shaka-save.video-frame-button"),this.g.classList.add("shaka-tooltip"),this.h=z("i"),this.h.classList.add("material-icons-round"),this.h.textContent="download",this.g.appendChild(this.h),e=z("label"),e.classList.add("shaka-overflow-button-label"),e.classList.add("shaka-overflow-menu-only"),this.i=z("span"),this.i.textContent=this.localization.resolve("DOWNLOAD_VIDEO_FRAME"),e.appendChild(this.i),this.j=z("span"),this.j.classList.add("shaka-current-selection-span"),e.appendChild(this.j),this.g.appendChild(e),vg(this),this.parent.appendChild(this.g),this.eventManager.s(this.localization,"locale-updated",function(){vg(n)}),this.eventManager.s(this.localization,"locale-changed",function(){vg(n)}),this.eventManager.s(this.g,"click",function(){var i=document.createElement("canvas"),r=i.getContext("2d"),o=n.controls.o;i.width=o.videoWidth,i.height=o.videoHeight,r.drawImage(o,0,0,i.width,i.height),i=i.toDataURL("image/png"),r=document.createElement("a"),r.href=i,r.download="videoframe_"+o.currentTime.toFixed(3)+".png",r.click()}),this.eventManager.s(this.controls.u,"vrstatuschanged",function(){oi(n)}),this.eventManager.s(this.adManager,"ad-started",function(){oi(n)}),this.eventManager.s(this.adManager,"ad-stopped",function(){oi(n)}),this.eventManager.s(this.player,"unloading",function(){oi(n)}),this.eventManager.s(this.player,"loaded",function(){oi(n)}),this.eventManager.s(this.player,"loaded",function(){oi(n)}),this.eventManager.s(this.video,"play",function(){oi(n)}),this.eventManager.s(this.video,"pause",function(){oi(n)}),this.eventManager.s(this.video,"seeking",function(){oi(n)}),oi(this)}pe(mg,ce);function oi(e){var t=!0;e.controls.Lb()&&(t=!1),(e.player.drmInfo()||e.player.Pc())&&(t=!1),e.ad&&(t=!1),e.video.remote&&e.video.remote.state!="disconnected"&&(t=!1),re(e.g,t)}function vg(e){e.g.ariaLabel=e.localization.resolve("DOWNLOAD_VIDEO_FRAME"),e.i.textContent=e.localization.resolve("DOWNLOAD_VIDEO_FRAME")}G("shaka.ui.SaveVideoFrameButton",mg);function yg(){}yg.prototype.create=function(e,t){return new mg(e,t)},Ft("save_video_frame",new yg),Ko("save_video_frame",new yg);function Fa(e,t){ri.call(this,e,t),this.button.classList.add("shaka-small-play-button"),this.button.classList.add("material-icons-round"),this.button.classList.add("shaka-tooltip"),this.h(),this.g()}pe(Fa,ri),Fa.prototype.h=function(){this.isEnded()?this.button.textContent="replay":this.button.textContent=this.isPaused()?"play_arrow":"pause"},Fa.prototype.g=function(){if(this.isEnded())this.button.ariaLabel=this.localization.resolve("REPLAY");else{var e=this.isPaused()?"PLAY":"PAUSE";this.button.ariaLabel=this.localization.resolve(e)}},G("shaka.ui.SmallPlayButton",Fa);function lA(){}lA.prototype.create=function(e,t){return new Fa(e,t)},ft("play_pause",new lA);function Tg(e,t){ce.call(this,e,t),e=z("div"),e.classList.add("shaka-spacer"),e.ariaHidden="true",this.parent.appendChild(e)}pe(Tg,ce),G("shaka.ui.Spacer",Tg);function cA(){}cA.prototype.create=function(e,t){return new Tg(e,t)},ft("spacer",new cA);function Lc(e,t){function n(c){return c=parseInt(l.g[c],10),1e6<c?(c/1e6).toFixed(2)+"MB":1e3<c?(c/1e3).toFixed(2)+"KB":c+"B"}function i(c){return l.g[c]+" (gaps)"}function r(c){return zo(l.g[c],!1)+" (m)"}function o(c){return Math.round(l.g[c]/1e3)+" (kbits/s)"}function s(c){return l.g[c].toFixed(2)+" (s)"}function a(c){return l.g[c]+" (frames)"}function u(c){return l.g[c]+" (px)"}ce.call(this,e,t);var l=this;this.i=Ze(),this.i.classList.add("shaka-statistics-button"),this.j=z("i"),this.j.classList.add("material-icons-round"),this.j.textContent="insert_chart_outlined",this.i.appendChild(this.j),e=z("label"),e.classList.add("shaka-overflow-button-label"),this.u=z("span"),e.appendChild(this.u),this.m=z("span"),this.m.classList.add("shaka-current-selection-span"),e.appendChild(this.m),this.i.appendChild(e),this.parent.appendChild(this.i),this.h=z("div"),this.h.classList.add("shaka-no-propagation"),this.h.classList.add("shaka-show-controls-on-mouse-over"),this.h.classList.add("shaka-statistics-container"),this.h.classList.add("shaka-hidden"),this.controls.h.appendChild(this.h),this.C=[],this.G=["stateHistory","switchHistory"],this.g=this.player.getStats(),this.o={},this.A={width:u,height:u,completionPercent:function(c){return l.g[c]+" (%)"},bufferingTime:s,drmTimeSeconds:s,licenseTime:s,liveLatency:s,loadLatency:s,manifestTimeSeconds:s,estimatedBandwidth:o,streamBandwidth:o,maxSegmentDuration:r,pauseTime:r,playTime:r,corruptedFrames:a,decodedFrames:a,droppedFrames:a,stallsDetected:function(c){return l.g[c]+" (stalls)"},gapsJumped:i,manifestSizeBytes:n,bytesDownloaded:n,nonFatalErrorCount:function(c){return l.g[c]+" (errors)"},manifestPeriodCount:function(c){return l.g[c]+" (periods)"},manifestGapCount:i},this.l=new oe(function(){l.g=l.player.getStats();for(var c=g(l.C),h=c.next();!h.done;h=c.next()){h=h.value;var d=l.o[h];d.textContent=l.A[h](h),d&&d.parentElement&&re(d.parentElement,!isNaN(l.g[h]))}}),Pc(this),NP(this),this.eventManager.s(this.localization,"locale-updated",function(){Pc(l)}),this.eventManager.s(this.localization,"locale-changed",function(){Pc(l)}),this.eventManager.s(this.i,"click",function(){re(l.parent,!1),l.h.classList.contains("shaka-hidden")?(l.j.textContent="insert_chart",l.l.Ba(.1),re(l.h,!0)):(l.j.textContent="insert_chart_outlined",l.l.stop(),re(l.h,!1)),Pc(l)})}pe(Lc,ce);function Pc(e){e.u.textContent=e.localization.resolve("STATISTICS"),e.i.ariaLabel=e.localization.resolve("STATISTICS"),e.m.textContent=e.localization.resolve(e.h.classList.contains("shaka-hidden")?"OFF":"ON")}function NP(e){for(var t=g(e.controls.g.statisticsList),n=t.next();!n.done;n=t.next())if(n=n.value,n in e.g&&!e.G.includes(n)){var i=e,r=z("div"),o=z("label");o.textContent=n+":",r.appendChild(o),o=z("span"),o.textContent=i.A[n](n),r.appendChild(o),i.o[n]=o,e.h.appendChild(r),e.C.push(n)}else de("Unrecognized statistic element:",n)}Lc.prototype.release=function(){this.l.stop(),this.l=null,ce.prototype.release.call(this)},G("shaka.ui.StatisticsButton",Lc);function Sg(){}Sg.prototype.create=function(e,t){return new Lc(e,t)},Ft("statistics",new Sg),Ko("statistics",new Sg);function Eg(e,t){On.call(this,e,t,"closed_caption");var n=this;this.button.classList.add("shaka-caption-button"),this.button.classList.add("shaka-tooltip-status"),this.menu.classList.add("shaka-text-languages"),this.player&&this.player.Rc()?this.button.ariaPressed="true":this.button.ariaPressed="false",_P(this),this.eventManager.s(this.localization,"locale-updated",function(){Ag(n),Ur(n)}),this.eventManager.s(this.localization,"locale-changed",function(){Ag(n),Ur(n)}),this.eventManager.s(this.player,"loading",function(){wg(n)}),this.eventManager.s(this.player,"texttrackvisibility",function(){hA(n),Ur(n)}),this.eventManager.s(this.player,"textchanged",function(){Ur(n)}),this.eventManager.s(this.player,"trackschanged",function(){wg(n)}),hA(this),Ag(this),Ur(this),wg(this)}pe(Eg,On);function _P(e){var t=Ze();t.ariaSelected="true",e.menu.appendChild(t),t.appendChild(Ho()),e.g=z("span"),e.g.classList.add("shaka-auto-span"),t.appendChild(e.g)}function hA(e){e.player.Rc()?(e.icon.textContent="closed_caption",e.button.ariaPressed="true"):(e.icon.textContent="closed_caption_disabled",e.button.ariaPressed="false"),e.controls.dispatchEvent(new V("captionselectionupdated"))}function Ur(e){var t=e.player.vc();$E(t,e.menu,function(n){return UP(e,n)},e.player.Rc(),e.currentSelection,e.localization,e.controls.g.textTrackLabelFormat,e.controls.g.showAudioChannelCountVariants),t=Ze(),t.classList.add("shaka-turn-captions-off-button"),e.eventManager.s(t,"click",function(){e.player.jf(!1),Ur(e)}),t.appendChild(e.g),e.menu.appendChild(t),e.player.Rc()||(t.ariaSelected="true",t.appendChild(Ho()),e.g.classList.add("shaka-chosen-item"),e.currentSelection.textContent=e.localization.resolve("OFF")),e.button.setAttribute("shaka-status",e.currentSelection.textContent),Vo(e.menu),e.controls.dispatchEvent(new V("captionselectionupdated"))}function UP(e,t){return k(function(n){return e.player.Tg(t),T(n,e.player.jf(!0),0)})}function Ag(e){e.button.ariaLabel=e.localization.resolve("CAPTIONS"),e.backButton.ariaLabel=e.localization.resolve("BACK"),e.nameSpan.textContent=e.localization.resolve("CAPTIONS"),e.backSpan.textContent=e.localization.resolve("CAPTIONS"),e.g.textContent=e.localization.resolve("OFF")}function wg(e){var t=0<e.player.vc().length;re(e.button,t),Ur(e)}G("shaka.ui.TextSelection",Eg);function xg(){}xg.prototype.create=function(e,t){return new Eg(e,t)},Ft("captions",new xg),ft("captions",new xg);function Ig(e,t){ce.call(this,e,t);var n=this;this.g=Ze(),this.g.classList.add("shaka-toggle-stereoscopic-button"),this.g.classList.add("shaka-tooltip"),this.g.ariaPressed="false",this.h=z("i"),this.h.classList.add("material-icons-round"),this.h.textContent="3d_rotation",this.g.appendChild(this.h),e=z("label"),e.classList.add("shaka-overflow-button-label"),e.classList.add("shaka-overflow-menu-only"),this.j=z("span"),e.appendChild(this.j),this.i=z("span"),this.i.classList.add("shaka-current-selection-span"),e.appendChild(this.i),this.g.appendChild(e),this.parent.appendChild(this.g),Cg(this),this.eventManager.s(this.localization,"locale-updated",function(){Cg(n)}),this.eventManager.s(this.localization,"locale-changed",function(){Cg(n)});var i=this.controls.u;this.eventManager.s(this.g,"click",function(){i.Bd()}),this.eventManager.s(i,"vrstatuschanged",function(){re(n.g,n.controls.Lb())}),re(this.g,this.controls.Lb())}pe(Ig,ce);function Cg(e){e.g.ariaLabel=e.localization.resolve("TOGGLE_STEREOSCOPIC"),e.j.textContent=e.localization.resolve("TOGGLE_STEREOSCOPIC")}G("shaka.ui.ToggleStereoscopicButton",Ig);function Mg(){}Mg.prototype.create=function(e,t){return new Ig(e,t)},Ft("toggle_stereoscopic",new Mg),ft("toggle_stereoscopic",new Mg);function Dc(e,t){dt.call(this,e,t,["shaka-volume-bar-container"],["shaka-volume-bar"]);var n=this;this.g=this.controls.g,this.setRange(0,100),this.eventManager.s(this.video,"volumechange",function(){return kg(n)}),this.eventManager.s(this.adManager,"ad-volume-changed",function(){return dA(n)}),this.eventManager.s(this.adManager,"ad-muted",function(){return dA(n)}),this.eventManager.s(this.adManager,"ad-stopped",function(){return kg(n)}),this.eventManager.s(this.localization,"locale-updated",function(){return Rg(n)}),this.eventManager.s(this.localization,"locale-changed",function(){return Rg(n)}),kg(this),Rg(this),this.ad&&this.onChange()}pe(Dc,dt),Dc.prototype.onChange=function(){this.ad&&this.ad.isLinear()?this.ad.setVolume(this.getValue()/100):(this.video.volume=this.getValue()/100,this.video.muted=this.video.volume==0)};function kg(e){e.video.muted?e.setValue(0):e.setValue(100*e.video.volume),fA(e)}function dA(e){var t=e.ad.getVolume();e.setValue(100*t),fA(e)}function fA(e){var t=e.g.volumeBarColors,n=["to right"];n.push(t.level+e.getValue()+"%"),n.push(t.base+e.getValue()+"%"),n.push(t.base+"100%"),e.container.style.background="linear-gradient("+n.join(",")+")"}function Rg(e){e.bar.ariaLabel=e.localization.resolve("VOLUME")}G("shaka.ui.VolumeBar",Dc);function pA(){}pA.prototype.create=function(e,t){return new Dc(e,t)},ft("volume",new pA)}).call(rr,ss,ss,void 0);for(var Fi in rr.shaka)os[Fi]=rr.shaka[Fi]})()})(Kg);const WP=KP(Kg),JP=qP({__proto__:null,default:WP},[Kg]);export{JP as s};
